//>>built
require({cache:{"url:dojox/layout/resources/ResizeHandle.css":".dojoxResizeHandle{float:right;position:absolute;right:2px;bottom:2px;width:13px;height:13px;z-index:20;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAAtUlEQVR42mL8//8/AyUAIICYGCgEAAFEtAFnz551AuKTQJyALA4QQKS4oA6IzYC4C1kQIIBIMWAZEP+F0nAAEECMlAYiQACx4PMzkGoH4unGxsYLZs2aBeenpaUtgKkDCCAmEvyMNQwAAoiJBD9jDQOAAKI4DAACiAlXPKenpzsB8UkgBvMZGRmdgPgkEKOkA4AAYiLBz1jDACCAmEjwM9YwAAggisMAIIAozkwAAUSxAQABBgCBl0L7jJdTdgAAAABJRU5ErkJggg==);line-height:0px;}.dijitRtl .dojoxResizeHandle{float:right;left:0px;right:auto;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9oFFA0aMPbGg3UAAACNSURBVDjLzdOxDUIxDATQO8RGkRggk6TKiRFoGIARMgBj/D7FjYRCgxDoC4WfUHCN5caynmy21jCTHSbzNsB2sl1tx9ENLgAOAM6jA64Abo/6VTiLuH9tSikJwBHAKee82H72IYRlxKBr0jPomvCnh0QykawkIwBISpKqpPjpTrYarEy2GqxM+F/PNJI7XEZC+6MN6oYAAAAASUVORK5CYII=);}.dojoxResizeNW{cursor:nw-resize;}.dijitRtl .dojoxResizeNW{cursor:ne-resize;}.dojoxResizeNE{cursor:ne-resize;}.dijitRtl .dojoxResizeNE{cursor:nw-resize;}.dojoxResizeW{cursor:w-resize;}.dojoxResizeN{cursor:n-resize;}.dojoxResizeHandleClone{position:absolute;top:0;left:0;border:1px dashed #666;z-index:999;}"}});define("esriviewer/loader/ViewerLoader",["dojo/_base/declare","dojo/_base/window","dojo/_base/lang","dojo/topic","dojo/_base/connect","dojo/dom-class","../base/ViewerGlobals","../manager/ViewerManagerWindow","../util/RegExpUtils","../util/ViewerUtils","../util/GeometryUtils","../map/geometry/base/ProjectionUtils","dojo/on","dojo/io-query","xstyle/css","./base/ViewerPlacementWindow","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/layout/StackController","dijit/layout/AccordionPane","xstyle/css!dojox/layout/resources/ResizeHandle.css"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,on,_d,_e,_f){return _1([],{isDebug:false,constructor:function(_10){_3.mixin(this,_10||{});this._initPageResizeListener();this.viewerConfigurationParameters={useProxyForConfig:false};this.createGlobalClasses();this.initCss();this.processConfigurationSettings();this.createViewerPlacementWindow();this.createViewerManager();this.tweakUI();},_initPageResizeListener:function(){on(window,"resize",_3.hitch(this,function(){_4.publish(VIEWER_GLOBALS.EVENTS.WINDOW.REPOSITION_ALL);}));},initCss:function(){if(this.loadCoreTheme==null||this.loadCoreTheme!=false){_e.load("esriviewer/theme/coreTheme.css",require,_3.hitch(this,function(){this._handleCoreThemeLoaded();}));}else{this._handleCoreThemeLoaded();}},_handleCoreThemeLoaded:function(){_e.load("dijit/themes/tundra/tundra.css",require,function(){});_e.load("esri/css/esri.css",require,function(){});var _11=location.pathname.replace(/[^\/]+$/,"")+"css/overrides.css";_e.load(_11,require,function(){});_4.publish(VIEWER_GLOBALS.EVENTS.CSS.CORE_UI_THEME_LOADED);},createViewerPlacementWindow:function(){this.viewPlacement=new _f({mapDiv:this.mapDiv});},tweakUI:function(){if(VIEWER_UTILS.isHtml5FileUploadSupported()){_5.connect(_2.body(),"dragover",function(e){e.stopPropagation();e.preventDefault();e.dataTransfer.effectAllowed=e.dataTransfer.dropEffect="none";});}_6.add(_2.body(),["defaultTextColor","defaultFont","defaultFontSize"]);},createGlobalClasses:function(){window.VIEWER_GLOBALS=this.createGlobals();window.VIEWER_UTILS=this.createUtils();window.GEOMETRY_UTILS=this.createGeometryUtils();window.REG_EXP_UTILS=this.createRegExpUtils();window.PROJECTION_UTILS=new _c();},processConfigurationSettings:function(){if(window&&window.location&&window.location.href){var _12=window.location.href.substring(window.location.href.indexOf("?")+1,window.location.href.length);this.windowQueryObject=_d.queryToObject(_12);if(this.windowQueryObject!=null&&_3.isObject(this.windowQueryObject)){if(this.windowQueryObject.viewerConfig!=null){this.viewerConfigurationParameters.configUrl=this.windowQueryObject.viewerConfig;this.viewerConfigurationParameters.useProxyForConfig=true;}if(this.windowQueryObject.viewerPositionConfig!=null){this.viewerConfigurationParameters.viewerPositioningConfigUrl=this.windowQueryObject.viewerPositionConfig;this.viewerConfigurationParameters.useProxyForPositionConfig=true;}}}},createGlobals:function(){return new _7();},createGeometryUtils:function(){return new _b();},createUtils:function(){return new _a({isDebug:this.isDebug});},createRegExpUtils:function(){return new _9();},createViewerManager:function(){window.VIEWER_MANAGER=this.createViewerManagerWindow();return window.VIEWER_MANAGER;},createViewerManagerWindow:function(){return new _8(this.viewerConfigurationParameters);}});});