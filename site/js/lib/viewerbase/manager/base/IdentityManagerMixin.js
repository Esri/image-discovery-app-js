//>>built
define("esriviewer/manager/base/IdentityManagerMixin",["dojo/_base/declare","esri/IdentityManager","esri/kernel","dojo/_base/lang","dojo/cookie","dojo/json","dojo/_base/unload"],function(_1,_2,_3,_4,_5,_6,_7){return _1([],{cred:"esri_jsapi_id_manager_data",constructor:function(){_7.addOnUnload(_4.hitch(this,this._storeCredentials));this._loadCredentials();},_loadCredentials:function(){var _8,_9;if(this._supportsLocalStorage()){_8=window.localStorage.getItem(this.cred);}else{_8=_5(cred);}if(_8&&_8!="null"&&_8.length>4){_9=_6.parse(_8);_3.id.initialize(_9);}else{}},_storeCredentials:function(){if(_3.id.credentials.length===0){return;}var _a=_6.stringify(_3.id.toJson());if(this._supportsLocalStorage()){window.localStorage.setItem(this.cred,_a);}else{_5(cred,_a,{expires:1});}},_supportsLocalStorage:function(){try{return "localStorage" in window&&window["localStorage"]!==null;}catch(e){return false;}}});});