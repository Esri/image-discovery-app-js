//>>built
define("esriviewer/ui/configure/ConfigureViewerLocalStorageMixin",["dojo/_base/declare","dojo/has"],function(_1,_2){return _1([],{localStoragePersistSupported:true,constructor:function(){if(!(_2("ie")<8)){this.localStoragePersistSupported=false;}this.storageProvider=dojox.storage.manager.getProvider();if(this.storageProvider){this.localStoragePersistSupported=true;}this.persistedBasemaps=this.loadPersistedBasemaps();this.persistedReferenceLayers=this.loadPersistedReferenceLayers();this.persistedLocators=this.loadPersistedLocators();},deleteUserPersistedReferenceLayer:function(_3){if(this.persistReferenceLayerUrlExists(_3)){var _4=_3.toLowerCase();delete this.persistedReferenceLayers[_4];this.persistReferenceLayers();}},deleteUserPersistedLocator:function(_5){if(this.persistLocatorUrlExists(_5)){var _6=_5.toLowerCase();delete this.persistedLocators[_6];this.persistLocators();}},deleteUserPersistedBasemap:function(_7){if(this.persistBasemapUrlExists(_7)){var _8=_7.toLowerCase();delete this.persistedBasemaps[_8];this.persistBasemaps();}},persistLocatorUrlExists:function(_9){var _a=_9.toLowerCase();return this.persistedLocators[_a]!=null;},persistReferenceLayerUrlExists:function(_b){var _c=_b.toLowerCase();return this.persistedReferenceLayers[_c]!=null;},persistBasemapUrlExists:function(_d){var _e=_d.toLowerCase();return this.persistedBasemaps[_e]!=null;},persistBasemap:function(_f){if(_f==null||_f.label==null||_f.label==""||_f.url==null||_f.url==""){return null;}if(this.persistBasemapUrlExists(_f.url)){return null;}else{var _10=_f.url.toLowerCase();this.persistedBasemaps[_10]=_f;this.persistBasemaps();return _f;}},persistLocator:function(_11){if(_11==null||_11.label==null||_11.label==""||_11.url==null||_11.url==""){return null;}if(this.persistLocatorUrlExists(_11.url)){return null;}else{var _12=_11.url.toLowerCase();this.persistedLocators[_12]=_11;this.persistLocators();return _11;}},persistReferenceLayer:function(_13){if(_13==null||_13.label==null||_13.label==""||_13.url==null||_13.url==""){return null;}if(this.persistReferenceLayerUrlExists(_13.url)){return null;}else{var _14=_13.url.toLowerCase();this.persistedReferenceLayers[_14]=_13;this.persistReferenceLayers();return _13;}},loadPersistedLocators:function(){if(this.storageProvider){if(this.storageProvider.hasKey(VIEWER_GLOBALS.STORAGE.LABELS.LOCATORS)){return this.storageProvider.get(VIEWER_GLOBALS.STORAGE.LABELS.LOCATORS);}}return {};},loadPersistedReferenceLayers:function(){if(this.storageProvider){if(this.storageProvider.hasKey(VIEWER_GLOBALS.STORAGE.LABELS.REFERENCE_LAYERS)){return this.storageProvider.get(VIEWER_GLOBALS.STORAGE.LABELS.REFERENCE_LAYERS);}}return {};},loadPersistedBasemaps:function(){if(this.storageProvider){if(this.storageProvider.hasKey(VIEWER_GLOBALS.STORAGE.LABELS.BASEMAPS)){return this.storageProvider.get(VIEWER_GLOBALS.STORAGE.LABELS.BASEMAPS);}}return {};},persistBasemaps:function(){this.storageProvider.put(VIEWER_GLOBALS.STORAGE.LABELS.BASEMAPS,this.persistedBasemaps);},persistLocators:function(){this.storageProvider.put(VIEWER_GLOBALS.STORAGE.LABELS.LOCATORS,this.persistedLocators);},persistReferenceLayers:function(){this.storageProvider.put(VIEWER_GLOBALS.STORAGE.LABELS.REFERENCE_LAYERS,this.persistedReferenceLayers);}});});