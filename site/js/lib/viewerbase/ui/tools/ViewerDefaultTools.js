//>>built
define("esriviewer/ui/tools/ViewerDefaultTools",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dijit/MenuItem"],function(_1,_2,_3,_4){return _1([],{showPlottingWindowMenuIcon:false,showPrintWindowMenuIcon:false,showPortalPublisherWindowMenuIcon:false,showSocialMediaWindowMenuIcon:false,showConfigureWindowMenuItem:false,showLegendWindowMenuItem:false,showPointUploadWindowMenuItem:false,showLoggingWindowMenuItem:false,showDrawWindowMenuItem:false,showTimeSliderMenuItem:false,showFeatureEditorMenuItem:false,showIdentifyMenuItem:false,showQueryBuilderMenuItem:false,showMeasureMenuItem:false,showReverseGeocodeMenuItem:false,showZoomToMenuItem:false,showPortalSearchMenuItem:false,showLayerTransparencyMenuItem:false,showWeatherWindowMenuItem:false,showReflectivityWindowMenuItem:false,constructor:function(_5){_3.mixin(this,_5||{});this.toolsToAdd=[];this.loadViewerConfigurationData();this._createDefaultToolMenuItems();},_createDefaultToolMenuItems:function(){if(this.showDrawWindowMenuItem){this._createMenuItem("commonIcons16 pencil","Draw",_3.hitch(this,this.handleDrawMenuClick));}if(this.showMeasureMenuItem){this._createMenuItem("commonIcons16 triangle","Measure",_3.hitch(this,this.handleMeasureMenuClick));}if(this.showPortalSearchMenuItem){this._createMenuItem("commonIcons16 magnifyingGlass","Search Portal",_3.hitch(this,this.handlePortalSearchMenuClick));}if(this.showZoomToMenuItem){this._createMenuItem("commonIcons16 magnifyingGlass","Zoom To Location",_3.hitch(this,this.handleZoomToLocationClick));}if(this.showIdentifyMenuItem){this._createMenuItem("commonIcons16 information","Identify",_3.hitch(this,this.handleIdentifyMenuClick));}if(this.showWeatherWindowMenuItem){this._createMenuItem("commonIcons16 weather","Weather",_3.hitch(this,this.handleWeatherMenuClick));}if(VIEWER_UTILS.isHtml5FileUploadSupported()&&this.showPointUploadWindowMenuItem){this._createMenuItem("commonIcons16 upload","CSV Point Upload",_3.hitch(this,this.handlePointUploadMenuClick));}if(this.showLegendWindowMenuItem){this._createMenuItem("commonIcons16 list","Legend",_3.hitch(this,this.handleLegendMenuClick));}if(this.showLoggingWindowMenuItem){this._createMenuItem("commonIcons16 list","Logging",_3.hitch(this,this.handleLoggingMenuClick));}if(this.showTimeSliderMenuItem){this._createMenuItem("commonIcons16 clock","Time Slider",_3.hitch(this,this.handleTimeSliderMenuClick));}if(this.showFeatureEditorMenuItem){this._createMenuItem("commonIcons16 pencil","Feature Editor",_3.hitch(this,this.handleFeatureEditorMenuClick));}if(this.showQueryBuilderMenuItem){this._createMenuItem("commonIcons16 sql","Query Builder",_3.hitch(this,this.handleQueryBuilderMenuClick));}if(this.showReverseGeocodeMenuItem){this._createMenuItem("commonIcons16 information","Find Address",_3.hitch(this,this.handleReverseGeocodeMenuClick));}if(this.showSocialMediaWindowMenuIcon){this._createMenuItem("commonIcons16 binoculars","Social Media",_3.hitch(this,this.handleSocialMediaMenuClick));}if(this.showReflectivityWindowMenuItem){this._createMenuItem("commonIcons16 weather","Reflectivity",_3.hitch(this,this.handleReflectivityMenuClick));}if(this.showLayerTransparencyMenuItem){this._createMenuItem("commonIcons16 slider","Transparency",_3.hitch(this,this.handleLayerTransparencyMenuClick));}if(this.showPortalPublisherWindowMenuIcon){this._createMenuItem("commonIcons16 worldAdd","Publish Web Map",_3.hitch(this,this.handlePortalPublisherMenuClick));}if(this.showPrintWindowMenuIcon){this._createMenuItem("commonIcons16 print","Print",_3.hitch(this,this.handlePrintMenuClick));}if(this.showPlottingWindowMenuIcon){this._createMenuItem("commonIcons16 pushpin","Plotting",_3.hitch(this,this.handlePlottingMenuClick));}this.sortAndAddTools();},sortAndAddTools:function(){this.toolsToAdd.sort(function(a,b){return a.label.localeCompare(b.label);});for(var i=0;i<this.toolsToAdd.length;i++){_2.publish(VIEWER_GLOBALS.EVENTS.TOOLS.MENU.ADD_TOOL,this.toolsToAdd[i]);}},_createMenuItem:function(_6,_7,_8){var _9=new _4({iconClass:_6,label:_7,onClick:_8});this.toolsToAdd.push(_9);},handleTimeSliderMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.MAP.TIME.SHOW_TIME_SLIDER);},handleLayerTransparencyMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.TRANSPARENCY.WINDOW.SHOW);},handleDrawMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.DRAW.SHOW);},handleFeatureEditorMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.FEATURE_EDITOR.SHOW);},handleQueryBuilderMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.QUERY_BUILDER.SHOW);},handleMeasureMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.MEASURE.SHOW);},handleIdentifyMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.IDENTIFY.SHOW);},handleReverseGeocodeMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.REVERSE_GEOCODE.SHOW);},handlePortalSearchMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PORTAL_SEARCH.SHOW);},loadViewerConfigurationData:function(){var _a=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"logging",function(_b){_a=_b;});if(_a&&_3.isObject(_a)&&_a.window!=null){this.showLoggingWindowMenuItem=_a.window.create==null?false:_a.window.create;}var _c=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"configureWidget",function(_d){_c=_d;});if(_c){this.showConfigureWindowMenuItem=_c.create==null||_c.create!=false;}var _e=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"map",function(_f){_e=_f;});if(_e){if(_e.legend==null||_e.legend.create!=false){this.showLegendWindowMenuItem=true;}}var _10=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"socialMediaWidget",function(_11){_10=_11;});if(_10!=null&&_3.isObject(_10)&&_10.create==true){this.showSocialMediaWindowMenuIcon=true;}var _12=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"drawWidget",function(_13){_12=_13;});if(_12!=null&&_3.isObject(_12)&&_12.create==true){this.showDrawWindowMenuItem=true;}var _14=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"timeSliderWidget",function(_15){_14=_15;});if(_14!=null&&_3.isObject(_14)&&_14.create==true){this.showTimeSliderMenuItem=true;}var _16=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"featureEditorWidget",function(_17){_16=_17;});this.showFeatureEditorMenuItem=_16&&_16.service&&_16.service.url;var _18=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"identifyWidget",function(_19){_18=_19;});if(_18!=null&&_3.isObject(_18)&&_18.create==true){this.showIdentifyMenuItem=true;}var _1a=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"layersTransparencyWidget",function(_1b){_1a=_1b;});if(_1a!=null&&_3.isObject(_1a)&&_1a.create==true){this.showLayerTransparencyMenuItem=true;}var _1c=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"zoomToWidget",function(_1d){_1c=_1d;});if(_1c!=null&&_3.isObject(_1c)&&_1c.create==true){this.showZoomToMenuItem=true;}var _1e=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"reflectivityWidget",function(_1f){_1e=_1f;});this.showReflectivityWindowMenuItem=_1e!=null&&_3.isObject(_1e)&&_1e.create===true;var _20=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"weatherWidget",function(_21){_20=_21;});this.showWeatherWindowMenuItem=_20!=null&&_3.isObject(_20)&&_20.create===true;var _22=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"printWidget",function(_23){_22=_23;});this.showPrintWindowMenuIcon=_22!=null&&_3.isObject(_22)&&_22.create===true&&_22.printTaskUrl!=null;var _24=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"pointUploadWidget",function(_25){_24=_25;});this.showPointUploadWindowMenuItem=_24!=null&&_3.isObject(_24)&&_24.create===true;var _26=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"queryBuilder",function(_27){_26=_27;});this.showQueryBuilderMenuItem=_26!=null&&_3.isObject(_26)&&_26.create===true;var _28=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"geometryServiceUrl",function(_29){_28=_29;});if(_28!=null){var _2a=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"measureWidget",function(_2b){_2a=_2b;});if(_2a&&_3.isObject(_2a)){if(_2a.create==true){this.showMeasureMenuItem=true;}}}var _2c=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"locators",function(_2d){_2c=_2d;});if(_2c==null||!_3.isArray(_2c)||_2c.length==0){this.showReverseGeocodeMenuItem=false;}else{var _2e=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"reverseGeocodeWidget",function(_2f){_2e=_2f;});this.showReverseGeocodeMenuItem=_2e&&_3.isObject(_2e)&&_2e.create==true;}var _30=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"portal",function(_31){_30=_31;});if(_30==null||!_3.isObject(_30)){this.showPortalSearchMenuItem=false;this.showPortalPublisherWindowMenuIcon=false;}else{var _32=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"portalSearchWidget",function(_33){_32=_33;});this.showPortalSearchMenuItem=_32&&_3.isObject(_32)&&_32.create==true;var _34=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"portalPublisher",function(_35){_34=_35;});this.showPortalPublisherWindowMenuIcon=_34&&_3.isObject(_34)&&_34.window&&_34.window.create==true;}var _36=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"plottingWidget",function(_37){_36=_37;});this.showPlottingWindowMenuIcon=_36&&_3.isObject(_36)&&_36.create==true;},createConfigurationMenuItem:function(){if(this.showConfigureWindowMenuItem!=false){this._createConfigureMenuItem();}},handlePortalPublisherMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PORTAL_PUBLISH.SHOW);},handlePrintMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PRINT.SHOW);},handlePlottingMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PLOTTING.SHOW);},handleLoggingMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.LOGGING.WINDOW.SHOW);},handleZoomToLocationClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.ZOOM_TO.SHOW);},handleSocialMediaMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.SOCIAL_MEDIA.SHOW);},handleReflectivityMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.REFLECTIVITY.SHOW);},handlePointUploadMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.POINT_UPLOAD.SHOW);},handleWeatherMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.WEATHER.SHOW);},handleLegendMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.LEGEND.SHOW);},_createConfigureMenuItem:function(){var _38=new _4({iconClass:"commonIcons16 gear",label:"Configure",onClick:_3.hitch(this,this.handleConfigureMenuClick)});_2.publish(VIEWER_GLOBALS.EVENTS.TOOLS.MENU.ADD_TOOL,_38);},handleConfigureMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURE.WINDOW.SHOW);}});});