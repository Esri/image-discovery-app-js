//>>built
define("esriviewer/ui/tools/ViewerDefaultTools",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dijit/MenuItem"],function(_1,_2,_3,_4){return _1([],{showPlottingWindowMenuIcon:false,showPrintWindowMenuIcon:false,showPortalPublisherWindowMenuIcon:false,showSocialMediaWindowMenuIcon:false,showConfigureWindowMenuItem:false,showLegendWindowMenuItem:false,showLoggingWindowMenuItem:false,showDrawWindowMenuItem:false,showTimeSliderMenuItem:false,showFeatureEditorMenuItem:false,showIdentifyMenuItem:false,showQueryBuilderMenuItem:false,showMeasureMenuItem:false,showReverseGeocodeMenuItem:false,showZoomToMenuItem:false,showPortalSearchMenuItem:false,showLayerTransparencyMenuItem:false,showWeatherWindowMenuItem:false,showReflectivityWindowMenuItem:false,constructor:function(_5){_3.mixin(this,_5||{});this.toolsToAdd=[];this.loadViewerConfigurationData();this.createDefaultToolMenuItems();},createDefaultToolMenuItems:function(){if(this.showDrawWindowMenuItem){this.createDrawWindowMenuItem();}if(this.showMeasureMenuItem){this.createMeasureMenuItem();}if(this.showPortalSearchMenuItem){this.createPortalSearchMenuItem();}if(this.showZoomToMenuItem){this.createZoomToMenuItem();}if(this.showIdentifyMenuItem){this.createIdentifyMenuItem();}if(this.showWeatherWindowMenuItem){this.createWeatherMenuItem();}if(this.showLegendWindowMenuItem){this.createLegendMenuItem();}if(this.showLoggingWindowMenuItem){this.createLoggingMenuItem();}if(this.showTimeSliderMenuItem){this.createTimeSliderMenuItem();}if(this.showFeatureEditorMenuItem){this.createFeatureEditorMenuItem();}if(this.showQueryBuilderMenuItem){this.createQueryBuilderMenuItem();}if(this.showReverseGeocodeMenuItem){this.createReverseGeocodeMenuItem();}if(this.showSocialMediaWindowMenuIcon){this.createSocialMediaMenuItem();}if(this.showReflectivityWindowMenuItem){this.createReflectivityMenuItem();}if(this.showLayerTransparencyMenuItem){this.createLayerTransparencyMenuItem();}if(this.showPortalPublisherWindowMenuIcon){this.createPortalPublisherMenuItem();}if(this.showPrintWindowMenuIcon){this.createPrintMenuItem();}if(this.showPlottingWindowMenuIcon){this.createPlottingMenuItem();}this.sortAndAddTools();},sortAndAddTools:function(){this.toolsToAdd.sort(function(a,b){return a.label.localeCompare(b.label);});for(var i=0;i<this.toolsToAdd.length;i++){_2.publish(VIEWER_GLOBALS.EVENTS.TOOLS.MENU.ADD_TOOL,this.toolsToAdd[i]);}},createZoomToMenuItem:function(){var _6=new _4({iconClass:"commonIcons16 magnifyingGlass",label:"Zoom To Location",onClick:_3.hitch(this,this.handleZoomToLocationClick)});this.toolsToAdd.push(_6);},createSocialMediaMenuItem:function(){var _7=new _4({iconClass:"commonIcons16 binoculars",label:"Social Media",onClick:_3.hitch(this,this.handleSocialMediaMenuClick)});this.toolsToAdd.push(_7);},createReflectivityMenuItem:function(){var _8=new _4({iconClass:"commonIcons16 weather",label:"Reflectivity",onClick:_3.hitch(this,this.handleReflectivityMenuClick)});this.toolsToAdd.push(_8);},createWeatherMenuItem:function(){var _9=new _4({iconClass:"commonIcons16 weather",label:"Weather",onClick:_3.hitch(this,this.handleWeatherMenuClick)});this.toolsToAdd.push(_9);},createLegendMenuItem:function(){var _a=new _4({iconClass:"commonIcons16 list",label:"Legend",onClick:_3.hitch(this,this.handleLegendMenuClick)});this.toolsToAdd.push(_a);},createLoggingMenuItem:function(){var _b=new _4({iconClass:"commonIcons16 list",label:"Logging",onClick:_3.hitch(this,this.handleLoggingMenuClick)});this.toolsToAdd.push(_b);},createPlottingMenuItem:function(){var _c=new _4({iconClass:"commonIcons16 pushpin",label:"Plotting",onClick:_3.hitch(this,this.handlePlottingMenuClick)});this.toolsToAdd.push(_c);},createPrintMenuItem:function(){var _d=new _4({iconClass:"commonIcons16 print",label:"Print",onClick:_3.hitch(this,this.handlePrintMenuClick)});this.toolsToAdd.push(_d);},createPortalPublisherMenuItem:function(){var _e=new _4({iconClass:"commonIcons16 worldAdd",label:"Publish Web Map",onClick:_3.hitch(this,this.handlePortalPublisherMenuClick)});this.toolsToAdd.push(_e);},createLayerTransparencyMenuItem:function(){var _f=new _4({iconClass:"commonIcons16 slider",label:"Transparency",onClick:_3.hitch(this,this.handleLayerTransparencyMenuClick)});this.toolsToAdd.push(_f);},createPortalSearchMenuItem:function(){var _10=new _4({iconClass:"commonIcons16 magnifyingGlass",label:"Search Portal",onClick:_3.hitch(this,this.handlePortalSearchMenuClick)});this.toolsToAdd.push(_10);},createTimeSliderMenuItem:function(){var _11=new _4({iconClass:"commonIcons16 clock",label:"Time Slider",onClick:_3.hitch(this,this.handleTimeSliderMenuClick)});this.toolsToAdd.push(_11);},createFeatureEditorMenuItem:function(){var _12=new _4({iconClass:"commonIcons16 pencil",label:"Feature Editor",onClick:_3.hitch(this,this.handleFeatureEditorMenuClick)});this.toolsToAdd.push(_12);},createIdentifyMenuItem:function(){var _13=new _4({iconClass:"commonIcons16 information",label:"Identify",onClick:_3.hitch(this,this.handleIdentifyMenuClick)});this.toolsToAdd.push(_13);},createQueryBuilderMenuItem:function(){var _14=new _4({iconClass:"commonIcons16 sql",label:"Query Builder",onClick:_3.hitch(this,this.handleQueryBuilderMenuClick)});this.toolsToAdd.push(_14);},createMeasureMenuItem:function(){var _15=new _4({iconClass:"commonIcons16 triangle",label:"Measure",onClick:_3.hitch(this,this.handleMeasureMenuClick)});this.toolsToAdd.push(_15);},createReverseGeocodeMenuItem:function(){var _16=new _4({iconClass:"commonIcons16 information",label:"Find Address",onClick:_3.hitch(this,this.handleReverseGeocodeMenuClick)});this.toolsToAdd.push(_16);},createDrawWindowMenuItem:function(){var _17=new _4({iconClass:"commonIcons16 pencil",label:"Draw",onClick:_3.hitch(this,this.handleDrawMenuClick)});this.toolsToAdd.push(_17);},handleTimeSliderMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.MAP.TIME.SHOW_TIME_SLIDER);},handleLayerTransparencyMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.TRANSPARENCY.WINDOW.SHOW);},handleDrawMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.DRAW.SHOW);},handleFeatureEditorMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.FEATURE_EDITOR.SHOW);},handleQueryBuilderMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.QUERY_BUILDER.SHOW);},handleMeasureMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.MEASURE.SHOW);},handleIdentifyMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.IDENTIFY.SHOW);},handleReverseGeocodeMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.REVERSE_GEOCODE.SHOW);},handlePortalSearchMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PORTAL_SEARCH.SHOW);},loadViewerConfigurationData:function(){var _18=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"logging",function(_19){_18=_19;});if(_18&&_3.isObject(_18)&&_18.window!=null){this.showLoggingWindowMenuItem=_18.window.create==null?false:_18.window.create;}var _1a=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"configureWidget",function(_1b){_1a=_1b;});if(_1a){this.showConfigureWindowMenuItem=_1a.create==null||_1a.create!=false;}var _1c=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"map",function(_1d){_1c=_1d;});if(_1c){if(_1c.legend==null||_1c.legend.create!=false){this.showLegendWindowMenuItem=true;}}var _1e=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"socialMediaWidget",function(_1f){_1e=_1f;});if(_1e!=null&&_3.isObject(_1e)&&_1e.create==true){this.showSocialMediaWindowMenuIcon=true;}var _20=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"drawWidget",function(_21){_20=_21;});if(_20!=null&&_3.isObject(_20)&&_20.create==true){this.showDrawWindowMenuItem=true;}var _22=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"timeSliderWidget",function(_23){_22=_23;});if(_22!=null&&_3.isObject(_22)&&_22.create==true){this.showTimeSliderMenuItem=true;}var _24=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"featureEditorWidget",function(_25){_24=_25;});this.showFeatureEditorMenuItem=_24&&_24.service&&_24.service.url;var _26=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"identifyWidget",function(_27){_26=_27;});if(_26!=null&&_3.isObject(_26)&&_26.create==true){this.showIdentifyMenuItem=true;}var _28=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"layersTransparencyWidget",function(_29){_28=_29;});if(_28!=null&&_3.isObject(_28)&&_28.create==true){this.showLayerTransparencyMenuItem=true;}var _2a=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"zoomToWidget",function(_2b){_2a=_2b;});if(_2a!=null&&_3.isObject(_2a)&&_2a.create==true){this.showZoomToMenuItem=true;}var _2c=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"reflectivityWidget",function(_2d){_2c=_2d;});this.showReflectivityWindowMenuItem=_2c!=null&&_3.isObject(_2c)&&_2c.create===true;var _2e=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"weatherWidget",function(_2f){_2e=_2f;});this.showWeatherWindowMenuItem=_2e!=null&&_3.isObject(_2e)&&_2e.create===true;var _30=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"printWidget",function(_31){_30=_31;});this.showPrintWindowMenuIcon=_30!=null&&_3.isObject(_30)&&_30.create===true&&_30.printTaskUrl!=null;var _32=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"queryBuilder",function(_33){_32=_33;});this.showQueryBuilderMenuItem=_32!=null&&_3.isObject(_32)&&_32.create===true;var _34=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"geometryServiceUrl",function(_35){_34=_35;});if(_34!=null){var _36=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"measureWidget",function(_37){_36=_37;});if(_36&&_3.isObject(_36)){if(_36.create==true){this.showMeasureMenuItem=true;}}}var _38=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"locators",function(_39){_38=_39;});if(_38==null||!_3.isArray(_38)||_38.length==0){this.showReverseGeocodeMenuItem=false;}else{var _3a=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"reverseGeocodeWidget",function(_3b){_3a=_3b;});this.showReverseGeocodeMenuItem=_3a&&_3.isObject(_3a)&&_3a.create==true;}var _3c=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"portal",function(_3d){_3c=_3d;});if(_3c==null||!_3.isObject(_3c)){this.showPortalSearchMenuItem=false;this.showPortalPublisherWindowMenuIcon=false;}else{var _3e=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"portalSearchWidget",function(_3f){_3e=_3f;});this.showPortalSearchMenuItem=_3e&&_3.isObject(_3e)&&_3e.create==true;var _40=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"portalPublisher",function(_41){_40=_41;});this.showPortalPublisherWindowMenuIcon=_40&&_3.isObject(_40)&&_40.window&&_40.window.create==true;}var _42=null;_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"plottingWidget",function(_43){_42=_43;});this.showPlottingWindowMenuIcon=_42&&_3.isObject(_42)&&_42.create==true;},createConfigurationMenuItem:function(){if(this.showConfigureWindowMenuItem!=false){this._createConfigureMenuItem();}},handlePortalPublisherMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PORTAL_PUBLISH.SHOW);},handlePrintMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PRINT.SHOW);},handlePlottingMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PLOTTING.SHOW);},handleLoggingMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.LOGGING.WINDOW.SHOW);},handleZoomToLocationClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.ZOOM_TO.SHOW);},handleSocialMediaMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.SOCIAL_MEDIA.SHOW);},handleReflectivityMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.REFLECTIVITY.SHOW);},handleWeatherMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.WEATHER.SHOW);},handleLegendMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.WINDOW.LEGEND.SHOW);},_createConfigureMenuItem:function(){var _44=new _4({iconClass:"commonIcons16 gear",label:"Configure",onClick:_3.hitch(this,this.handleConfigureMenuClick)});_2.publish(VIEWER_GLOBALS.EVENTS.TOOLS.MENU.ADD_TOOL,_44);},handleConfigureMenuClick:function(){_2.publish(VIEWER_GLOBALS.EVENTS.CONFIGURE.WINDOW.SHOW);}});});