//>>built
require({cache:{"url:esriviewer/ui/transparency/template/LayersTransparencyWidget.html":"<div class=\"layerTransparencyContent\">\r\n    <div data-dojo-attach-point=\"layersTransparencyContentHeader\"></div>\r\n    <div data-dojo-attach-point=\"layersTransparencySliderContent\" class=\"layerTransparencyContent\"></div>\r\n</div>"}});define("esriviewer/ui/transparency/LayersTransparencyWidget",["dojo/_base/declare","dojo/text!./template/LayersTransparencyWidget.html","dojo/topic","dojo/_base/lang","../base/UITemplatedWidget","dojo/dom-construct","./base/LayerSliderWidget"],function(_1,_2,_3,_4,_5,_6,_7){return _1([_5],{templateString:_2,constructor:function(){this.sliderCache={};},postCreate:function(){this.inherited(arguments);this.populateLayers();},initListeners:function(){this.inherited(arguments);_3.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADDED,_4.hitch(this,this.addLayer));_3.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REMOVED,_4.hitch(this,this.handleLayerRemoved));},addLayer:function(_8){if(this.sliderCache[_8.id]==null){var _9=new _7({layer:_8,label:_8.name});this.sliderCache[_8.id]=_9;_6.place(_9.domNode,this.layersTransparencySliderContent);}},handleLayerRemoved:function(_a){if(_a){if(this.sliderCache[_a.id]!=null){var _b=this.sliderCache[_a.id];_b.destroy();delete this.sliderCache[_a.id];}}},populateLayers:function(){_3.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.OPERATIONAL.GET,_4.hitch(this,function(_c){var _d;for(var i=0;i<_c.length;i++){_d=_c[i];this.addLayer(_d);}}));}});});