//>>built
require({cache:{"url:esriviewer/ui/bookmark/template/CreateBookmarkTemplate.html":"<div class=\"createBookmarkWindow fivePixelBorderRadius defaultBorder defaultBoxShadow\">\r\n    <div class=\"createBookmarkHeader\">\r\n    </div>\r\n    <div class=\"createBookmarkContent\">\r\n        <div class=\"createBookmarkLabelEntry createBookmarkEntry\">\r\n            <span class=\"createBookmarkLabel\">Label:</span>\r\n            <div data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-event=\"onKeyUp: onBookmarkLabelKeyUp\" data-dojo-attach-point=\"bookmarkLabelElement\"></div>\r\n        </div>\r\n    </div>\r\n    <div class=\"createBookmarkActionsContent\">\r\n        <span data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:hide\" class=\"createBookmarkButton\">Cancel</span>\r\n        <span data-dojo-type=\"dijit/form/Button\" class=\"createBookmarkButton\" data-dojo-attach-event=\"onClick:createBookmark\">Create</span>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/bookmark/CreateBookmarkWidget",["dojo/_base/declare","dojo/text!./template/CreateBookmarkTemplate.html","dojo/topic","../base/UITemplatedWidget","dojo/dom-style","dojo/dom-class","dojox/timing","dijit/form/TextBox","dijit/form/Button"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _1([_4],{animate:true,animateOnPlace:false,templateString:_2,postCreate:function(){this.inherited(arguments);this._hideNoAnim();},loadViewerConfigurationData:function(){var _a=null;_3.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"animationsEnabled",function(_b){_a=_b;});if(_a!=null){this.animate=_a;}},show:function(){_6.remove(this.domNode,"createBookmarkWindowHidden");if(this.animate){this._removeAnimationClasses();this.animation=VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.IN;this._animateWidget();}this.bookmarkLabelElement.focus();},_hideNoAnim:function(){_6.add(this.domNode,"createBookmarkWindowHidden");this.bookmarkLabelElement.set("value","");},hide:function(){if(this.animate){this._removeAnimationClasses();this.animation=VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.OUT;this._animateWidget();var _c=new _7.Timer(VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.DURATION);var _d=this;_c.onTick=function(){_6.add(_d.domNode,"createBookmarkWindowHidden");_c.stop();_c=null;};_c.start();}else{_6.add(this.domNode,"createBookmarkWindowHidden");}this.bookmarkLabelElement.set("value","");},onBookmarkLabelKeyUp:function(e){if(VIEWER_UTILS.isEnterKey(e)){this.createBookmark();}},createBookmark:function(){var _e=this.bookmarkLabelElement.get("value");if(_e==""){return;}var _f;var _10;_3.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_CENTER,function(_11){_f=_11;});_3.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_LEVEL,function(_12){_10=_12;});var _13={x:_f.x,y:_f.y,spatialReference:{wkid:_f.spatialReference.wkid}};var id=VIEWER_UTILS.generateUUID();var _14={label:_e,zoomLevel:_10,point:_13};var _15={};_15[id]=_14;VIEWER_UTILS.log("Bookmark Created: "+_e,VIEWER_GLOBALS.LOG_TYPE.INFO);_3.publish(VIEWER_GLOBALS.EVENTS.BOOKMARK.CREATED,_15);this.hide();}});});