//>>built
require({cache:{"url:esriviewer/ui/bookmark/template/CreateBookmarkTemplate.html":"<div class=\"createBookmarkWindow fivePixelBorderRadius defaultBorder defaultBoxShadow\">\r\n    <div class=\"createBookmarkHeader\">\r\n    </div>\r\n    <div class=\"createBookmarkContent\">\r\n        <div class=\"createBookmarkLabelEntry createBookmarkEntry\">\r\n            <span class=\"createBookmarkLabel\">Label:</span>\r\n            <div data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-event=\"onKeyUp: onBookmarkLabelKeyUp\" data-dojo-attach-point=\"bookmarkLabelElement\"></div>\r\n        </div>\r\n    </div>\r\n    <div class=\"createBookmarkActionsContent\">\r\n        <span data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:hide\" class=\"createBookmarkButton\">Cancel</span>\r\n        <span data-dojo-type=\"dijit/form/Button\" class=\"createBookmarkButton\" data-dojo-attach-event=\"onClick:createBookmark\">Create</span>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/bookmark/CreateBookmarkWidget",["dojo/_base/declare","dojo/text!./template/CreateBookmarkTemplate.html","dojo/topic","../base/UITemplatedWidget","dojo/dom-class","dojox/timing","dijit/form/TextBox","dijit/form/Button"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _1([_4],{animate:true,animateOnPlace:false,templateString:_2,postCreate:function(){this.inherited(arguments);this._hideNoAnim();},loadViewerConfigurationData:function(){var _9=null;_3.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"animationsEnabled",function(_a){_9=_a;});if(_9!=null){this.animate=_9;}},show:function(){_5.remove(this.domNode,"createBookmarkWindowHidden");if(this.animate){this._removeAnimationClasses();this.animation=VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.IN;this._animateWidget();}this.bookmarkLabelElement.focus();},_hideNoAnim:function(){_5.add(this.domNode,"createBookmarkWindowHidden");this.bookmarkLabelElement.set("value","");},hide:function(){if(this.animate){this._removeAnimationClasses();this.animation=VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.OUT;this._animateWidget();var _b=new _6.Timer(VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.DURATION);var _c=this;_b.onTick=function(){_5.add(_c.domNode,"createBookmarkWindowHidden");_b.stop();_b=null;};_b.start();}else{_5.add(this.domNode,"createBookmarkWindowHidden");}this.bookmarkLabelElement.set("value","");},onBookmarkLabelKeyUp:function(e){if(VIEWER_UTILS.isEnterKey(e)){this.createBookmark();}},createBookmark:function(){var _d=this.bookmarkLabelElement.get("value");if(_d==""){return;}var _e;var _f;_3.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_CENTER,function(_10){_e=_10;});_3.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_LEVEL,function(_11){_f=_11;});var _12={x:_e.x,y:_e.y,spatialReference:{wkid:_e.spatialReference.wkid}};var id=VIEWER_UTILS.generateUUID();var _13={label:_d,zoomLevel:_f,point:_12};var _14={};_14[id]=_13;VIEWER_UTILS.log("Bookmark Created: "+_d,VIEWER_GLOBALS.LOG_TYPE.INFO);_3.publish(VIEWER_GLOBALS.EVENTS.BOOKMARK.CREATED,_14);this.hide();}});});