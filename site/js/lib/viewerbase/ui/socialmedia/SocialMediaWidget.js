//>>built
require({cache:{"url:esriviewer/ui/socialmedia/theme/SocialMediaWidgetTheme.css":".socialMediaDescriptionLabel{color:blue;margin-right:20px;text-align:right;margin-bottom:8px;margin-top:15px;}.socialMediaSearchEntryLabel{float:left;width:37%;}.socialMediaSearchEntry{margin:5px 0;}.socialMediaSearchButtonsContainer{text-align:right;margin-top:15px;}.socialMediaSearchButtonsContainer button{margin-right:10px;}.socialMediaSearchDistanceEntryContainer{height:20px;}.socialMediaDistanceSliderContainer{width:20%;float:left;margin-top:5px;margin-right:10px;height:20px;}.socialMediaWindowContent{padding-top:0 !important;}.socialMediaTabContainer{margin-bottom:3px !important;font-weight:normal;}.socialMediaTabContainer .socialMediaTabWrapper{border:1px solid #DFDFDF;border-top:0;cursor:pointer;padding:12px;margin:0 3px;-moz-border-radius:0 0 3px 3px;-webkit-border-radius:0 0 3px 3px;border-radius:0 0 3px 3px;}.socialIcons{background:url(data:image/png;base64,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);height:32px;width:32px;}.socialIcons.flickr{background-position:-5px -5px;}.socialIcons.twitter{background-position:-47px -5px;}.socialIcons.youtube{background-position:-5px -47px;}.socialMediaTabIcon{display:inline-block;vertical-align:-12px;margin-top:5px;}","url:esriviewer/ui/socialmedia/template/SocialMediaWidgetTemplate.html":"<div>\r\n    <div class=\"socialMediaTabContainer\">\r\n\r\n        <!--\r\n          <span class=\"socialMediaTabWrapper\" data-bind=\"click:youtubeClick, css: {selectedTab: youtubeSelected}\">\r\n              <div class=\"socialIcons youtube socialMediaTabIcon\"></div>\r\n              <span>YouTube</span>\r\n          </span>\r\n                -->\r\n        <span class=\"socialMediaTabWrapper\" data-bind=\"click:flickrClick, css: {selectedTab: flickrSelected}\">\r\n            <div class=\"socialIcons flickr socialMediaTabIcon\"></div>\r\n                     <span>Flickr</span>\r\n        </span>\r\n        <!--\r\n        <span class=\"socialMediaTabWrapper\"  data-bind=\"click:twitterClick, css: {selectedTab: twitterSelected}\">\r\n            <div class=\"socialIcons twitter socialMediaTabIcon\"></div>\r\n                               <span>Twitter</span>\r\n            </span>\r\n            -->\r\n    </div>\r\n    <!--\r\n    <div class=\"socialMediaWidgetTabContent\" data-dojo-attach-point=\"youtubeContainer\"\r\n         data-bind=\"visible: youtubeSelected\">\r\n    </div>\r\n    -->\r\n    <div class=\"socialMediaWidgetTabContent\" data-dojo-attach-point=\"flickrContainer\"\r\n         data-bind=\"visible: flickrSelected\">\r\n    </div>\r\n    <!--\r\n    <div class=\"socialMediaWidgetTabContent\" data-dojo-attach-point=\"twitterContainer\"\r\n         data-bind=\"visible: twitterSelected\">\r\n    </div>\r\n    -->\r\n</div>"}});define("esriviewer/ui/socialmedia/SocialMediaWidget",["dojo/_base/declare","xstyle/css!./theme/SocialMediaWidgetTheme.css","dojo/text!./template/SocialMediaWidgetTemplate.html","dojo/_base/lang","dojo/dom-style","dojo/topic","../base/UITemplatedWidget","../../base/DataLoaderSupport","./base/flickr/FlickrWidget","./model/SocialMediaViewModel","esri/layers/GraphicsLayer"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){return _1([_7,_8],{templateString:_3,postCreate:function(){this.viewModel=new _a();ko.applyBindings(this.viewModel,this.domNode);this.inherited(arguments);this.initGraphicsLayer();},loadViewerConfigurationData:function(){this.inherited(arguments);var _c=null;_6.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"socialMediaWidget",function(_d){_c=_d;});if(_c&&_4.isObject(_c)&&_c.configurationUrl){this.loadJson(_c.configurationUrl,_4.hitch(this,function(_e){_4.mixin(this,_e||{});this.createSocialMediaWidgets();}));}},stopMapCursorListener:function(){if(this.mapCursorListener){this.mapCursorListener.remove();this.mapCursorListener=null;}},listenForMapCursor:function(){if(this.mapCursorListener==null){var _f;_6.publish(VIEWER_GLOBALS.EVENTS.MAP.GET,function(map){_f=map;});if(_f){this.mapCursorListener=_f.on("extent-change",_4.hitch(this,this._updateCoordinates));}}},_updateCoordinates:function(evt){var _10=evt.extent;var _11=_10.getCenter();var _12;_6.publish(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.PROJECT_TO_LAT_LON,_11,function(_13){if(_13!=null&&_13.length>0){_12=_13[0];}});if(this.flickrWidget){this.flickrWidget.setCoordinate(_12);}},createSocialMediaWidgets:function(){this.createFlickrWidget();var _14;_6.publish(VIEWER_GLOBALS.EVENTS.MAP.GET,function(map){_14=map;});if(_14&&_14.extent){this._updateCoordinates({extent:_14.extent});}},createFlickrWidget:function(){this.flickrWidget=new _9(_4.mixin({defaultSearchKeyword:this.defaultSearchKeyword},this.flickr));this.flickrWidget.on("addGraphic",_4.hitch(this,this.addGraphic));this.flickrWidget.on("removeGraphic",_4.hitch(this,this.removeGraphic));this.flickrWidget.placeAt(this.flickrContainer);},initGraphicsLayer:function(){this.socialMediaGraphicsLayer=new _b();this.socialMediaGraphicsLayer.on("mouse-over",function(evt){_5.set(evt.target,"cursor","pointer");});_6.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADD_EXTERNAL_MANAGED_LAYER,this.socialMediaGraphicsLayer);},addGraphic:function(_15){this.socialMediaGraphicsLayer.add(_15);},clearGraphics:function(){this.socialMediaGraphicsLayer.clear();},removeGraphic:function(_16){this.socialMediaGraphicsLayer.remove(_16);}});});