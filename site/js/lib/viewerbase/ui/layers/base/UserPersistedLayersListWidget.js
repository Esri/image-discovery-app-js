//>>built
require({cache:{"url:esriviewer/ui/layers/base/template/UserPersistedLayersListingTemplate.html":"<div>\r\n    <div class=\"userPersistsedLayersClearContainer\" data-bind=\"visible: hasEntries\">\r\n        <div class=\"userPersistsedLayersClearLbl\" data-bind=\"click:clearEntries\">Clear Entries</div>\r\n    </div>\r\n    <div class=\"addedUserPersistedLayersListContainer\" data-dojo-attach-point=\"addedUserPersistedGraphicsListContainer\">\r\n        <ul class=\"viewerList\" data-bind=\"foreach: addedUserPersistedLayers\">\r\n            <li class=\"graphicsListEntry\">\r\n                <div title=\"Delete Layer\" class=\"viewerListEntryRemoveIcon commonIcons16 remove\"\r\n                     data-bind=\"click:$parent.removeUserPersistedLayer\"></div>\r\n                <div title=\"Add Layer To Map\" class=\"viewerListGenericIcon commonIcons16 layerShow\"\r\n                     data-bind=\"click:$parent.addPersistedLayerToMap\"></div>\r\n                <span class=\"graphicsListEntryLabel\" data-bind=\"text: $data.name\"></span>\r\n\r\n                <div data-bind=\"css: $parent.persistedLayerInfoIconClass, attr:{title:$data.url}\"></div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/layers/base/UserPersistedLayersListWidget",["dojo/_base/declare","dojo/text!./template/UserPersistedLayersListingTemplate.html","../../base/UITemplatedWidget","dojo/_base/lang","./model/UserPersistedLayersListViewModel"],function(_1,_2,_3,_4,_5){return _1([_3],{bindingsApplied:false,templateString:_2,constructor:function(){this.userPersistedGraphics={};},postCreate:function(){this.inherited(arguments);this.viewModel=new _5();this.viewModel.on(this.viewModel.REMOVE_USER_PERSISTED_LAYER,_4.hitch(this,this.handleRemoveUserPersistedLayer));this.viewModel.on(this.viewModel.ADD_USER_PERSISTED_LAYER_TO_MAP,_4.hitch(this,this.handleAddUserPersistedLayerToMap));this.viewModel.on(this.viewModel.CLEAR_USER_PERSISTED_LAYERS,_4.hitch(this,this.handleClearUserPersistedLayers));},applyBindings:function(){if(!this.bindingsApplied){this.bindingsApplied=true;ko.applyBindings(this.viewModel,this.domNode);}},handleAddUserPersistedLayerToMap:function(_6){if(_6==null||!_4.isObject(_6)||_6.url==null||_6.url==""){return;}this.onAddUserPersistedLayerToMap(_6.url,_6.name);},onAddUserPersistedLayerToMap:function(_7,_8){},handleClearUserPersistedLayers:function(){this.onRemoveAllUserPersistedLayers();},handleRemoveUserPersistedLayer:function(_9){if(_9&&_4.isObject(_9)){var id=VIEWER_UTILS.getLayerUniqueId(_9);if(id==null){return;}this.onRemoveUserPersistedLayer(id);}},onRemoveAllUserPersistedLayers:function(){},onRemoveUserPersistedLayer:function(_a){},addExistingPersistedLayerItems:function(_b){for(var _c in _b){this.viewModel.addedUserPersistedLayers.push(_b[_c]);}this.viewModel.sort();this.applyBindings();},addPersistedLayer:function(_d){this.viewModel.addedUserPersistedLayers.push(_d);this.viewModel.sort();}});});