//>>built
define("esriviewer/ui/weather/reflectivity/base/WMSRefreshLayer",["dojo/_base/declare","esri/layers/WMSLayer","dojo/aspect","dojo/_base/lang","dojox/timing"],function(_1,_2,_3,_4,_5){return _1([_2],{refreshInterval:5000,refreshing:false,constructor:function(){this.wmsRefreshTimer=new _5.Timer(this.refreshInterval);this.wmsRefreshTimer.onTick=_4.hitch(this,this.refresh);_3.before(this,"getImageUrl",_4.hitch(this,function(){if(this.refreshing){var _6=arguments[3];arguments[3]=_4.hitch(this,this._getRefreshImageUrl,_6);}return arguments;}));},_initLayer:function(){this.inherited(arguments);if(this.refreshing){this.wmsRefreshTimer.start();}},startRefresh:function(){this.refreshing=true;this.wmsRefreshTimer.start();},stopRefresh:function(){this.refreshing=false;this.wmsRefreshTimer.stop();},_getRefreshImageUrl:function(_7,_8){_7(_8+"&_c="+new Date().valueOf());}});});