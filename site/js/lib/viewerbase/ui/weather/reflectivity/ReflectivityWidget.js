//>>built
require({cache:{"url:esriviewer/ui/weather/reflectivity/template/ReflectivityWidgetTemplate.html":"<div>\r\n    <div>\r\n        WMS radar reflectance service courtesy of Iowa State University. Click\r\n        <span style=\"text-decoration:underline;color:blue;cursor:pointer\" data-bind=\"click: handleReflectivityInfoClick\">here</span> for details.\r\n    </div>\r\n    <div data-dojo-attach-point=\"reflectivityTransparencySliderContainer\"\r\n         class=\"reflectivityTransparencySliderContainer\"></div>\r\n</div>","url:esriviewer/ui/weather/reflectivity/theme/ReflectivityWidgetTheme.css":".reflectivityTransparencySliderContainer{margin-top:10px;margin-bottom:5px;}"}});define("esriviewer/ui/weather/reflectivity/ReflectivityWidget",["dojo/_base/declare","xstyle/css!./theme/ReflectivityWidgetTheme.css","dojo/dom-construct","dojo/text!./template/ReflectivityWidgetTemplate.html","dojo/_base/lang","dijit/form/HorizontalSlider","dojo/topic","../../base/UITemplatedWidget","../../../base/DataLoaderSupport","esri/layers/WMSLayer","./model/ReflectivityViewModel"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){return _1([_8,_9],{templateString:_4,postCreate:function(){this.inherited(arguments);this.viewModel=new _b();ko.applyBindings(this.viewModel,this.domNode);this.createRangeSlider();},loadViewerConfigurationData:function(){this.inherited(arguments);var _c=null;_7.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"reflectivityWidget",function(_d){_c=_d;});if(_c&&_5.isObject(_c)&&_c.configurationUrl){this.loadJson(_c.configurationUrl,_5.hitch(this,function(_e){_5.mixin(this,_e||{});if(this.wmsServiceUrl){this.initWMSLayer();}}));}},createRangeSlider:function(){this.transparencySlider=new _6({value:0,minimum:0,maximum:100,intermediateChanges:true,showButtons:false});this.transparencySlider.on("change",_5.hitch(this,this.handleSetTransparency));_3.place(this.transparencySlider.domNode,this.reflectivityTransparencySliderContainer);},handleSetTransparency:function(_f){if(this.wmsLayer){this.wmsLayer.setOpacity(1-(_f*0.01));}},initWMSLayer:function(){this.wmsLayer=new _a(this.wmsServiceUrl);this.wmsLayer.setVisibleLayers(this.wmsVisibleLayers);this.wmsLayer.setImageFormat(this.wmsImageFormat);_7.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADD_EXTERNAL_MANAGED_LAYER,this.wmsLayer);},hideWmsLayer:function(){if(this.wmsLayer){this.wmsLayer.hide();}},showWmsLayer:function(){if(this.wmsLayer){this.wmsLayer.show();}}});});