//>>built
require({cache:{"url:esriviewer/ui/toolbar/base/template/BasemapsListingTemplate.html":"<div data-bind=\"visible: visible\" class=\"basemapsToolbarDropdown toolbarDropdownContent\">\r\n    <div data-bind=\"foreach:basemaps\">\r\n        <div class=\"basemapToolbarEntry\">\r\n            <div class=\"basemapToolbarEntryLabel\" data-bind=\"text: $data.label\"></div>\r\n            <img class=\"basemapToolbarThumb\"\r\n                 data-bind=\"click:$parent.handleBasemapClick, css:{basemapThumbSelected: $data.selected},attr:{src:$data.thumbnail, title: $data.label}\">\r\n        </div>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/toolbar/base/BasemapListingWidget",["dojo/_base/declare","dojo/text!./template/BasemapsListingTemplate.html","dojo/topic","dojo/_base/lang","dojo/on","dojo/dom-construct","dojo/dom-class","dojo/dom-style","../../base/UITemplatedWidget","./model/BasemapsListingViewModel"],function(_1,_2,_3,_4,on,_5,_6,_7,_8,_9){return _1([_8],{templateString:_2,defaultBasemapIcon:"images/thumbs/genericThumbnail.png",postCreate:function(){this.viewModel=new _9();ko.applyBindings(this.viewModel,this.domNode);this.inherited(arguments);},isVisible:function(){return this.viewModel.visible();},toggle:function(){this.viewModel.visible(!this.viewModel.visible());},show:function(){this.viewModel.visible(true);},hide:function(){this.viewModel.visible(false);},initListeners:function(){this.inherited(arguments);_3.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.ADDED,_4.hitch(this,this.addBasemap));_3.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.REMOVED,_4.hitch(this,this.handleBasemapRemoved));},setBasemaps:function(_a){var _b;for(var _c in _a){_b=_a[_c];this.addBasemap(_b,_c);}_3.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GET_CURRENT,_4.hitch(this,this.handleGetCurrentBasemapResponse));},handleBasemapRemoved:function(_d){var _e=this.viewModel.removeBasemap(_d);if(_e){_3.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GET_CURRENT,_4.hitch(this,this.handleGetCurrentBasemapResponse));}},addBasemap:function(_f,key){var _10=_f.icon!=null?_f.icon:this.defaultBasemapIcon;this.viewModel.addBasemap({thumbnail:_10,label:(_f.label?_f.label:"Basemap"),key:key});},handleGetCurrentBasemapResponse:function(_11){this.viewModel.setCurrentBasemap(_11);}});});