//>>built
define("esriviewer/ui/toolbar/base/model/BasemapsListingViewModel",["dojo/_base/declare","dojo/_base/lang","dojo/topic"],function(_1,_2,_3){return _1([],{constructor:function(){this.basemapKeyLookup={};this.visible=ko.observable(false);this.basemaps=ko.observableArray();this.handleBasemapClick=_2.hitch(this,this._handleBaseMapClick);},addBasemap:function(_4){var _5=_2.mixin({selected:ko.observable(false)},_4);this.basemaps.push(_5);this.basemapKeyLookup[_5.key]=_5;},_handleBaseMapClick:function(_6){if(_6==null){return;}this.setCurrentBasemap(_6.key);this.visible(false);},removeBasemap:function(_7){var _8=this.basemapKeyLookup[_7];if(_8==null){return false;}delete this.basemapKeyLookup[_7];this.basemaps.remove(_8);return true;},setCurrentBasemap:function(_9){var _a=this.basemapKeyLookup[_9];if(_a==null){return;}_a.selected(true);var _b=this.basemaps.indexOf(_a);var _c=this.basemaps();for(var i=0;i<_c.length;i++){if(i!=_b){_c[i].selected(false);}}_3.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.SET,_9);}});});