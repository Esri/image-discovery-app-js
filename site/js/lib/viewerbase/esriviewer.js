//>>built
require({cache:{"esriviewer/ui/footer/FooterTogglerWidget":function(){require({cache:{"url:esriviewer/ui/footer/template/FooterTogglerTemplate.html":"<div class=\"footerWidget\" data-dojo-attach-point=\"footerWidget\" data-bind=\"css:{footerExpanded: expanded() == true, footerCollapsed: expanded() != true}\">\r\n    <div class=\"footerExpanderContent headerFooterBg\" data-dojo-attach-point=\"footerExpanderContent\"  data-dojo-attach-event=\"onclick:toggle\">\r\n        <div class=\"footerTogglerArrow\" data-dojo-attach-point=\"footerTogglerArrow\" data-bind=\"css:{footerTogglerDown: expanded() == true, footerTogglerUp: expanded() != true}\"></div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"footerContent\"></div>\r\n</div>"}});define("esriviewer/ui/footer/FooterTogglerWidget",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojo/text!./template/FooterTogglerTemplate.html","../base/UITemplatedWidget","dojo/dom-construct","./model/FooterTogglerViewModel"],function(_1,_2,_3,_4,_5,_6,_7){return _1([_5],{firstFooterShow:true,templateString:_4,postCreate:function(){this.inherited(arguments);this.viewModel=new _7();ko.applyBindings(this.viewModel,this.domNode);},initListeners:function(){this.inherited(arguments);_2.subscribe(VIEWER_GLOBALS.EVENTS.FOOTER.TOGGLE,_3.hitch(this,this.toggle));_2.subscribe(VIEWER_GLOBALS.EVENTS.FOOTER.COLLAPSE,_3.hitch(this,this.collapse));_2.subscribe(VIEWER_GLOBALS.EVENTS.FOOTER.EXPAND,_3.hitch(this,this.expand));_2.subscribe(VIEWER_GLOBALS.EVENTS.FOOTER.IS_EXPANDED,_3.hitch(this,this._handleIsExpanded));},_handleIsExpanded:function(_8){if(_8!=null&&_3.isFunction(_8)){_8(this.viewModel.expanded());}},toggle:function(){if(this.viewModel.expanded()){this.collapse();}else{this.expand();}},collapse:function(){if(this.viewModel.expanded()){this.viewModel.expanded(false);_2.publish(VIEWER_GLOBALS.EVENTS.FOOTER.COLLAPSED);}},expand:function(){if(!this.viewModel.expanded()){this.viewModel.expanded(true);if(this.firstFooterShow){this.onFirstFooterShow();this.firstFooterShow=false;}_2.publish(VIEWER_GLOBALS.EVENTS.FOOTER.EXPANDED);}},setContent:function(_9){_6.place(_9,this.footerContent);},onFirstFooterShow:function(){}});});},"url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n","url:esriviewer/ui/draw/template/DrawWidgetTemplate.html":"<div class=\"drawWindow\">\r\n    <div class=\"defaultTabContainer\">\r\n        <span  data-bind=\"click:showDraw, css: {selectedTab: drawVisible}\">Create</span>\r\n        <span data-bind=\"click:showConfiguration, css: {selectedTab: configurationVisible}\">Configure</span>\r\n        <span  data-bind=\"visible:showGraphicsListTab, click:showGraphicsList, css: {selectedTab: graphicsListVisible}\">Added</span>\r\n        <span data-bind=\"visible:showSavedGraphicsTab, click:showUserPersistedGraphics, css: {selectedTab: userPersistedGraphicsVisible}\">Saved</span>\r\n    </div>\r\n    <div class=\"drawWindowInputIconsContainer\" data-dojo-attach-point=\"drawWindowInputIconsContainer\"\r\n         data-bind=\"visible: drawVisible\">\r\n        <div class=\"threePixelBorderRadius commonIcons32 pointUnselected\"\r\n             data-bind=\"visible: showDrawPointIcon, css: {pointSelected: pointActive}\"\r\n             title=\"Draw Point\" data-dojo-attach-event=\"onclick:handlePointDrawClick\"></div>\r\n        <div class=\"threePixelBorderRadius commonIcons32 lineUnselected\"\r\n             data-bind=\"visible: showDrawLineIcon, css: {lineSelected: lineActive}\"\r\n             title=\"Draw Line\" data-dojo-attach-event=\"onclick:handleLineDrawClick\"></div>\r\n        <div class=\"threePixelBorderRadius commonIcons32 polylineUnselected\"\r\n                data-bind=\"visible: showDrawPolylineIcon, css: {polylineSelected: polylineActive}\"\r\n                title=\"Draw Polyline\" data-dojo-attach-event=\"onclick:handlePolylineDrawClick\"></div>\r\n        <div data-bind=\"visible: showDrawPolygonIcon, css: {polygonSelected: polygonActive}\"\r\n             class=\"threePixelBorderRadius commonIcons32 polygonUnselected\"\r\n             title=\"Draw Polygon\" data-dojo-attach-event=\"onclick:handlePolygonDrawClick\"></div>\r\n        <div data-bind=\"visible: showDrawRectangleIcon,css: {rectangleSelected: rectangleActive}\"\r\n             class=\"threePixelBorderRadius commonIcons32 rectangleUnselected\"\r\n             title=\"Draw Rectangle\" data-dojo-attach-event=\"onclick:handleRectangleDrawClick\"></div>\r\n        <div class=\"threePixelBorderRadius commonIcons32 textUnselected\"\r\n             data-bind=\"visible: showDrawTextIcon,css: {textSelected: textActive}\"\r\n             title=\"Draw Text\" data-dojo-attach-event=\"onclick:handleTextDrawClick\"></div>\r\n    </div>\r\n    <div class=\"drawFreehandContainer\"\r\n         data-bind=\"visible: freehandContainerVisible\">\r\n        <span data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onChange:handleFreehandToggled\"\r\n              data-dojo-attach-point=\"freeHandDrawCheckbox\"></span>\r\n        <span class=\"drawFreehandCheckboxLabel\" data-dojo-attach-event=\"onclick:toggleFreehand\">Freehand</span>\r\n    </div>\r\n    <div class=\"drawWindowConfigureContainer\" data-bind=\"visible: configurationVisible\"\r\n         data-dojo-attach-point=\"drawWindowConfigureContainer\">\r\n    </div>\r\n    <div class=\"drawWindowGraphicsListContainer\" data-dojo-attach-point=\"drawWindowGraphicsListContainer\"\r\n         data-bind=\"visible: graphicsListVisible\">\r\n    </div>\r\n    <div class=\"drawWindowUserPersistedGraphicsContainer\"\r\n         data-dojo-attach-point=\"drawWindowUserPersistedGraphicsContainer\"\r\n         data-bind=\"visible: userPersistedGraphicsVisible\">\r\n    </div>\r\n</div>","esriviewer/ui/editor/FeatureServiceEditorWindowWidget":function(){define("esriviewer/ui/editor/FeatureServiceEditorWindowWidget",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojo/dom-style","../window/WindowWidget"],function(_a,_b,_c,_d,_e){return _a([_e],{defaultPositioning:{x:600,y:50},windowWidth:"310px",windowHeaderText:"Feature Edit",windowIconAltText:"Feature Edit",positioningParamName:"featureEdit",windowIconClass:"commonIcons16 pencil",constructor:function(){this.firstShowListener=this.on("firstWindowShow",_c.hitch(this,this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/editor/FeatureServiceEditor"],_c.hitch(this,function(_f){this.featureServiceEditor=new _f();this.featureServiceEditor.on("setParentWidth",_c.hitch(this,this.setWindowWidthFromInt));this.setContent(this.featureServiceEditor.domNode);}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_b.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.FEATURE_EDITOR.SHOW,_c.hitch(this,this.show)));this.subscribes.push(_b.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.FEATURE_EDITOR.HIDE,_c.hitch(this,this.hide)));this.subscribes.push(_b.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.FEATURE_EDITOR.TOGGLE,_c.hitch(this,this.toggle)));},hide:function(){this.inherited(arguments);if(this.featureServiceEditor){if(this.featureServiceEditor.currentDrawType!=null){this.featureServiceEditor.clearDraw();}}},show:function(){this.inherited(arguments);if(this.featureServiceEditor){this.featureServiceEditor.showFeatureLayers();}}});});},"esriviewer/map/base/LayerQueryTools":function(){define("esriviewer/map/base/LayerQueryTools",["dojo/_base/declare","dojo/_base/lang","dojo/topic","esri/tasks/QueryTask","esri/tasks/query"],function(_10,_11,_12,_13,_14){return _10([],{constructor:function(){this.layerFieldsCache={};this.initListeners();},initListeners:function(){this.inherited(arguments);_12.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.QUERY_LAYER,_11.hitch(this,this.handleQueryLayer));},handleQueryLayer:function(_15){if(_15.layer==null||_15.layer.url==null){if(_15.errback!=null&&_11.isFunction(_15.errback)){_15.errback("There is no query layer");}return;}if(_15.callback==null||!_11.isFunction(_15.callback)){return;}if(_15.errback==null){_11.hitch(this,this._handleQueryLayerDefaultErrback,_15.layer);}var _16=_15.layer.url;if(_15.layerId!=null){_16=VIEWER_UTILS.joinUrl(_16,_15.layerId);}var _17=new _13(_16);var _18=new _14();_18.returnGeometry=_15.returnGeometry;if(_15.whereClause!=null&&_15.whereClause.length>0){_18.where=_15.whereClause;}if(_15.geometry!=null){_18.geometry=_15.geometry;}if(_15.outFields!=null){_18.outFields=_15.outFields;}else{if(_15.returnGeometry){_18.outFields=["*"];}else{var _19=_16.toLowerCase();if(this.layerFieldsCache[_19]==null){if(_15.layerId!=null){var _1a=_15.callback;var _1b=_15.errback;VIEWER_UTILS.getLayerInfoFromService(_15.layer.url,_15.layerId,_11.hitch(this,function(_1c){var _1d=this._generateOutFieldsFromLayer(_1c);this.layerFieldsCache[_19]=_1d;_18.outFields=_1d;this._performQuery(_17,_18,_1a,_1b);}));return;}else{var _1e=this._generateOutFieldsFromLayer(_15.layer);this.layerFieldsCache[_19]=_1e;_18.outFields=_1e;}}else{_18.outFields=this.layerFieldsCache[_19];}}}this._performQuery(_17,_18,_15.callback,_15.errback);},_generateOutFieldsFromLayer:function(_1f){if(_1f==null||!_11.isObject(_1f)||_1f.fields==null||!_11.isArray(_1f.fields)){return ["*"];}var _20=[];var _21;for(var i=0;i<_1f.fields.length;i++){_21=_1f.fields[i];if(_21.type!=VIEWER_GLOBALS.ESRI_FIELD_TYPES.GEOMETRY){_20.push(_21.name);}}return _20;},_performQuery:function(_22,_23,_24,_25){_22.execute(_23,_24,_25);},_handleQueryLayerDefaultErrback:function(_26,err){VIEWER_UTILS.log("Could not perform layer query",VIEWER_GLOBALS.LOG_TYPE.ERROR);_12.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,"Could not perform layer query");}});});},"esriviewer/ui/toolbar/base/BasemapListingWidget":function(){require({cache:{"url:esriviewer/ui/toolbar/base/template/BasemapsListingTemplate.html":"<div data-bind=\"visible: visible\" class=\"basemapsToolbarDropdown toolbarDropdownContent\">\r\n    <div data-bind=\"foreach:basemaps\">\r\n        <div class=\"basemapToolbarEntry\">\r\n            <div class=\"basemapToolbarEntryLabel\" data-bind=\"text: $data.label\"></div>\r\n            <img class=\"basemapToolbarThumb\"\r\n                 data-bind=\"click:$parent.handleBasemapClick, css:{basemapThumbSelected: $data.selected},attr:{src:$data.thumbnail, title: $data.label}\">\r\n        </div>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/toolbar/base/BasemapListingWidget",["dojo/_base/declare","dojo/text!./template/BasemapsListingTemplate.html","dojo/topic","dojo/_base/lang","dojo/on","dojo/dom-construct","dojo/dom-class","dojo/dom-style","../../base/UITemplatedWidget","./model/BasemapsListingViewModel"],function(_27,_28,_29,_2a,on,_2b,_2c,_2d,_2e,_2f){return _27([_2e],{templateString:_28,defaultBasemapIcon:"images/thumbs/genericThumbnail.png",postCreate:function(){this.viewModel=new _2f();ko.applyBindings(this.viewModel,this.domNode);this.inherited(arguments);},isVisible:function(){return this.viewModel.visible();},toggle:function(){this.viewModel.visible(!this.viewModel.visible());},show:function(){this.viewModel.visible(true);},hide:function(){this.viewModel.visible(false);},initListeners:function(){this.inherited(arguments);_29.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.ADDED,_2a.hitch(this,this.addBasemap));_29.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.REMOVED,_2a.hitch(this,this.handleBasemapRemoved));},setBasemaps:function(_30){var _31;for(var key in _30){_31=_30[key];this.addBasemap(_31,key);}_29.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GET_CURRENT,_2a.hitch(this,this.handleGetCurrentBasemapResponse));},handleBasemapRemoved:function(key){var _32=this.viewModel.removeBasemap(key);if(_32){_29.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GET_CURRENT,_2a.hitch(this,this.handleGetCurrentBasemapResponse));}},addBasemap:function(_33,key){var _34=_33.icon!=null?_33.icon:this.defaultBasemapIcon;this.viewModel.addBasemap({thumbnail:_34,label:(_33.label?_33.label:"Basemap"),key:key});},handleGetCurrentBasemapResponse:function(_35){this.viewModel.setCurrentBasemap(_35);}});});},"esriviewer/base/ConfigurationEntryMixin":function(){define("esriviewer/base/ConfigurationEntryMixin",["dojo/_base/declare"],function(_36){return _36([],{constructor:function(){},loadViewerConfigurationData:function(){}});});},"esriviewer/ui/tools/ViewerDefaultTools":function(){define("esriviewer/ui/tools/ViewerDefaultTools",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dijit/MenuItem"],function(_37,_38,_39,_3a){return _37([],{showPlottingWindowMenuIcon:false,showPrintWindowMenuIcon:false,showPortalPublisherWindowMenuIcon:false,showSocialMediaWindowMenuIcon:false,showConfigureWindowMenuItem:false,showLegendWindowMenuItem:false,showPointUploadWindowMenuItem:false,showLoggingWindowMenuItem:false,showDrawWindowMenuItem:false,showTimeSliderMenuItem:false,showFeatureEditorMenuItem:false,showIdentifyMenuItem:false,showQueryBuilderMenuItem:false,showMeasureMenuItem:false,showReverseGeocodeMenuItem:false,showZoomToMenuItem:false,showPortalSearchMenuItem:false,showLayerTransparencyMenuItem:false,showWeatherWindowMenuItem:false,showReflectivityWindowMenuItem:false,constructor:function(_3b){_39.mixin(this,_3b||{});this.toolsToAdd=[];this.loadViewerConfigurationData();this._createDefaultToolMenuItems();},_createDefaultToolMenuItems:function(){if(this.showDrawWindowMenuItem){this._createMenuItem("commonIcons16 pencil","Draw",_39.hitch(this,this.handleDrawMenuClick));}if(this.showMeasureMenuItem){this._createMenuItem("commonIcons16 triangle","Measure",_39.hitch(this,this.handleMeasureMenuClick));}if(this.showPortalSearchMenuItem){this._createMenuItem("commonIcons16 magnifyingGlass","Search Portal",_39.hitch(this,this.handlePortalSearchMenuClick));}if(this.showZoomToMenuItem){this._createMenuItem("commonIcons16 magnifyingGlass","Zoom To Location",_39.hitch(this,this.handleZoomToLocationClick));}if(this.showIdentifyMenuItem){this._createMenuItem("commonIcons16 information","Identify",_39.hitch(this,this.handleIdentifyMenuClick));}if(this.showWeatherWindowMenuItem){this._createMenuItem("commonIcons16 weather","Weather",_39.hitch(this,this.handleWeatherMenuClick));}if(VIEWER_UTILS.isHtml5FileUploadSupported()&&this.showPointUploadWindowMenuItem){this._createMenuItem("commonIcons16 upload","CSV Point Upload",_39.hitch(this,this.handlePointUploadMenuClick));}if(this.showLegendWindowMenuItem){this._createMenuItem("commonIcons16 list","Legend",_39.hitch(this,this.handleLegendMenuClick));}if(this.showLoggingWindowMenuItem){this._createMenuItem("commonIcons16 list","Logging",_39.hitch(this,this.handleLoggingMenuClick));}if(this.showTimeSliderMenuItem){this._createMenuItem("commonIcons16 clock","Time Slider",_39.hitch(this,this.handleTimeSliderMenuClick));}if(this.showFeatureEditorMenuItem){this._createMenuItem("commonIcons16 pencil","Feature Editor",_39.hitch(this,this.handleFeatureEditorMenuClick));}if(this.showQueryBuilderMenuItem){this._createMenuItem("commonIcons16 sql","Query Builder",_39.hitch(this,this.handleQueryBuilderMenuClick));}if(this.showReverseGeocodeMenuItem){this._createMenuItem("commonIcons16 information","Find Address",_39.hitch(this,this.handleReverseGeocodeMenuClick));}if(this.showSocialMediaWindowMenuIcon){this._createMenuItem("commonIcons16 binoculars","Social Media",_39.hitch(this,this.handleSocialMediaMenuClick));}if(this.showReflectivityWindowMenuItem){this._createMenuItem("commonIcons16 weather","Reflectivity",_39.hitch(this,this.handleReflectivityMenuClick));}if(this.showLayerTransparencyMenuItem){this._createMenuItem("commonIcons16 slider","Transparency",_39.hitch(this,this.handleLayerTransparencyMenuClick));}if(this.showPortalPublisherWindowMenuIcon){this._createMenuItem("commonIcons16 worldAdd","Publish Web Map",_39.hitch(this,this.handlePortalPublisherMenuClick));}if(this.showPrintWindowMenuIcon){this._createMenuItem("commonIcons16 print","Print",_39.hitch(this,this.handlePrintMenuClick));}if(this.showPlottingWindowMenuIcon){this._createMenuItem("commonIcons16 pushpin","Plotting",_39.hitch(this,this.handlePlottingMenuClick));}this.sortAndAddTools();},sortAndAddTools:function(){this.toolsToAdd.sort(function(a,b){return a.label.localeCompare(b.label);});for(var i=0;i<this.toolsToAdd.length;i++){_38.publish(VIEWER_GLOBALS.EVENTS.TOOLS.MENU.ADD_TOOL,this.toolsToAdd[i]);}},_createMenuItem:function(_3c,_3d,_3e){var _3f=new _3a({iconClass:_3c,label:_3d,onClick:_3e});this.toolsToAdd.push(_3f);},handleTimeSliderMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.MAP.TIME.SHOW_TIME_SLIDER);},handleLayerTransparencyMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.TRANSPARENCY.WINDOW.SHOW);},handleDrawMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.DRAW.SHOW);},handleFeatureEditorMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.FEATURE_EDITOR.SHOW);},handleQueryBuilderMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.QUERY_BUILDER.SHOW);},handleMeasureMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.MEASURE.SHOW);},handleIdentifyMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.IDENTIFY.SHOW);},handleReverseGeocodeMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.REVERSE_GEOCODE.SHOW);},handlePortalSearchMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PORTAL_SEARCH.SHOW);},loadViewerConfigurationData:function(){var _40=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"logging",function(_41){_40=_41;});if(_40&&_39.isObject(_40)&&_40.window!=null){this.showLoggingWindowMenuItem=_40.window.create==null?false:_40.window.create;}var _42=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"configureWidget",function(_43){_42=_43;});if(_42){this.showConfigureWindowMenuItem=_42.create==null||_42.create!=false;}var _44=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"map",function(_45){_44=_45;});if(_44){if(_44.legend==null||_44.legend.create!=false){this.showLegendWindowMenuItem=true;}}var _46=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"socialMediaWidget",function(_47){_46=_47;});if(_46!=null&&_39.isObject(_46)&&_46.create==true){this.showSocialMediaWindowMenuIcon=true;}var _48=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"drawWidget",function(_49){_48=_49;});if(_48!=null&&_39.isObject(_48)&&_48.create==true){this.showDrawWindowMenuItem=true;}var _4a=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"timeSliderWidget",function(_4b){_4a=_4b;});if(_4a!=null&&_39.isObject(_4a)&&_4a.create==true){this.showTimeSliderMenuItem=true;}var _4c=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"featureEditorWidget",function(_4d){_4c=_4d;});this.showFeatureEditorMenuItem=_4c&&_4c.service&&_4c.service.url;var _4e=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"identifyWidget",function(_4f){_4e=_4f;});if(_4e!=null&&_39.isObject(_4e)&&_4e.create==true){this.showIdentifyMenuItem=true;}var _50=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"layersTransparencyWidget",function(_51){_50=_51;});if(_50!=null&&_39.isObject(_50)&&_50.create==true){this.showLayerTransparencyMenuItem=true;}var _52=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"zoomToWidget",function(_53){_52=_53;});if(_52!=null&&_39.isObject(_52)&&_52.create==true){this.showZoomToMenuItem=true;}var _54=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"reflectivityWidget",function(_55){_54=_55;});this.showReflectivityWindowMenuItem=_54!=null&&_39.isObject(_54)&&_54.create===true;var _56=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"weatherWidget",function(_57){_56=_57;});this.showWeatherWindowMenuItem=_56!=null&&_39.isObject(_56)&&_56.create===true;var _58=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"printWidget",function(_59){_58=_59;});this.showPrintWindowMenuIcon=_58!=null&&_39.isObject(_58)&&_58.create===true&&_58.printTaskUrl!=null;var _5a=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"pointUploadWidget",function(_5b){_5a=_5b;});this.showPointUploadWindowMenuItem=_5a!=null&&_39.isObject(_5a)&&_5a.create===true;var _5c=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"queryBuilder",function(_5d){_5c=_5d;});this.showQueryBuilderMenuItem=_5c!=null&&_39.isObject(_5c)&&_5c.create===true;var _5e=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"geometryServiceUrl",function(_5f){_5e=_5f;});if(_5e!=null){var _60=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"measureWidget",function(_61){_60=_61;});if(_60&&_39.isObject(_60)){if(_60.create==true){this.showMeasureMenuItem=true;}}}var _62=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"locators",function(_63){_62=_63;});if(_62==null||!_39.isArray(_62)||_62.length==0){this.showReverseGeocodeMenuItem=false;}else{var _64=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"reverseGeocodeWidget",function(_65){_64=_65;});this.showReverseGeocodeMenuItem=_64&&_39.isObject(_64)&&_64.create==true;}var _66=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"portal",function(_67){_66=_67;});if(_66==null||!_39.isObject(_66)){this.showPortalSearchMenuItem=false;this.showPortalPublisherWindowMenuIcon=false;}else{var _68=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"portalSearchWidget",function(_69){_68=_69;});this.showPortalSearchMenuItem=_68&&_39.isObject(_68)&&_68.create==true;var _6a=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"portalPublisher",function(_6b){_6a=_6b;});this.showPortalPublisherWindowMenuIcon=_6a&&_39.isObject(_6a)&&_6a.window&&_6a.window.create==true;}var _6c=null;_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"plottingWidget",function(_6d){_6c=_6d;});this.showPlottingWindowMenuIcon=_6c&&_39.isObject(_6c)&&_6c.create==true;},createConfigurationMenuItem:function(){if(this.showConfigureWindowMenuItem!=false){this._createConfigureMenuItem();}},handlePortalPublisherMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PORTAL_PUBLISH.SHOW);},handlePrintMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PRINT.SHOW);},handlePlottingMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.PLOTTING.SHOW);},handleLoggingMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.LOGGING.WINDOW.SHOW);},handleZoomToLocationClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.ZOOM_TO.SHOW);},handleSocialMediaMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.SOCIAL_MEDIA.SHOW);},handleReflectivityMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.REFLECTIVITY.SHOW);},handlePointUploadMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.POINT_UPLOAD.SHOW);},handleWeatherMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.WEATHER.SHOW);},handleLegendMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.WINDOW.LEGEND.SHOW);},_createConfigureMenuItem:function(){var _6e=new _3a({iconClass:"commonIcons16 gear",label:"Configure",onClick:_39.hitch(this,this.handleConfigureMenuClick)});_38.publish(VIEWER_GLOBALS.EVENTS.TOOLS.MENU.ADD_TOOL,_6e);},handleConfigureMenuClick:function(){_38.publish(VIEWER_GLOBALS.EVENTS.CONFIGURE.WINDOW.SHOW);}});});},"url:esriviewer/ui/layers/template/LayersWidgetTemplate.html":"<div>\r\n    <div class=\"defaultTabContainer\" data-dojo-attach-point=\"layersTabContainer\">\r\n        <span data-dojo-attach-point=\"layersTab\"\r\n              data-bind=\"click:showLayersList, css: {selectedTab: layersListVisible}\">Layers</span>\r\n        <span data-dojo-attach-point=\"addLayersTab\"\r\n              data-bind=\"click:showAddLayers, css: {selectedTab: addlayersVisible}\">Add Layer</span>\r\n        <span data-dojo-attach-point=\"persistsedLayersTab\"\r\n              data-bind=\"click:showUserPersistedLayers, css: {selectedTab: persistedLayersVisible}\">Saved Layers</span>\r\n    </div>\r\n    <div data-bind=\"visible:addlayersVisible\" class=\"addLayerContainer\" data-dojo-attach-point=\"addLayerContainer\">\r\n        <div class=\"addLayerContainerInner\">\r\n            <div class=\"viewerAddLayerWorkingWKIDContainer\" data-bind=\"visible:showWKIDInAddLayers\">\r\n                <span class=\"viewerAddLayerLabel \">Map WKID:</span>\r\n                <span class=\"viewerAddLayerWorkingWKIDLabel\" data-bind=\"text: viewerWKID\"></span>\r\n            </div>\r\n            <div class=\"viewerAddLayerLabel viewerAddLayerUrlLabel \">URL:</div>\r\n            <div data-dojo-type=\"dijit/form/TextBox\" style=\"width: 100%\" data-dojo-attach-point=\"addLayerTextInput\"\r\n                 data-dojo-attach-event=\"onKeyUp:handleLayerAddUrlKeyUp\"></div>\r\n            <div class=\"viewerAddLayerLabel viewerAddLayerUrlLabel \">Label:</div>\r\n            <div data-dojo-type=\"dijit/form/TextBox\" style=\"width: 100%\" data-dojo-attach-point=\"addLayerLabelInput\"\r\n                 value=\"Added Layer\"></div>\r\n            <div class=\"viewerAddLayerActions\">\r\n                <div class=\"layerTypeContainer\">\r\n                    <div class=\"viewerAddLayerLabel\">Type:</div>\r\n                    <select data-dojo-type=\"dijit/form/Select\" style=\"width: 100%\"\r\n                            data-dojo-attach-point=\"addLayerTypeSelect\"\r\n                            style=\"width: 15em\"></select>\r\n                </div>\r\n                <div class=\"viewerAddLayerButtonActions\">\r\n                    <div data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:addManualLayer\">Add Layer\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"layerTocContainer\" data-bind=\"visible:layersListVisible\">\r\n\r\n    </div>\r\n    <div data-bind=\"visible:persistedLayersVisible\" data-dojo-attach-point=\"userPersistedLayersContainer\">\r\n    </div>\r\n</div>","esriviewer/ui/draw/base/GraphicsListWidget":function(){require({cache:{"url:esriviewer/ui/draw/base/template/GraphicsListingTemplate.html":"<div>\r\n    <div class=\"addGraphicsActionsContainer\" data-dojo-attach-point=\"addGraphicsActionsContainer\">\r\n        <div class=\"graphicsListRightIcon commonIcons16 disk\" title=\"Save Graphics\"\r\n             data-bind=\"click:toggleSaveGraphics, visible:saveGraphicsIconVisible\"></div>\r\n        <div class=\"graphicsListLeftIcon commonIcons16 layerHide\" title=\"Toggle Graphics\"\r\n             data-bind=\"click:toggleAllGraphics, css:{layerShow: allGraphicsVisible}\"></div>\r\n        <div class=\"graphicsListLeftIcon commonIcons16 trash\" title=\"Remove All Graphics\"\r\n             data-dojo-attach-event=\"onclick:showConfirmRemoveAllTooltip\"\r\n             data-dojo-attach-point=\"removeAllGraphicsIcon\"\r\n                ></div>\r\n    </div>\r\n    <div class=\"saveGraphicsInputContainer\" data-bind=\"visible: saveGraphicsInputVisible\">\r\n        <input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-event=\"onKeyUp: handleSaveGraphicsKeyUp\" data-dojo-attach-point=\"userSaveGraphicsNameInput\" placeholder=\"Enter A Label...\"/>\r\n        <span data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:handleSaveGraphics\">Save</span>\r\n    </div>\r\n\r\n    <div class=\"addedGraphicsListContainer\" data-dojo-attach-point=\"addedGraphicsListContainer\">\r\n        <ul data-dojo-attach-point=\"addedGraphicsList\" class=\"viewerList\" data-bind=\"foreach: addedGraphics\">\r\n            <li class=\"graphicsListEntry\">\r\n                <div title=\"Pan And Flash Graphic\"\r\n                     class=\"viewerListGenericIcon commonIcons16 magnifyingGlass\"\r\n                     data-bind=\"click:$parent.zoomToGraphic\"></div>\r\n                <div title=\"Remove Graphic\" class=\"viewerListEntryRemoveIcon commonIcons16 remove\"\r\n                     data-bind=\"click:$parent.removeGraphic\"></div>\r\n                <span class=\"graphicsListEntryLabel\" data-bind=\"text: $data.label\"></span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/draw/base/GraphicsListWidget",["dojo/_base/declare","dojo/text!./template/GraphicsListingTemplate.html","dojo/topic","../../base/UITemplatedWidget","dojo/_base/lang","dojo/on","../../tooltip/ConfirmTooltip","./model/GraphicsListViewModel","dijit/form/TextBox","dijit/form/Button"],function(_6f,_70,_71,_72,_73,on,_74,_75,_76,_77){return _6f([_72],{templateString:_70,graphicsCount:0,saveSupported:false,allGraphicsOff:false,constructor:function(_78){_73.mixin(this,_78||{});this.typeLabelLookup={};this.typeLabelLookup[VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POINT]="Point";this.typeLabelLookup[VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYLINE]="Line";this.typeLabelLookup[VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYGON]="Polygon";this.typeLabelLookup[VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_RECTANGLE]="Rectangle";this.typeLabelLookup[VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_TEXT]="Text Label";},postCreate:function(){this.inherited(arguments);this.viewModel=new _75();this.viewModel.saveGraphicsIconVisible(this.saveSupported);this.viewModel.on(this.viewModel.REMOVE_ALL_GRAPHICS,_73.hitch(this,this.handleRemoveAllGraphics));this.viewModel.on(this.viewModel.REMOVE_GRAPHIC,_73.hitch(this,this.handleRemoveGraphic));ko.applyBindings(this.viewModel,this.domNode);},handleRemoveAllGraphics:function(){this.onRemoveAllGraphics();},onRemoveAllGraphics:function(){},handleRemoveGraphic:function(_79){this.onRemoveGraphic(_79);},onRemoveGraphic:function(_7a){},addGraphic:function(_7b){this.viewModel.addedGraphics.push({label:_7b.label?_7b.label:(this.typeLabelLookup[_7b.type]+" "+VIEWER_UTILS.getTimeStamp()),graphic:_7b.graphic});},showConfirmRemoveAllTooltip:function(){if(this.confirmDeleteAllTooltip==null){this.createConfirmDeleteBookmarkTooltip();}if(this.confirmDeleteAllTooltip){this.confirmDeleteAllTooltip.show();}},createConfirmDeleteBookmarkTooltip:function(){this.confirmDeleteAllTooltip=new _74({confirmCallback:_73.hitch(this.viewModel,this.viewModel.removeAllGraphics),aroundNode:this.removeAllGraphicsIcon,displayText:"Delete Graphics? "});this.confirmDeleteAllTooltip.on("hide",_73.hitch(this,function(){this.deleteBookmarkConfirmedCallback=null;}));},hidePopups:function(){if(this.confirmDeleteAllTooltip){this.confirmDeleteAllTooltip.hide();}},handleSaveGraphicsKeyUp:function(e){if(VIEWER_UTILS.isEnterKey(e)){this.handleSaveGraphics();}},handleSaveGraphics:function(){var _7c=this.userSaveGraphicsNameInput.get("value");if(_7c!=null&&_7c!=""){this.onSaveGraphics(_7c,this.viewModel.addedGraphics());this.viewModel.saveGraphicsInputVisible(false);this.userSaveGraphicsNameInput.set("value","");}},getGraphics:function(){var _7d=this.viewModel.addedGraphics();var _7e=[];for(var i=0;i<_7d.length;i++){_7e.push(_7d[i].graphic);}return _7e;},onSaveGraphics:function(_7f,_80){}});});},"esriviewer/ui/layers/LayersWindowWidget":function(){define("esriviewer/ui/layers/LayersWindowWidget",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojo/window","dojo/dom-style","dojo/dom-class","../window/WindowWidget","./LayersWidget"],function(_81,_82,_83,_84,_85,_86,_87,_88){return _81([_87],{defaultPositioning:{x:700,y:50},windowWidth:null,windowHeaderText:"Map Layers",windowIconAltText:"Map Layers",windowIconClass:"commonIcons16 layerList",positioningParamName:"layers",constructor:function(){this.firstShowListener=this.on("firstWindowShow",_83.hitch(this,this.handleFirstWindowShow));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_82.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.WIDGET.SHOW,_83.hitch(this,this.show)));},handleFirstWindowShow:function(){this.firstShowListener.remove();this.setContent(this.layersWidget.domNode);},postCreate:function(){_86.add(this.domNode,"layersWindow");_86.add(this.windowContent,"layersWindowContent");this.layersWidget=new _88();this.inherited(arguments);},show:function(){this.inherited(arguments);this.layersWidget.showLayerList();},hidePopups:function(){this.inherited(arguments);if(this.layersWidget){this.layersWidget.hidePopups();}}});});},"esriviewer/map/base/MapUtils":function(){define("esriviewer/map/base/MapUtils",["dojo/_base/declare"],function(_89){return _89([],{});});},"esriviewer/ui/base/UITemplatedWidget":function(){define("esriviewer/ui/base/UITemplatedWidget",["dojo/_base/declare","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","./UIWidget"],function(_8a,_8b,_8c,_8d){return _8a([_8d,_8b,_8c],{widgetsInTemplate:true});});},"dijit/tree/TreeStoreModel":function(){define("dijit/tree/TreeStoreModel",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_8e,_8f,_90,_91){return _90("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(_92){_91.mixin(this,_92);this.connects=[];var _93=this.store;if(!_93.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");}if(_93.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_8f.after(_93,"onNew",_91.hitch(this,"onNewItem"),true),_8f.after(_93,"onDelete",_91.hitch(this,"onDeleteItem"),true),_8f.after(_93,"onSet",_91.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_94,_95){if(this.root){_94(this.root);}else{this.store.fetch({query:this.query,onComplete:_91.hitch(this,function(_96){if(_96.length!=1){throw new Error("dijit.tree.TreeStoreModel: root query returned "+_96.length+" items, but must return exactly one");}this.root=_96[0];_94(this.root);}),onError:_95});}},mayHaveChildren:function(_97){return _8e.some(this.childrenAttrs,function(_98){return this.store.hasAttribute(_97,_98);},this);},getChildren:function(_99,_9a,_9b){var _9c=this.store;if(!_9c.isItemLoaded(_99)){var _9d=_91.hitch(this,arguments.callee);_9c.loadItem({item:_99,onItem:function(_9e){_9d(_9e,_9a,_9b);},onError:_9b});return;}var _9f=[];for(var i=0;i<this.childrenAttrs.length;i++){var _a0=_9c.getValues(_99,this.childrenAttrs[i]);_9f=_9f.concat(_a0);}var _a1=0;if(!this.deferItemLoadingUntilExpand){_8e.forEach(_9f,function(_a2){if(!_9c.isItemLoaded(_a2)){_a1++;}});}if(_a1==0){_9a(_9f);}else{_8e.forEach(_9f,function(_a3,idx){if(!_9c.isItemLoaded(_a3)){_9c.loadItem({item:_a3,onItem:function(_a4){_9f[idx]=_a4;if(--_a1==0){_9a(_9f);}},onError:_9b});}});}},isItem:function(_a5){return this.store.isItem(_a5);},fetchItemByIdentity:function(_a6){this.store.fetchItemByIdentity(_a6);},getIdentity:function(_a7){return this.store.getIdentity(_a7);},getLabel:function(_a8){if(this.labelAttr){return this.store.getValue(_a8,this.labelAttr);}else{return this.store.getLabel(_a8);}},newItem:function(_a9,_aa,_ab){var _ac={parent:_aa,attribute:this.childrenAttrs[0]},_ad;if(this.newItemIdAttr&&_a9[this.newItemIdAttr]){this.fetchItemByIdentity({identity:_a9[this.newItemIdAttr],scope:this,onItem:function(_ae){if(_ae){this.pasteItem(_ae,null,_aa,true,_ab);}else{_ad=this.store.newItem(_a9,_ac);if(_ad&&(_ab!=undefined)){this.pasteItem(_ad,_aa,_aa,false,_ab);}}}});}else{_ad=this.store.newItem(_a9,_ac);if(_ad&&(_ab!=undefined)){this.pasteItem(_ad,_aa,_aa,false,_ab);}}},pasteItem:function(_af,_b0,_b1,_b2,_b3){var _b4=this.store,_b5=this.childrenAttrs[0];if(_b0){_8e.forEach(this.childrenAttrs,function(_b6){if(_b4.containsValue(_b0,_b6,_af)){if(!_b2){var _b7=_8e.filter(_b4.getValues(_b0,_b6),function(x){return x!=_af;});_b4.setValues(_b0,_b6,_b7);}_b5=_b6;}});}if(_b1){if(typeof _b3=="number"){var _b8=_b4.getValues(_b1,_b5).slice();_b8.splice(_b3,0,_af);_b4.setValues(_b1,_b5,_b8);}else{_b4.setValues(_b1,_b5,_b4.getValues(_b1,_b5).concat(_af));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(_b9,_ba){if(!_ba){return;}this.getChildren(_ba.item,_91.hitch(this,function(_bb){this.onChildrenChange(_ba.item,_bb);}));},onDeleteItem:function(_bc){this.onDelete(_bc);},onSetItem:function(_bd,_be){if(_8e.indexOf(this.childrenAttrs,_be)!=-1){this.getChildren(_bd,_91.hitch(this,function(_bf){this.onChildrenChange(_bd,_bf);}));}else{this.onChange(_bd);}}});});},"url:esriviewer/ui/bookmark/template/CreateBookmarkTemplate.html":"<div class=\"createBookmarkWindow fivePixelBorderRadius defaultBorder defaultBoxShadow\">\r\n    <div class=\"createBookmarkHeader\">\r\n    </div>\r\n    <div class=\"createBookmarkContent\">\r\n        <div class=\"createBookmarkLabelEntry createBookmarkEntry\">\r\n            <span class=\"createBookmarkLabel\">Label:</span>\r\n            <div data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-event=\"onKeyUp: onBookmarkLabelKeyUp\" data-dojo-attach-point=\"bookmarkLabelElement\"></div>\r\n        </div>\r\n    </div>\r\n    <div class=\"createBookmarkActionsContent\">\r\n        <span data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:hide\" class=\"createBookmarkButton\">Cancel</span>\r\n        <span data-dojo-type=\"dijit/form/Button\" class=\"createBookmarkButton\" data-dojo-attach-event=\"onClick:createBookmark\">Create</span>\r\n    </div>\r\n</div>","url:esriviewer/ui/toolbar/base/template/BasemapsListingTemplate.html":"<div data-bind=\"visible: visible\" class=\"basemapsToolbarDropdown toolbarDropdownContent\">\r\n    <div data-bind=\"foreach:basemaps\">\r\n        <div class=\"basemapToolbarEntry\">\r\n            <div class=\"basemapToolbarEntryLabel\" data-bind=\"text: $data.label\"></div>\r\n            <img class=\"basemapToolbarThumb\"\r\n                 data-bind=\"click:$parent.handleBasemapClick, css:{basemapThumbSelected: $data.selected},attr:{src:$data.thumbnail, title: $data.label}\">\r\n        </div>\r\n    </div>\r\n</div>","dijit/_MenuBase":function(){define("dijit/_MenuBase",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./popup","./registry","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_c0,_c1,dom,_c2,_c3,_c4,_c5,on,_c6,_c7,pm,_c8,_c9,_ca,_cb){return _c1("dijit._MenuBase",[_c9,_cb,_ca],{parentMenu:null,popupDelay:500,autoFocus:false,childSelector:function(_cc){var _cd=_c8.byNode(_cc);return _cc.parentNode==this.containerNode&&_cd&&_cd.focus;},postCreate:function(){var _ce=this,_cf=typeof this.childSelector=="string"?this.childSelector:_c4.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_cf,_c5.enter),function(){_ce.onItemHover(_c8.byNode(this));}),on(this.containerNode,on.selector(_cf,_c5.leave),function(){_ce.onItemUnhover(_c8.byNode(this));}),on(this.containerNode,on.selector(_cf,_c7),function(evt){_ce.onItemClick(_c8.byNode(this),evt);evt.stopPropagation();evt.preventDefault();}));this.inherited(arguments);},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _d0=this._getTopMenu();if(_d0&&_d0._isMenuBar){_d0.focusNext();}}},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _d1=this.currentPopup.parentMenu;if(_d1.focusedChild){_d1.focusedChild._setSelected(false);}_d1.focusedChild=this.currentPopup.from_item;_d1.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(_d2){if(this.isActive){this.focusChild(_d2);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=this.defer("_openPopup",this.popupDelay);}}if(this.focusedChild){this.focusChild(_d2);}this._hoveredChild=_d2;_d2._set("hovering",true);},_onChildBlur:function(_d3){this._stopPopupTimer();_d3._setSelected(false);var _d4=_d3.popup;if(_d4){this._stopPendingCloseTimer(_d4);_d4._pendingClose_timer=this.defer(function(){_d4._pendingClose_timer=null;if(_d4.parentMenu){_d4.parentMenu.currentPopup=null;}pm.close(_d4);},this.popupDelay);}},onItemUnhover:function(_d5){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==_d5){this._hoveredChild=null;}_d5._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(_d6){if(_d6._pendingClose_timer){_d6._pendingClose_timer=_d6._pendingClose_timer.remove();}},_stopFocusTimer:function(){if(this._focus_timer){this._focus_timer=this._focus_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(_d7,evt){if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(_d7);if(_d7.disabled){return false;}if(_d7.popup){this._openPopup(evt.type=="keypress");}else{this.onExecute();_d7._onClick?_d7._onClick(evt):_d7.onClick(evt);}},_openPopup:function(_d8){this._stopPopupTimer();var _d9=this.focusedChild;if(!_d9){return;}var _da=_d9.popup;if(!_da.isShowingNow){if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);pm.close(this.currentPopup);}_da.parentMenu=this;_da.from_item=_d9;var _db=this;pm.open({parent:this,popup:_da,around:_d9.domNode,orient:this._orient||["after","before"],onCancel:function(){_db.focusChild(_d9);_db._cleanUp();_d9._setSelected(true);_db.focusedChild=_d9;},onExecute:_c4.hitch(this,"_cleanUp")});this.currentPopup=_da;_da.connect(_da.domNode,"onmouseenter",_c4.hitch(_db,"_onPopupHover"));}if(_d8&&_da.focus){_da._focus_timer=this.defer(_c4.hitch(_da,function(){this._focus_timer=null;this.focus();}));}},_markActive:function(){this.isActive=true;_c3.replace(this.domNode,"dijitMenuActive","dijitMenuPassive");},onOpen:function(){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;_c3.replace(this.domNode,"dijitMenuPassive","dijitMenuActive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup){if(_c0.indexOf(this._focusManager.activeStack,this.id)>=0){_c2.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex);this.focusedChild.focusNode.focus();}pm.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.onItemUnhover(this.focusedChild);this.focusedChild=null;}},_onItemFocus:function(_dc){if(this._hoveredChild&&this._hoveredChild!=_dc){this.onItemUnhover(this._hoveredChild);}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});});},"esriviewer/ui/logging/model/LoggingViewModel":function(){define("esriviewer/ui/logging/model/LoggingViewModel",["dojo/_base/declare","dojo/_base/lang"],function(_dd,_de){return _dd([],{constructor:function(){this.infoDisplayed=ko.observable(false);this.warningDisplayed=ko.observable(true);this.errorDisplayed=ko.observable(true);this.logEntries=ko.observableArray();this.hasLogEntries=ko.computed(_de.hitch(this,this._hasEntries));this.filteredEntries=ko.computed(_de.hitch(this,this._filteredEntries));},_hasEntries:function(){return this.logEntries().length>0;},_filteredEntries:function(){var _df=[];var _e0=this.logEntries();var _e1;for(var i=0;i<_e0.length;i++){_e1=_e0[i];if(_e1.type===VIEWER_GLOBALS.LOG_TYPE.ERROR&&this.errorDisplayed()){_df.push(_e1);}else{if(_e1.type===VIEWER_GLOBALS.LOG_TYPE.WARNING&&this.warningDisplayed()){_df.push(_e1);}else{if(_e1.type===VIEWER_GLOBALS.LOG_TYPE.INFO&&this.infoDisplayed()){_df.push(_e1);}}}}return _df;}});});},"esriviewer/ui/tooltip/ConfirmTooltip":function(){define("esriviewer/ui/tooltip/ConfirmTooltip",["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/dom-construct","dijit/TooltipDialog","../base/UIWidget"],function(_e2,_e3,on,_e4,_e5,_e6){return _e2([_e6],{optionClassName:"confirmTooltipOptionText",contentHeaderLabelClassName:"confirmTooltipContentLbl",defaultYesLabel:"Yes",defaultNoLabel:"No",defaultDisplayText:"Confirm:",visible:false,constructor:function(_e7){this.confirmCallback=null;_e3.mixin(this,_e7||{});this._createTooltip();},getYesLabel:function(){return this.yesLabel==null?this.defaultYesLabel:this.yesLabel;},getNoLabel:function(){return this.noLabel==null?this.defaultNoLabel:this.noLabel;},getDisplayText:function(){return this.displayText==null?this.defaultDisplayText:this.displayText;},getConfirmCallback:function(){return this.confirmCallback;},hasConfirmCallback:function(){return this.confirmCallback!=null&&_e3.isFunction(this.confirmCallback);},onTooltipCreated:function(_e8){},setAtMouseEvent:function(evt){this.aroundNode=null;this.mouseEvent=evt;},setAroundNode:function(_e9){this.aroundNode=_e9;this.mouseEvent=null;},hasAroundNode:function(){return this.aroundNode!=null;},hasMouseEvent:function(){return this.mouseEvent!=null;},_createTooltip:function(){if(!this.hasConfirmCallback()){this.onError("must provide a confirm callback");return;}var _ea=_e4.create("div");var _eb=_e4.create("span",{innerHTML:this.getDisplayText(),className:this.contentHeaderLabelClassName});var _ec=_e4.create("span",{innerHTML:this.getYesLabel(),className:this.optionClassName});var _ed=_e4.create("span",{innerHTML:this.getNoLabel(),className:this.optionClassName});_e4.place(_eb,_ea);_e4.place(_ec,_ea);_e4.place(_ed,_ea);this.tooltip=new _e5({content:_ea});this.tooltip.on("close",_e3.hitch(this,function(){this.visible=false;}));var _ee=this.getConfirmCallback();var _ef=_e3.hitch(this,function(){this.confirmCallback();this.hide();});on(_ec,"click",_ef);on(_ed,"click",_e3.hitch(this,this.hide));this.onTooltipCreated(this.tooltip);},show:function(){if(!this.hasAroundNode()&&!this.hasMouseEvent()){this.onError("No Position passed for popup");return;}var _f0={popup:this.tooltip};if(this.aroundNode){_f0.around=this.aroundNode;}if(this.mouseEvent){_f0.x=(this.mouseEvent.pageX!=null?this.mouseEvent.pageX:this.mouseEvent.clientX)+5;_f0.y=(this.mouseEvent.pageY!=null?this.mouseEvent.pageY:this.mouseEvent.clientY)+5;}if(this.tooltip){dijit.popup.open(_f0);this.visible=true;}},hide:function(){if(this.tooltip){dijit.popup.close(this.tooltip);this.onHide();this.visible=false;}},onHide:function(){},onError:function(_f1){}});});},"esriviewer/ui/bookmark/BookmarkController":function(){define("esriviewer/ui/bookmark/BookmarkController",["dojo/_base/declare","dojo/topic","dojo/has","dojo/cookie","dojo/_base/json","dojo/_base/lang","dojo/_base/window","dojo/dom-construct","./CreateBookmarkWidget"],function(_f2,_f3,has,_f4,_f5,_f6,_f7,_f8,_f9){return _f2([],{cookieExpiration:365,cookieMode:false,constructor:function(){this.initListeners();if(!(has("ie")<8)){this.storageProvider=dojox.storage.manager.getProvider();this.cookieMode=false;}else{this.storageProvider=null;this.cookieMode=true;}this.bookmarks=this.initializeBookmarks();if(this.bookmarks==null||!_f6.isObject(this.bookmarks)){this.bookmarks={};}},initListeners:function(){_f3.subscribe(VIEWER_GLOBALS.EVENTS.BOOKMARK.CREATED,_f6.hitch(this,this.handleSaveBookmark));_f3.subscribe(VIEWER_GLOBALS.EVENTS.BOOKMARK.STORAGE.GET,_f6.hitch(this,this.handleGetBookmarks));_f3.subscribe(VIEWER_GLOBALS.EVENTS.BOOKMARK.CREATE_WINDOW.SHOW,_f6.hitch(this,this.showCreateBookmarkDisplay));_f3.subscribe(VIEWER_GLOBALS.EVENTS.BOOKMARK.REMOVED,_f6.hitch(this,this.removeBookmark));},removeBookmark:function(_fa){if(this.bookmarks!=null&&_f6.isObject(this.bookmarks)&&this.bookmarks[_fa]!=null){delete this.bookmarks[_fa];this._persistBookmarks();}},handleSaveBookmark:function(_fb){if(_fb==null||!_f6.isObject(_fb)){return;}var _fc=false;for(var key in _fb){this.bookmarks[key]=_fb[key];_fc=true;}if(_fc){this._persistBookmarks();}},_persistBookmarks:function(){if(!this.cookieMode){this._persistToLocalStorage();}else{this._persistToCookies();}},_persistToLocalStorage:function(){this.storageProvider.put(VIEWER_GLOBALS.STORAGE.LABELS.BOOKMARKS,this.bookmarks);},_persistToCookies:function(){_f4(VIEWER_GLOBALS.STORAGE.LABELS.BOOKMARKS,_f5.toJson(this.bookmarks),{expires:this.cookieExpiration});},handleGetBookmarks:function(_fd){if(_fd==null||!_f6.isFunction(_fd)){return;}_fd(this.bookmarks);},initializeBookmarks:function(){if(!this.cookieMode){return this._initializeLocalStorageBookmarks();}else{return this._initializeCookieBookmarks();}},_initializeCookieBookmarks:function(){var _fe=_f4(VIEWER_GLOBALS.STORAGE.LABELS.BOOKMARKS);if(_fe!=null&&_fe!=""){return _f5.fromJson(_fe);}return {};},_initializeLocalStorageBookmarks:function(){if(this.storageProvider.hasKey(VIEWER_GLOBALS.STORAGE.LABELS.BOOKMARKS)){return this.storageProvider.get(VIEWER_GLOBALS.STORAGE.LABELS.BOOKMARKS);}return {};},showCreateBookmarkDisplay:function(){if(this.createBookmarkWidget==null){this.createBookmarkWidget=new _f9();_f3.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.CREATE_BOOOKMARK,this.createBookmarkWidget);}this.createBookmarkWidget.show();}});});},"url:esriviewer/ui/logging/template/LoggingWidgetTemplate.html":"<div class=\"loggingWidgetContainer\">\r\n    <div class=\"windowActions\">\r\n        <div class=\"loggingWidgetActionContainerToggleEntry\">\r\n            <div class=\"commonIcons16 information loggingWidgetActionDisplayToggleIcon\"></div>\r\n            <input type=\"checkbox\" data-bind=\"checked:infoDisplayed\"\r\n                   title=\"Toggle Info Messages\"\r\n                   class=\"loggingWidgetActionDisplayCheckbox\"/>\r\n        </div>\r\n        <div class=\"loggingWidgetActionContainerToggleEntry\">\r\n            <div class=\"commonIcons16 warning loggingWidgetActionDisplayToggleIcon\"></div>\r\n            <input type=\"checkbox\" data-bind=\"checked:warningDisplayed\"\r\n                   title=\"Toggle Warning Messages\"\r\n                   class=\"loggingWidgetActionDisplayCheckbox\"/>\r\n        </div>\r\n        <div class=\"loggingWidgetActionContainerToggleEntry\">\r\n            <div class=\"commonIcons16 error loggingWidgetActionDisplayToggleIcon\"></div>\r\n            <input type=\"checkbox\" data-bind=\"checked:errorDisplayed\"\r\n                   title=\"Toggle Error Messages\"\r\n                   class=\"loggingWidgetActionDisplayCheckbox\"/>\r\n\r\n        </div>\r\n        <div class=\"commonIcons16 deleteCross loggingWidgetActionClearIcon\" data-bind=\"visible: hasLogEntries\"\r\n             data-dojo-attach-point=\"clearLogIcon\"\r\n             data-dojo-attach-event=\"onclick: _showConfirmLogTooltip\"></div>\r\n    </div>\r\n    <ul class=\"loggingWidgetEntryList\"\r\n        data-bind=\"foreach: filteredEntries\">\r\n        <li class=\"loggingInfoMessage\" data-bind=\"css: $data.messageStyleClass\">\r\n            <span class=\"loggingMessageTimestamp\"><span>(</span><span\r\n                data-bind=\"text: $data.time\"></span><span>)</span></span>\r\n            <div class=\"loggingWidgetTypeIcon commonIcons16\" data-bind=\"css: $data.iconClass\" style=\"cursor: default\"></div>\r\n            <span class=\"loggingMessageText\" data-bind=\"text:$data.message\"></span>\r\n        </li>\r\n    </ul>\r\n</div>","esriviewer/ui/plotting/PlottingWidgetWindow":function(){define("esriviewer/ui/plotting/PlottingWidgetWindow",["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/window","dojo/dom-class","../window/WindowWidget"],function(_ff,lang,_100,_101,_102,_103){return _ff([_103],{defaultPositioning:{x:600,y:125},windowWidth:"300px",windowHeaderText:"Plot Coordinates",windowIconAltText:"Plot Coordinates",windowIconClass:"commonIcons16 pushpin",positioningParamName:"plotting",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},postCreate:function(){this.inherited(arguments);_102.add(this.windowContent,"plottingWindowContent");},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/plotting/PlottingWidget"],lang.hitch(this,function(_104){this.plottingWidget=new _104();this.setContent(this.plottingWidget.domNode);}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_100.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.PLOTTING.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_100.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.PLOTTING.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_100.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.PLOTTING.TOGGLE,lang.hitch(this,this.toggle)));}});});},"esriviewer/ui/toolbar/base/BookmarkListingWidget":function(){require({cache:{"url:esriviewer/ui/toolbar/base/template/BookmarkListingTemplate.html":"<div class=\"bookmarksToolbarDropdown toolbarDropdownContent\" data-bind=\"visible:visible\">\r\n    <div class=\"createBookmarkIcon commonIcons16 add\" title=\"Create Bookmark\"\r\n         data-bind=\"visible:showCreateBookmarkIcon, click:showCreateBookmark\"></div>\r\n    <div class=\"bookmarksToolbarDropdownBookmarkEntries\" data-bind=\"foreach:_bookmarks\">\r\n        <div class=\"threePixelBorderRadius bookmarkToolbarEntry\" data-bind=\"click: $parent.handleBookmarkClick\">\r\n            <span class=\"bookmarkToolbarEntryText\" data-bind=\"text: $data.label\"></span>\r\n        </div>\r\n    </div>\r\n    <div class=\"bookmarksToolbarDropdownBookmarkRemovableEntries\" data-bind=\"template: {foreach:_removableBookmarks, afterAdd:handleAfterAddBookmark, beforeRemove:handleBeforeRemoveBookmark}\">\r\n        <div class=\"bookmarkToolbarEntryOuter\">\r\n            <div title=\"Remove Bookmark\" class=\"commonIcons16 bookmarkToolbarEntryRemoveIcon remove\"\r\n                 data-bind=\"click: $parent.removeClick\"></div>\r\n            <div class=\"threePixelBorderRadius bookmarkToolbarEntry\" data-bind=\"click: $parent.handleBookmarkClick\">\r\n                <span class=\"bookmarkToolbarEntryText\" data-bind=\"text: $data.label\"></span>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>"}});define("esriviewer/ui/toolbar/base/BookmarkListingWidget",["dojo/_base/declare","dojo/text!./template/BookmarkListingTemplate.html","dojo/topic","dojo/_base/lang","dojo/on","../../tooltip/ConfirmTooltip","../../base/UITemplatedWidget","./model/BookmarkListingViewModel","esri/geometry/Point"],function(_105,_106,_107,lang,on,_108,_109,_10a,_10b){return _105([_109],{allowBookmarkCreation:true,templateString:_106,initListeners:function(){this.inherited(arguments);_107.subscribe(VIEWER_GLOBALS.EVENTS.BOOKMARK.CREATED,lang.hitch(this,this.handleBookmarkCreated));},postCreate:function(){this.inherited(arguments);this.viewModel=new _10a();this.viewModel.showCreateBookmarkIcon(this.allowBookmarkCreation);this.viewModel.on(this.viewModel.SHOW_CREATE_BOOKMARK,lang.hitch(this,this.handleShowCreateBookmarkView));this.viewModel.on(this.viewModel.REMOVE_BOOKMARK_REQUEST,lang.hitch(this,this.handleRemoveBookmarkRequest));ko.applyBindings(this.viewModel,this.domNode);},loadViewerConfigurationData:function(){var _10c=null;_107.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"bookmarks",function(_10d){_10c=_10d;});if(_10c&&_10c.allowCreation!=null&&_10c.allowCreation==false){this.allowBookmarkCreation=false;}},isVisible:function(){return this.viewModel.visible();},toggle:function(){if(this.viewModel.visible()){this.hide();}else{this.show();}},show:function(){this.viewModel.visible(true);},hide:function(){this.hidePopups();this.viewModel.visible(false);},handleBookmarkCreated:function(_10e){this.addBookmarks(_10e,true);this.viewModel.sortRemovable();},addStaticBookmarks:function(_10f){this.addBookmarks(_10f,false);this.viewModel.sortStatic();this.viewModel.ignoreAddAnimation=false;},addBookmarks:function(_110,_111){if(_111==null){_111=false;}var _112;for(var key in _110){_112=_110[key];if(!this.isValidBookmark(_112)){continue;}var _113=lang.mixin({key:key},_112);_113.point=new _10b({x:_112.point.x,y:_112.point.y,spatialReference:_112.point.spatialReference});if(_111){this.viewModel.addRemovableBookmark(_113);}else{this.viewModel.addBookmark(_113);}}},isValidBookmark:function(_114){if(_114.label!=null&&_114.label!=""){if(_114.zoomLevel!=null){var pt=_114.point;if(pt.x!=null&&pt.y!=null&&pt.spatialReference!=null&&pt.spatialReference.wkid!=null){return true;}}}return false;},handleRemoveBookmarkRequest:function(_115,evt){if(_115!=null){this.deleteBookmarkConfirmedCallback=lang.hitch(this,function(_116){VIEWER_UTILS.log("Bookmark Deleted: "+_116.label,VIEWER_GLOBALS.LOG_TYPE.INFO);_107.publish(VIEWER_GLOBALS.EVENTS.BOOKMARK.REMOVED,_116.key);this.viewModel.removeBookmark(_116);},_115);this.showDeleteBookmarkTooltip(evt);}},loadCookieBookmarks:function(){_107.publish(VIEWER_GLOBALS.EVENTS.BOOKMARK.STORAGE.GET,lang.hitch(this,this.handleLocalStorageBookmarksLoaded));},handleLocalStorageBookmarksLoaded:function(_117){this.addBookmarks(_117,true);this.viewModel.sortRemovable();},handleShowCreateBookmarkView:function(){_107.publish(VIEWER_GLOBALS.EVENTS.BOOKMARK.CREATE_WINDOW.SHOW);},createConfirmDeleteBookmarkTooltip:function(){this.confirmDeleteBookmarkTooltip=new _108({confirmCallback:lang.hitch(this,this.handleConfirmedBookmarkDelete)});this.confirmDeleteBookmarkTooltip.on("hide",lang.hitch(this,function(){this.deleteBookmarkConfirmedCallback=null;}));},handleConfirmedBookmarkDelete:function(){if(this.deleteBookmarkConfirmedCallback!=null&&lang.isFunction(this.deleteBookmarkConfirmedCallback)){this.deleteBookmarkConfirmedCallback();this.deleteBookmarkConfirmedCallback=null;}},showDeleteBookmarkTooltip:function(evt){if(this.confirmDeleteBookmarkTooltip==null){this.createConfirmDeleteBookmarkTooltip();}if(this.confirmDeleteBookmarkTooltip){this.confirmDeleteBookmarkTooltip.setAtMouseEvent(evt);this.confirmDeleteBookmarkTooltip.show();}},hidePopups:function(){if(this.confirmDeleteBookmarkTooltip){this.confirmDeleteBookmarkTooltip.hide();}}});});},"dojox/storage/WhatWGStorageProvider":function(){define("dojox/storage/WhatWGStorageProvider",["dijit","dojo","dojox","dojo/require!dojox/storage/Provider,dojox/storage/manager"],function(_118,dojo,_119){dojo.provide("dojox.storage.WhatWGStorageProvider");dojo.require("dojox.storage.Provider");dojo.require("dojox.storage.manager");dojo.declare("dojox.storage.WhatWGStorageProvider",[_119.storage.Provider],{initialized:false,_domain:null,_available:null,_statusHandler:null,_allNamespaces:null,_storageEventListener:null,initialize:function(){if(dojo.config["disableWhatWGStorage"]==true){return;}this._domain=location.hostname;this.initialized=true;_119.storage.manager.loaded();},isAvailable:function(){try{var _11a=globalStorage[location.hostname];}catch(e){this._available=false;return this._available;}this._available=true;return this._available;},put:function(key,_11b,_11c,_11d){if(this.isValidKey(key)==false){throw new Error("Invalid key given: "+key);}_11d=_11d||this.DEFAULT_NAMESPACE;key=this.getFullKey(key,_11d);this._statusHandler=_11c;if(dojo.isString(_11b)){_11b="string:"+_11b;}else{_11b=dojo.toJson(_11b);}var _11e=dojo.hitch(this,function(evt){window.removeEventListener("storage",_11e,false);if(_11c){_11c.call(null,this.SUCCESS,key,null,_11d);}});window.addEventListener("storage",_11e,false);try{var _11f=globalStorage[this._domain];_11f.setItem(key,_11b);}catch(e){this._statusHandler.call(null,this.FAILED,key,e.toString(),_11d);}},get:function(key,_120){if(this.isValidKey(key)==false){throw new Error("Invalid key given: "+key);}_120=_120||this.DEFAULT_NAMESPACE;key=this.getFullKey(key,_120);var _121=globalStorage[this._domain];var _122=_121.getItem(key);if(_122==null||_122==""){return null;}_122=_122.value;if(dojo.isString(_122)&&(/^string:/.test(_122))){_122=_122.substring("string:".length);}else{_122=dojo.fromJson(_122);}return _122;},getNamespaces:function(){var _123=[this.DEFAULT_NAMESPACE];var _124={};var _125=globalStorage[this._domain];var _126=/^__([^_]*)_/;for(var i=0;i<_125.length;i++){var _127=_125.key(i);if(_126.test(_127)==true){var _128=_127.match(_126)[1];if(typeof _124[_128]=="undefined"){_124[_128]=true;_123.push(_128);}}}return _123;},getKeys:function(_129){_129=_129||this.DEFAULT_NAMESPACE;if(this.isValidKey(_129)==false){throw new Error("Invalid namespace given: "+_129);}var _12a;if(_129==this.DEFAULT_NAMESPACE){_12a=new RegExp("^([^_]{2}.*)$");}else{_12a=new RegExp("^__"+_129+"_(.*)$");}var _12b=globalStorage[this._domain];var _12c=[];for(var i=0;i<_12b.length;i++){var _12d=_12b.key(i);if(_12a.test(_12d)==true){_12d=_12d.match(_12a)[1];_12c.push(_12d);}}return _12c;},clear:function(_12e){_12e=_12e||this.DEFAULT_NAMESPACE;if(this.isValidKey(_12e)==false){throw new Error("Invalid namespace given: "+_12e);}var _12f;if(_12e==this.DEFAULT_NAMESPACE){_12f=new RegExp("^[^_]{2}");}else{_12f=new RegExp("^__"+_12e+"_");}var _130=globalStorage[this._domain];var keys=[];for(var i=0;i<_130.length;i++){if(_12f.test(_130.key(i))==true){keys[keys.length]=_130.key(i);}}dojo.forEach(keys,dojo.hitch(_130,"removeItem"));},remove:function(key,_131){key=this.getFullKey(key,_131);var _132=globalStorage[this._domain];_132.removeItem(key);},isPermanent:function(){return true;},getMaximumSize:function(){return this.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},showSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},hideSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},getFullKey:function(key,_133){_133=_133||this.DEFAULT_NAMESPACE;if(this.isValidKey(_133)==false){throw new Error("Invalid namespace given: "+_133);}if(_133==this.DEFAULT_NAMESPACE){return key;}else{return "__"+_133+"_"+key;}}});_119.storage.manager.register("dojox.storage.WhatWGStorageProvider",new _119.storage.WhatWGStorageProvider());});},"esriviewer/ui/toolbar/base/LocatorToolbarSupportMixin":function(){define("esriviewer/ui/toolbar/base/LocatorToolbarSupportMixin",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojo/on","dojo/dom-attr","dojo/dom-construct","dojo/dom-style","../../../base/LocationSupport","dijit/TooltipDialog","dijit/form/RadioButton","esri/geometry/Extent","esri/SpatialReference"],function(_134,_135,lang,on,_136,_137,_138,_139,_13a,_13b,_13c,_13d){return _134([_139],{showLocator:true,pointAddressAttributeLabel:"PointAddress",candidateAttributeLocationWKID:4326,constructor:function(){this.locatorLookup={};},onLocateBlur:function(){var val=_136.get(this.locateTextBox,"value");if(val==""){_136.set(this.locateTextBox,"value",this.locateDefaultInput);_138.set(this.locateTextBox,"color","#878787");}},initLocatorListeners:function(){on(this.locateTextBox,"blur",lang.hitch(this,this.onLocateBlur));on(this.locateTextBox,"focus",lang.hitch(this,this.onLocateFocus));on(this.locateTextBox,"keyup",lang.hitch(this,this.onLocateTextKeyUp));on(this.locateButton,"click",lang.hitch(this,this.handleLocationSearchRequest));_135.subscribe(VIEWER_GLOBALS.EVENTS.LOCATOR.LOCATOR_ADDED,lang.hitch(this,this.handleLocatorAdded));_135.subscribe(VIEWER_GLOBALS.EVENTS.LOCATOR.LOCATOR_REMOVED,lang.hitch(this,this.handleLocatorRemoved));},loadCurrentLocators:function(){var _13e=null;_135.publish(VIEWER_GLOBALS.EVENTS.LOCATOR.GET_LOCATORS,function(_13f){_13e=_13f;});if(_13e!=null&&lang.isArray(_13e)&&_13e.length>0){for(var i=0;i<_13e.length;i++){this._addLocatorToLocatorConfiguration(_13e[i].locator,_13e[i].label);}if(this.showLocator){_138.set(this.locateToolbarContainer,"display","inline");}}else{}},handleLocatorAdded:function(_140){if(this.showLocator){_138.set(this.locateToolbarContainer,"display","inline");}this._addLocatorToLocatorConfiguration(_140.locator,_140.label);},_addLocatorToLocatorConfiguration:function(_141,_142){if(this.configureLocatorTooltip==null){this.createConfigureLocatorTooltip();}var _143=_141.url.toLowerCase();if(this.locatorLookup[_143]!=null){return;}var _144=new _13b({name:"locatorConfigureRadioEntry"});var _145=(_142!=null&&_142!="")?_142:REG_EXP_UTILS.getServiceNameFromUrl(_141.url);var _146=_137.create("span",{innerHTML:_145,className:"locatorConfigurationEntryLabel"});var _147=_137.create("div",{className:"locatorConfigurationEntry"});_137.place(_144.domNode,_147);_137.place(_146,_147);_137.place(_147,this.configureLocatorContent);_138.set(this.configureLocatorNoLocatorsText,"display","none");this.locatorLookup[_143]={locator:_141,container:_147,radio:_144};var _148=0;for(var key in this.locatorLookup){_148++;}if(_148==1){_144.set("checked","true");}},handleLocatorRemoved:function(_149){if(this.locatorLookup[_149]!=null){_137.destroy(this.locatorLookup[_149].container);delete this.locatorLookup[_149];var _14a=false;for(var key in this.locatorLookup){_14a=true;break;}if(_14a){_138.set(this.configureLocatorNoLocatorsText,"display","none");}else{_138.set(this.configureLocatorNoLocatorsText,"display","block");}}},onLocateFocus:function(){var val=_136.get(this.locateTextBox,"value");if(val==this.locateDefaultInput){_136.set(this.locateTextBox,"value","");_138.set(this.locateTextBox,"color","black");}},onLocateTextKeyUp:function(e){if(VIEWER_UTILS.isEnterKey(e)){this.handleLocationSearchRequest();}},handleLocationSearchRequest:function(){var _14b=_136.get(this.locateTextBox,"value");if(_14b!=null&&_14b!=""&&_14b!=this.locateDefaultInput){var _14c;var _14d;for(var key in this.locatorLookup){_14c=this.locatorLookup[key];if(_14c.radio.get("checked")){_14d=_14c;break;}}if(_14d){this.handleLocate(_14b,_14d.locator);}}},handleLocationResponse:function(_14e){if(lang.isArray(_14e)&&_14e.length>0){var _14f=_14e[0];if(lang.isObject(_14f.attributes)){var _150;var _151;var _152;var _153;var _154;if(_14f.attributes.North_Lat!=null&&_14f.attributes.South_Lat!=null&&_14f.attributes.West_Lon!=null&&_14f.attributes.East_Lon!=null){try{_150=parseFloat(_14f.attributes.West_Lon);_151=parseFloat(_14f.attributes.South_Lat);_152=parseFloat(_14f.attributes.East_Lon);_153=parseFloat(_14f.attributes.North_Lat);_154=new _13c(_150,_151,_152,_153,new _13d(this.candidateAttributeLocationWKID));_135.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.SET_EXTENT,_154);return;}catch(err){}}if(_14f.attributes.Ymax!=null&&_14f.attributes.Xmax!=null&&_14f.attributes.Xmin!=null&&_14f.attributes.Ymin!=null){try{_150=parseFloat(_14f.attributes.Xmin);_151=parseFloat(_14f.attributes.Ymin);_152=parseFloat(_14f.attributes.Xmax);_153=parseFloat(_14f.attributes.Ymax);_154=new _13c(_150,_151,_152,_153,new _13d(this.candidateAttributeLocationWKID));_135.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.SET_EXTENT,_154);return;}catch(err){}}if(_14f.attributes.MatchLevel!=null&&_14f.location){var _155=_14f.attributes.MatchLevel;var _156=null;if(_155!=null){if(_155===this.pointAddressAttributeLabel){_156={};_156.deepest=true;}}_135.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.PAN_TO,_14f.location,_156);return;}}if(_14f.location!=null){_135.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.PAN_TO,_14f.location);}}},createConfigureLocatorTooltip:function(){this.configureLocatorContent=_137.create("div");this.configureLocatorNoLocatorsText=_137.create("div",{className:"noLocatorsText",innerHTML:"No Locators Configured"});_137.place(this.configureLocatorNoLocatorsText,this.configureLocatorContent);this.configureLocatorTooltip=new _13a({content:this.configureLocatorContent});},toggleConfigureLocatorTooltip:function(){if(!this.configureLocatorTooltipVisible){this.showConfigureLocatorTooltip();this.configureLocatorTooltipVisible=true;}else{this.hideConfigureLocatorTooltip();this.configureLocatorTooltipVisible=false;}},showConfigureLocatorTooltip:function(){if(this.configureLocatorTooltip==null){this.createConfigureLocatorTooltip();}if(this.configureLocatorTooltip){dijit.popup.open({popup:this.configureLocatorTooltip,around:this.configureLocateButton});}},hideConfigureLocatorTooltip:function(){if(this.configureLocatorTooltip){dijit.popup.close(this.configureLocatorTooltip);}}});});},"dijit/tree/ForestStoreModel":function(){define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_157,_158,_159,lang,_15a){return _158("dijit.tree.ForestStoreModel",_15a,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_15b){this.root={store:this,root:true,id:_15b.rootId,label:_15b.rootLabel,children:_15b.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_15c,_15d,_15e){if(_15c===this.root){if(this.root.children){_15d(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_15f){this.root.children=_15f;_15d(_15f);}),onError:_15e});}}else{this.inherited(arguments);}},isItem:function(_160){return (_160===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_161){if(_161.identity==this.root.id){var _162=_161.scope||_159.global;if(_161.onItem){_161.onItem.call(_162,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_163,_164){if(_163===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_165,_166,_167,_168,_169){if(_166===this.root){if(!_168){this.onLeaveRoot(_165);}}this.inherited(arguments,[_165,_166===this.root?null:_166,_167===this.root?null:_167,_168,_169]);if(_167===this.root){this.onAddToRoot(_165);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _16a=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_16b){this.root.children=_16b;if(_16a.length!=_16b.length||_157.some(_16a,function(item,idx){return _16b[idx]!=item;})){this.onChildrenChange(this.root,_16b);}})});},onNewItem:function(item,_16c){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_157.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_16d,_16e,_16f){this._requeryTop();this.inherited(arguments);}});});},"dojox/html/metrics":function(){define("dojox/html/metrics",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/ready","dojo/_base/unload","dojo/_base/window","dojo/dom-geometry"],function(_170,lang,has,_171,_172,_173,_174){var dhm=lang.getObject("dojox.html.metrics",true);var _175=lang.getObject("dojox");dhm.getFontMeasurements=function(){var _176={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(has("ie")){_173.doc.documentElement.style.fontSize="100%";}var div=_173.doc.createElement("div");var ds=div.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.borderWidth="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";_173.body().appendChild(div);for(var p in _176){ds.fontSize=p;_176[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}_173.body().removeChild(div);div=null;return _176;};var _177=null;dhm.getCachedFontMeasurements=function(_178){if(_178||!_177){_177=dhm.getFontMeasurements();}return _177;};var _179=null,_17a={};dhm.getTextBox=function(text,_17b,_17c){var m,s;if(!_179){m=_179=_173.doc.createElement("div");var c=_173.doc.createElement("div");c.appendChild(m);s=c.style;s.overflow="scroll";s.position="absolute";s.left="0px";s.top="-10000px";s.width="1px";s.height="1px";s.visibility="hidden";s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";_173.body().appendChild(c);}else{m=_179;}m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(arguments.length>1&&_17b){for(var i in _17b){if(i in _17a){continue;}s[i]=_17b[i];}}if(arguments.length>2&&_17c){m.className=_17c;}m.innerHTML=text;var box=_174.position(m);box.w=m.parentNode.scrollWidth;return box;};var _17d={w:16,h:16};dhm.getScrollbar=function(){return {w:_17d.w,h:_17d.h};};dhm._fontResizeNode=null;dhm.initOnFontResize=function(_17e){var f=dhm._fontResizeNode=_173.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";fs.display="none";if(has("ie")){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=f.contentWindow.parent[_175._scopeName].html.metrics._fontresize;}};}else{f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[_175._scopeName].html.metrics._fontresize;};}f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");_173.body().appendChild(f);dhm.initOnFontResize=function(){};};dhm.onFontResize=function(){};dhm._fontresize=function(){dhm.onFontResize();};_172.addOnUnload(function(){var f=dhm._fontResizeNode;if(f){if(has("ie")&&f.onresize){f.onresize=null;}else{if(f.contentWindow&&f.contentWindow.onresize){f.contentWindow.onresize=null;}}dhm._fontResizeNode=null;}});_171(function(){try{var n=_173.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";_173.body().appendChild(n);_17d.w=n.offsetWidth-n.clientWidth;_17d.h=n.offsetHeight-n.clientHeight;_173.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in _170.config&&!!_170.config.fontSizeWatch){dhm.initOnFontResize();}});return dhm;});},"url:esriviewer/ui/header/template/HeaderLogoTemplate.html":"<div class=\"logoHeaderContainer defaultBoxShadow defaultBackground defaultBorder fourPixelBorderRadius\">\r\n    <img alt=\"header logo\" data-bind=\"visible: showHeaderIcon, attr:{ src: headerIconUrl, alt:headerMainText}\"  class='headerLogoIcon'>\r\n    <span class=\"headerMainText\" data-bind=\"text: headerMainText\"></span>\r\n    <div class=\"logolinks\">\r\n        <a data-bind=\"attr:{href: contactUrl},text: contactText\" target=\"_blank\" title=\"Opens in a new window.\"></a>\r\n        <span class=\"headerLogoLinksSpace\">|</span>\r\n        <a data-bind=\"attr:{href: helpUrl}, text: helpText\" target=\"_blank\" title=\"Opens in a new window.\"></a>\r\n    </div>\r\n</div>","url:dijit/layout/templates/AccordionButton.html":"<div data-dojo-attach-event='onclick:_onTitleClick' class='dijitAccordionTitle' role=\"presentation\">\n\t<div data-dojo-attach-point='titleNode,focusNode' data-dojo-attach-event='onkeypress:_onTitleKeyPress'\n\t\t\tclass='dijitAccordionTitleFocus' role=\"tab\" aria-expanded=\"false\"\n\t\t><span class='dijitInline dijitAccordionArrow' role=\"presentation\"></span\n\t\t><span class='arrowTextUp' role=\"presentation\">+</span\n\t\t><span class='arrowTextDown' role=\"presentation\">-</span\n\t\t><img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon\" data-dojo-attach-point='iconNode' style=\"vertical-align: middle\" role=\"presentation\"/>\n\t\t<span role=\"presentation\" data-dojo-attach-point='titleTextNode' class='dijitAccordionText'></span>\n\t</div>\n</div>\n","esriviewer/ui/draw/base/model/GraphicsListViewModel":function(){define("esriviewer/ui/draw/base/model/GraphicsListViewModel",["dojo/_base/declare","dojo/topic","dojo/Evented"],function(_17f,_180,_181){return _17f([_181],{REMOVE_GRAPHIC:"removeGraphic",REMOVE_ALL_GRAPHICS:"removeAllGraphics",constructor:function(){var self=this;this.saveGraphicsIconVisible=ko.observable(false);this.saveGraphicsInputVisible=ko.observable(false);this.allGraphicsVisible=ko.observable(true);this.addedGraphics=ko.observableArray();var _182=function(){return self.addedGraphics().length>0;};this.hasGraphics=ko.computed(_182);this.removeGraphic=function(_183){if(_183==null){return;}self.emit(self.REMOVE_GRAPHIC,_183.graphic);self.addedGraphics.remove(_183);};this.zoomToGraphic=function(_184){_180.publish(VIEWER_GLOBALS.EVENTS.MAP.GRAPHICS.CENTER_AND_FLASH,_184.graphic);};},removeAllGraphics:function(){var _185=this.addedGraphics();this.emit(this.REMOVE_ALL_GRAPHICS);for(var i=0;i<_185.length;i++){}this.addedGraphics.removeAll();},toggleAllGraphics:function(){var _186=this.addedGraphics();var i;if(!this.allGraphicsVisible()){for(i=0;i<_186.length;i++){_186[i].graphic.show();}this.allGraphicsVisible(true);}else{for(i=0;i<_186.length;i++){_186[i].graphic.hide();}this.allGraphicsVisible(false);}},toggleSaveGraphics:function(){this.saveGraphicsInputVisible(!this.saveGraphicsInputVisible());}});});},"esriviewer/ui/draw/configure/geometry/ConfigurePointWidget":function(){require({cache:{"url:esriviewer/ui/draw/configure/geometry/template/ConfigurePointTemplate.html":"<div class=\"configureDrawGeometryContainer\">\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Marker Style</span>\r\n        <select data-bind=\"options: markerStyles ,value:selectedMarkerStyle, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Marker Size</span>\r\n        <select data-bind=\"options: markerSizes ,value:selectedMarkerSize\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Outline Style</span>\r\n        <select data-bind=\"options: outlineStyles ,value:selectedOutlineStyle, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Outline Width</span>\r\n        <select data-bind=\"options: outlineWidths ,value:selectedOutlineWidth\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Angle</span>\r\n        <select data-bind=\"options: angles ,value:selectedAngle\"></select>\r\n    </div>\r\n    <div data-dojo-attach-point=\"transparencySliderContainer\"></div>\r\n    <div class=\"colorPickerTextContainer\">\r\n        <span class=\"colorPickerText\"\r\n              data-bind=\"click: setMarkerColorMode,css:{colorPickerTextSelected: markerColorActive}\"> Marker Color</span>\r\n        <span class=\"colorPickerText\"\r\n              data-bind=\"click: setOutlineColorMode,css:{colorPickerTextSelected: outlineColorActive}\"> Outline Color</span>\r\n\r\n    </div>\r\n\r\n    <div class=\"configureDrawColorPickerContainer\" data-dojo-attach-point=\"colorPickerContainer\"></div>\r\n</div>"}});define("esriviewer/ui/draw/configure/geometry/ConfigurePointWidget",["dojo/_base/declare","dojo/text!./template/ConfigurePointTemplate.html","dojo/_base/Color","dojo/topic","dojo/_base/lang","./model/ConfigurePointViewModel","./BaseGeometryConfigurationWidget","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol"],function(_187,_188,_189,_18a,lang,_18b,_18c,_18d,_18e){return _187([_18c],{templateString:_188,postCreate:function(){this.inherited(arguments);this.viewModel=new _18b();this.viewModel.selectedMarkerStyle.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedMarkerSize.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedAngle.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedOutlineWidth.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedOutlineStyle.subscribe(lang.hitch(this,this.processChange));this.viewModel.markerColorActive.subscribe(lang.hitch(this,this.handleMarkerColorToggled));this.markerColor=new _189([255,0,0,this.getTransparency()/100]);this.outlineColor=new _189([255,0,0,this.getTransparency()/100]);this.colorPicker.set("value",this.markerColor.toHex());ko.applyBindings(this.viewModel,this.domNode);},handleTransparencyChanged:function(){var _18f=this.getTransparency()/100;this.outlineColor=new _189([this.outlineColor.r,this.outlineColor.g,this.outlineColor.b,_18f]);this.markerColor=new _189([this.markerColor.r,this.markerColor.g,this.markerColor.b,_18f]);this.inherited(arguments);},handleMarkerColorToggled:function(_190){if(_190){this.colorPicker.set("value",this.markerColor.toHex());}else{this.colorPicker.set("value",this.outlineColor.toHex());}},handleColorPickerChanged:function(){if(this.viewModel.outlineColorActive()){this.outlineColor=this.getColor();}else{this.markerColor=this.getColor();}this.processChange();},processChange:function(){this.onChange(this.getSymbol());},getSymbol:function(){return new _18d(this.viewModel.selectedMarkerStyle(),parseInt(this.viewModel.selectedMarkerSize(),10),new _18e(this.viewModel.selectedOutlineStyle(),this.outlineColor,this.viewModel.selectedOutlineWidth()),this.markerColor).setAngle(this.viewModel.selectedAngle());}});});},"esriviewer/ui/draw/configure/geometry/model/ConfigurePointViewModel":function(){define("esriviewer/ui/draw/configure/geometry/model/ConfigurePointViewModel",["dojo/_base/declare","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol"],function(_191,_192,_193){return _191([],{pointColorTypes:{outline:"outline",fill:"fill"},markerStyles:ko.observableArray([{value:_192.STYLE_CIRCLE,label:"Circle"},{value:_192.STYLE_CROSS,label:"Cross"},{value:_192.STYLE_DIAMOND,label:"Diamond"},{value:_192.STYLE_SQUARE,label:"Square"},{value:_192.STYLE_X,label:"X"}]),outlineStyles:ko.observableArray([{value:_193.STYLE_DASH,label:"Dashed Line"},{value:_193.STYLE_DASHDOT,label:"Dash Dot Line"},{value:_193.STYLE_DASHDOTDOT,label:"Dash Dot Dot Line"},{value:_193.STYLE_DOT,label:"Dotted Line"},{value:_193.STYLE_SOLID,label:"Solid Line"},{value:_193.STYLE_NULL,label:"None"}]),markerSizes:ko.observableArray([1,2,3,4,5,6,7,8,9,10,15,20,25,30,40,50,75]),outlineWidths:ko.observableArray([1,2,3,4,5,6,7,8,9,10]),angles:ko.observableArray([0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85]),constructor:function(){this.selectedMarkerStyle=ko.observable(_192.STYLE_CIRCLE);this.selectedMarkerSize=ko.observable(10);this.selectedAngle=ko.observable(0);this.selectedOutlineStyle=ko.observable(_193.STYLE_SOLID);this.selectedOutlineWidth=ko.observable(1);this.markerColorActive=ko.observable(true);this.outlineColorActive=ko.observable(false);},setOutlineColorMode:function(){this.outlineColorActive(true);this.markerColorActive(false);},setMarkerColorMode:function(){this.outlineColorActive(false);this.markerColorActive(true);}});});},"dojo/dnd/Manager":function(){define("dojo/dnd/Manager",["../_base/array","../_base/declare","../_base/event","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_194,_195,_196,lang,win,_197,_198,has,keys,on,_199,_19a,dnd,_19b,_19c){var _19d=_195("dojo.dnd.Manager",[_198],{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:has("touch")?0:16,OFFSET_Y:has("touch")?-64:16,overSource:function(_19e){if(this.avatar){this.target=(_19e&&_19e.targetState!="Disabled")?_19e:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}_199.publish("/dnd/source/over",_19e);},outSource:function(_19f){if(this.avatar){if(this.target==_19f){this.target=null;this.canDropFlag=false;this.avatar.update();_199.publish("/dnd/source/over",null);}}else{_199.publish("/dnd/source/over",null);}},startDrag:function(_1a0,_1a1,copy){_19b.autoScrollStart(win.doc);this.source=_1a0;this.nodes=_1a1;this.copy=Boolean(copy);this.avatar=this.makeAvatar();win.body().appendChild(this.avatar.node);_199.publish("/dnd/start",_1a0,_1a1,this.copy);this.events=[on(win.doc,_19a.move,lang.hitch(this,"onMouseMove")),on(win.doc,_19a.release,lang.hitch(this,"onMouseUp")),on(win.doc,"keydown",lang.hitch(this,"onKeyDown")),on(win.doc,"keyup",lang.hitch(this,"onKeyUp")),on(win.doc,"dragstart",_196.stop),on(win.body(),"selectstart",_196.stop)];var c="dojoDnd"+(copy?"Copy":"Move");_197.add(win.body(),c);},canDrop:function(flag){var _1a2=Boolean(this.target&&flag);if(this.canDropFlag!=_1a2){this.canDropFlag=_1a2;this.avatar.update();}},stopDrag:function(){_197.remove(win.body(),["dojoDndCopy","dojoDndMove"]);_194.forEach(this.events,function(_1a3){_1a3.remove();});this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new _19c(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){_19b.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}if(has("touch")){e.preventDefault();}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));_199.publish("/dnd/drop/before",this.source,this.nodes,copy,this.target,e);_199.publish("/dnd/drop",this.source,this.nodes,copy,this.target,e);}else{_199.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case keys.ESCAPE:_199.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();_197.replace(win.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dnd._manager=null;_19d.manager=dnd.manager=function(){if(!dnd._manager){dnd._manager=new _19d();}return dnd._manager;};return _19d;});},"esriviewer/ui/bookmark/CreateBookmarkWidget":function(){require({cache:{"url:esriviewer/ui/bookmark/template/CreateBookmarkTemplate.html":"<div class=\"createBookmarkWindow fivePixelBorderRadius defaultBorder defaultBoxShadow\">\r\n    <div class=\"createBookmarkHeader\">\r\n    </div>\r\n    <div class=\"createBookmarkContent\">\r\n        <div class=\"createBookmarkLabelEntry createBookmarkEntry\">\r\n            <span class=\"createBookmarkLabel\">Label:</span>\r\n            <div data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-event=\"onKeyUp: onBookmarkLabelKeyUp\" data-dojo-attach-point=\"bookmarkLabelElement\"></div>\r\n        </div>\r\n    </div>\r\n    <div class=\"createBookmarkActionsContent\">\r\n        <span data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:hide\" class=\"createBookmarkButton\">Cancel</span>\r\n        <span data-dojo-type=\"dijit/form/Button\" class=\"createBookmarkButton\" data-dojo-attach-event=\"onClick:createBookmark\">Create</span>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/bookmark/CreateBookmarkWidget",["dojo/_base/declare","dojo/text!./template/CreateBookmarkTemplate.html","dojo/topic","../base/UITemplatedWidget","dojo/dom-style","dojo/dom-class","dojox/timing","dijit/form/TextBox","dijit/form/Button"],function(_1a4,_1a5,_1a6,_1a7,_1a8,_1a9,_1aa,_1ab,_1ac){return _1a4([_1a7],{animate:true,animateOnPlace:false,templateString:_1a5,postCreate:function(){this.inherited(arguments);this._hideNoAnim();},loadViewerConfigurationData:function(){var _1ad=null;_1a6.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"animationsEnabled",function(_1ae){_1ad=_1ae;});if(_1ad!=null){this.animate=_1ad;}},show:function(){_1a9.remove(this.domNode,"createBookmarkWindowHidden");if(this.animate){this._removeAnimationClasses();this.animation=VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.IN;this._animateWidget();}this.bookmarkLabelElement.focus();},_hideNoAnim:function(){_1a9.add(this.domNode,"createBookmarkWindowHidden");this.bookmarkLabelElement.set("value","");},hide:function(){if(this.animate){this._removeAnimationClasses();this.animation=VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.OUT;this._animateWidget();var _1af=new _1aa.Timer(VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.DURATION);var self=this;_1af.onTick=function(){_1a9.add(self.domNode,"createBookmarkWindowHidden");_1af.stop();_1af=null;};_1af.start();}else{_1a9.add(this.domNode,"createBookmarkWindowHidden");}this.bookmarkLabelElement.set("value","");},onBookmarkLabelKeyUp:function(e){if(VIEWER_UTILS.isEnterKey(e)){this.createBookmark();}},createBookmark:function(){var _1b0=this.bookmarkLabelElement.get("value");if(_1b0==""){return;}var _1b1;var _1b2;_1a6.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_CENTER,function(_1b3){_1b1=_1b3;});_1a6.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_LEVEL,function(_1b4){_1b2=_1b4;});var _1b5={x:_1b1.x,y:_1b1.y,spatialReference:{wkid:_1b1.spatialReference.wkid}};var id=VIEWER_UTILS.generateUUID();var _1b6={label:_1b0,zoomLevel:_1b2,point:_1b5};var _1b7={};_1b7[id]=_1b6;VIEWER_UTILS.log("Bookmark Created: "+_1b0,VIEWER_GLOBALS.LOG_TYPE.INFO);_1a6.publish(VIEWER_GLOBALS.EVENTS.BOOKMARK.CREATED,_1b7);this.hide();}});});},"esriviewer/ui/print/PrintWidgetWindow":function(){define("esriviewer/ui/print/PrintWidgetWindow",["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/window","dojo/dom-style","../window/WindowWidget"],function(_1b8,lang,_1b9,_1ba,_1bb,_1bc){return _1b8([_1bc],{defaultPositioning:{x:500,y:125},windowWidth:"300px",windowHeaderText:"Print",windowIconAltText:"Print",windowIconClass:"commonIcons16 print",positioningParamName:"print",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/print/PrintWidget"],lang.hitch(this,function(_1bd){this.printWidget=new _1bd();this.setContent(this.printWidget.domNode);}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_1b9.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.PRINT.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_1b9.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.PRINT.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_1b9.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.PRINT.TOGGLE,lang.hitch(this,this.toggle)));}});});},"url:esriviewer/ui/navigation/template/NavigationWidgetTemplate.html":"<div data-bind=\"visible: visible\" class=\"navigationHorizontalWidgetContainer\">\r\n    <div class=\"navigationTextToolbarHorizontal\">\r\n        <div class=\"navigationTextToolbarHorizontalInner\" data-dojo-attach-point=\"navigationToolbar\">\r\n        </div>\r\n    </div>\r\n</div>\r\n","esriviewer/manager/base/WebMapTemplateConfigurationUtil":function(){define("esriviewer/manager/base/WebMapTemplateConfigurationUtil",["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","esri/request","dojo/_base/array","../../base/DataLoaderSupport","esri/arcgis/utils"],function(_1be,lang,_1bf,_1c0,_1c1,_1c2,_1c3){return _1be([_1c2],{showOverviewParameter:"showOverview",showLegendParameter:"showLegend",showHeaderParameter:"showHeader",headerTextParameter:"headerText",helpLinkParameter:"helpUrl",contactUsParameter:"contactUsUrl",ignoreProcessingConfigurationEntries:["webmap","geometryServiceUrl","locators","baseViewer","showOverview","showLegend"],appConfigToViewerWindowWidgetConfigLookup:{logging:"logging"},appConfigToViewerWidgetConfigLookup:{pointUploadWidget:"pointUploadWidget",drawWidget:"drawWidget",plottingWidget:"plottingWidget",reverseGeocodeWidget:"reverseGeocodeWidget",portalSearchWidget:"portalSearchWidget",reflectivityWidget:"reflectivityWidget",zoomToWidget:"zoomToWidget",timeSliderWidget:"timeSliderWidget",identifyWidget:"identifyWidget",configureWidget:"configureWidget",measureWidget:"measureWidget",socialMediaWidget:"socialMediaWidget",printWidget:"printWidget",weatherWidget:"weatherWidget"},defaultConfigFile:"config/portal/config.json",constructor:function(){this.init();},init:function(){},loadConfiguration:function(_1c4){this.appId=_1c4;this.deferred=new _1bf();this._loadDefaultConfiguration();return this.deferred.promise;},_loadDefaultConfiguration:function(){this.loadJson(this.defaultConfigFile,lang.hitch(this,this._handleDefaultConfigurationLoaded),lang.hitch(this,this._handleDefaultConfigurationLoadError));},_loadTemplateConfiguration:function(){var _1c5=_1c0({url:_1c3.arcgisUrl+"/"+this.appId+"/data",content:{f:"json"},callbackParamName:"callback",load:lang.hitch(this,this.handleTemplateResponse),error:lang.hitch(this,this.handleTemplateErrorResponse)},{useProxy:true});},handleTemplateErrorResponse:function(err){alert("Could not load application data from "+_1c3.arcgisUrl);},handleTemplateResponse:function(_1c6){this.templateResponse=_1c6;this.appConfig={};for(var key in _1c6.values){if(_1c6.values[key]!==undefined){this.appConfig[key]=_1c6.values[key];}}this._loadWebMapItem(this.appConfig.webmap);},_loadWebMapItem:function(_1c7){_1c3.getItem(_1c7).then(lang.hitch(this,this.handleWebMapItemLoaded));},handleWebMapItemLoaded:function(_1c8){this.webMapItem=_1c8;var _1c9=lang.mixin(this.defaultConfiguration.values,this.appConfig);this.viewerConfiguration=this._applicationConfigurationToViewerConfiguration(_1c9);this.viewerConfiguration.webMapItem=this.webMapItem;this.handleWebMapConfigurationComplete();},_handleDefaultConfigurationLoaded:function(_1ca){this.defaultConfiguration=_1ca;this.portalUrl=this.defaultConfiguration.values.portalConfiguration.url;_1c3.arcgisUrl=VIEWER_UTILS.joinUrl(this.portalUrl,this.defaultConfiguration.values.portalConfiguration.itemsPath);this._loadTemplateConfiguration();},handleWebMapConfigurationComplete:function(){this.finalizeLoad();},finalizeLoad:function(){this.deferred.resolve(this.viewerConfiguration);},_handleDefaultConfigurationLoadError:function(){alert("Could not load default configuration");},_applicationConfigurationToViewerConfiguration:function(_1cb){var _1cc={small:true,display:true,headerText:"Mapping Application",headerImage:"images/logoSmall.png",contact:{label:"Contact Us",url:"http://www.esri.com/about-esri/contact"},help:{label:"Help",url:"http://support.esri.com/en/"}};var _1cd={webMapItem:_1cb.webmap,header:_1cc};for(var key in _1cb){if(_1c1.indexOf(this.ignoreProcessingConfigurationEntries,key)>-1){continue;}else{if(key===this.showHeaderParameter){_1cd.header.display=_1cb[key];}else{if(key===this.headerTextParameter){_1cd.header.headerText=_1cb[key];}else{if(key===this.helpLinkParameter){_1cd.header.contact.url=_1cb[key];}else{if(key===this.contactUsParameter){_1cd.header.help.url=_1cb[key];}else{if(this.appConfigToViewerWidgetConfigLookup[key]){_1cd[key]={create:_1cb[key]};}else{if(this.appConfigToViewerWindowWidgetConfigLookup[key]){_1cd[key]={window:{create:_1cb[key]}};}else{_1cd[key]={create:false};}}}}}}}}this._applyWebMappingApplicationDefaults(_1cb,_1cd);return _1cd;},_applyWebMappingApplicationDefaults:function(_1ce,_1cf){var _1d0=_1ce[this.showOverviewParameter]!=null&&_1ce[this.showOverviewParameter];var _1d1=_1ce[this.showLegendParameter]!=null&&_1ce[this.showLegendParameter];_1cf.map={overview:{create:_1d0},useBasemapGallery:true,legend:{create:_1d1}};_1cf.toolsBar={showToolsDropdown:true,showLayersButton:true,showConfigureLocatorsIcon:false,showBookmarksButton:true};_1cf.toolsAccordion={create:false};if(this.portalUrl){_1cf.portal={url:this.portalUrl};}if(_1ce.geometryServiceUrl){_1cf.geometryServiceUrl=_1ce.geometryServiceUrl;}if(_1ce.locators){_1cf.locators=_1ce.locators;}var _1d2=_1cf[this.appConfigToViewerWidgetConfigLookup.socialMediaWidget];if(_1d2){if(_1d2.create){_1d2.configurationUrl=this.defaultConfiguration.values.baseViewer.socialMediaWidgetConfiguration.configurationUrl;}}var _1d3=_1cf[this.appConfigToViewerWidgetConfigLookup.weatherWidget];if(_1d3){if(_1d3.create){_1d3.configurationUrl=this.defaultConfiguration.values.baseViewer.weatherWidgetConfiguration.configurationUrl;}}var _1d4=_1cf[this.appConfigToViewerWidgetConfigLookup.printWidget];if(_1d4){if(_1d4.create){_1d4.printTaskUrl=this.defaultConfiguration.values.baseViewer.printWidgetConfiguration.printTaskUrl;}}var _1d5=_1cf[this.appConfigToViewerWidgetConfigLookup.zoomToWidget];if(_1d5){if(_1d5.create){_1d5.stateJson=this.defaultConfiguration.values.baseViewer.zoomToWidgetConfiguration.stateJson;_1d5.countyJson=this.defaultConfiguration.values.baseViewer.zoomToWidgetConfiguration.countyJson;}}}});});},"dojox/storage/BehaviorStorageProvider":function(){define("dojox/storage/BehaviorStorageProvider",["dijit","dojo","dojox","dojo/require!dojox/storage/Provider,dojox/storage/manager"],function(_1d6,dojo,_1d7){dojo.provide("dojox.storage.BehaviorStorageProvider");dojo.require("dojox.storage.Provider");dojo.require("dojox.storage.manager");dojo.declare("dojox.storage.BehaviorStorageProvider",[_1d7.storage.Provider],{store:null,storeName:"__dojox_BehaviorStorage",keys:[],initialize:function(){try{this.store=this._createStore();this.store.load(this.storeName);}catch(e){throw new Error("Store is not available: "+e);}var keys=this.get("keys","dojoxSystemNS");this.keys=keys||[];this.initialized=true;_1d7.storage.manager.loaded();},isAvailable:function(){return dojo.isIE&&dojo.isIE>=5;},_createStore:function(){var _1d8=dojo.create("link",{id:this.storeName+"Node",style:{"display":"none"}},dojo.query("head")[0]);_1d8.addBehavior("#default#userdata");return _1d8;},put:function(key,_1d9,_1da,_1db){this._assertIsValidKey(key);_1db=_1db||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_1db);var _1dc=this.getFullKey(key,_1db);_1d9=dojo.toJson(_1d9);this.store.setAttribute(_1dc,_1d9);this.store.save(this.storeName);var _1dd=this.store.getAttribute(_1dc)===_1d9;if(_1dd){this._addKey(_1dc);this.store.setAttribute("__dojoxSystemNS_keys",dojo.toJson(this.keys));this.store.save(this.storeName);}if(_1da){_1da(_1dd?this.SUCCESS:this.FAILED,key,null,_1db);}},get:function(key,_1de){this._assertIsValidKey(key);_1de=_1de||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_1de);key=this.getFullKey(key,_1de);return dojo.fromJson(this.store.getAttribute(key));},getKeys:function(_1df){_1df=_1df||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_1df);_1df="__"+_1df+"_";var keys=[];for(var i=0;i<this.keys.length;i++){var _1e0=this.keys[i];if(this._beginsWith(_1e0,_1df)){_1e0=_1e0.substring(_1df.length);keys.push(_1e0);}}return keys;},clear:function(_1e1){_1e1=_1e1||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_1e1);_1e1="__"+_1e1+"_";var keys=[];for(var i=0;i<this.keys.length;i++){var _1e2=this.keys[i];if(this._beginsWith(_1e2,_1e1)){keys.push(_1e2);}}dojo.forEach(keys,function(key){this.store.removeAttribute(key);this._removeKey(key);},this);this.put("keys",this.keys,null,"dojoxSystemNS");this.store.save(this.storeName);},remove:function(key,_1e3){this._assertIsValidKey(key);_1e3=_1e3||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_1e3);key=this.getFullKey(key,_1e3);this.store.removeAttribute(key);this._removeKey(key);this.put("keys",this.keys,null,"dojoxSystemNS");this.store.save(this.storeName);},getNamespaces:function(){var _1e4=[this.DEFAULT_NAMESPACE];var _1e5={};_1e5[this.DEFAULT_NAMESPACE]=true;var _1e6=/^__([^_]*)_/;for(var i=0;i<this.keys.length;i++){var _1e7=this.keys[i];if(_1e6.test(_1e7)==true){var _1e8=_1e7.match(_1e6)[1];if(typeof _1e5[_1e8]=="undefined"){_1e5[_1e8]=true;_1e4.push(_1e8);}}}return _1e4;},isPermanent:function(){return true;},getMaximumSize:function(){return 64;},hasSettingsUI:function(){return false;},isValidKey:function(_1e9){if(_1e9===null||_1e9===undefined){return false;}return /^[0-9A-Za-z_-]*$/.test(_1e9);},isValidNamespace:function(_1ea){if(_1ea===null||_1ea===undefined){return false;}return /^[0-9A-Za-z-]*$/.test(_1ea);},getFullKey:function(key,_1eb){return "__"+_1eb+"_"+key;},_beginsWith:function(_1ec,_1ed){if(_1ed.length>_1ec.length){return false;}return _1ec.substring(0,_1ed.length)===_1ed;},_assertIsValidNamespace:function(_1ee){if(this.isValidNamespace(_1ee)===false){throw new Error("Invalid namespace given: "+_1ee);}},_assertIsValidKey:function(key){if(this.isValidKey(key)===false){throw new Error("Invalid key given: "+key);}},_addKey:function(key){this._removeKey(key);this.keys.push(key);},_removeKey:function(key){this.keys=dojo.filter(this.keys,function(item){return item!==key;},this);}});_1d7.storage.manager.register("dojox.storage.BehaviorStorageProvider",new _1d7.storage.BehaviorStorageProvider());});},"dijit/layout/AccordionContainer":function(){require({cache:{"url:dijit/layout/templates/AccordionButton.html":"<div data-dojo-attach-event='onclick:_onTitleClick' class='dijitAccordionTitle' role=\"presentation\">\n\t<div data-dojo-attach-point='titleNode,focusNode' data-dojo-attach-event='onkeypress:_onTitleKeyPress'\n\t\t\tclass='dijitAccordionTitleFocus' role=\"tab\" aria-expanded=\"false\"\n\t\t><span class='dijitInline dijitAccordionArrow' role=\"presentation\"></span\n\t\t><span class='arrowTextUp' role=\"presentation\">+</span\n\t\t><span class='arrowTextDown' role=\"presentation\">-</span\n\t\t><img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon\" data-dojo-attach-point='iconNode' style=\"vertical-align: middle\" role=\"presentation\"/>\n\t\t<span role=\"presentation\" data-dojo-attach-point='titleTextNode' class='dijitAccordionText'></span>\n\t</div>\n</div>\n"}});define("dijit/layout/AccordionContainer",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/fx","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/topic","../focus","../_base/manager","dojo/ready","../_Widget","../_Container","../_TemplatedMixin","../_CssStateMixin","./StackContainer","./ContentPane","dojo/text!./templates/AccordionButton.html"],function(_1ef,_1f0,_1f1,_1f2,fx,dom,_1f3,_1f4,_1f5,_1f6,keys,lang,has,_1f7,_1f8,_1f9,_1fa,_1fb,_1fc,_1fd,_1fe,_1ff,_200,_201){var _202=_1f1("dijit.layout._AccordionButton",[_1fb,_1fd,_1fe],{templateString:_201,label:"",_setLabelAttr:{node:"titleTextNode",type:"innerHTML"},title:"",_setTitleAttr:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClassAttr:"",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitAccordionTitle",getParent:function(){return this.parent;},buildRendering:function(){this.inherited(arguments);var _203=this.id.replace(" ","_");_1f3.set(this.titleTextNode,"id",_203+"_title");this.focusNode.setAttribute("aria-labelledby",_1f3.get(this.titleTextNode,"id"));dom.setSelectable(this.domNode,false);},getTitleHeight:function(){return _1f6.getMarginSize(this.domNode).h;},_onTitleClick:function(){var _204=this.getParent();_204.selectChild(this.contentWidget,true);_1f8.focus(this.focusNode);},_onTitleKeyPress:function(evt){return this.getParent()._onKeyPress(evt,this.contentWidget);},_setSelectedAttr:function(_205){this._set("selected",_205);this.focusNode.setAttribute("aria-expanded",_205?"true":"false");this.focusNode.setAttribute("aria-selected",_205?"true":"false");this.focusNode.setAttribute("tabIndex",_205?"0":"-1");}});var _206=_1f1("dijit.layout._AccordionInnerContainer",[_1fb,_1fe],{baseClass:"dijitAccordionInnerContainer",isLayoutContainer:true,buildRendering:function(){this.domNode=_1f5.place("<div class='"+this.baseClass+"' role='presentation'>",this.contentWidget.domNode,"after");var _207=this.contentWidget,cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;this.button=_207._buttonWidget=(new cls({contentWidget:_207,label:_207.title,title:_207.tooltip,dir:_207.dir,lang:_207.lang,textDir:_207.textDir,iconClass:_207.iconClass,id:_207.id+"_button",parent:this.parent})).placeAt(this.domNode);this.containerNode=_1f5.place("<div class='dijitAccordionChildWrapper' style='display:none'>",this.domNode);_1f5.place(this.contentWidget.domNode,this.containerNode);},postCreate:function(){this.inherited(arguments);var _208=this.button;this._contentWidgetWatches=[this.contentWidget.watch("title",lang.hitch(this,function(name,_209,_20a){_208.set("label",_20a);})),this.contentWidget.watch("tooltip",lang.hitch(this,function(name,_20b,_20c){_208.set("title",_20c);})),this.contentWidget.watch("iconClass",lang.hitch(this,function(name,_20d,_20e){_208.set("iconClass",_20e);}))];},_setSelectedAttr:function(_20f){this._set("selected",_20f);this.button.set("selected",_20f);if(_20f){var cw=this.contentWidget;if(cw.onSelected){cw.onSelected();}}},startup:function(){this.contentWidget.startup();},destroy:function(){this.button.destroyRecursive();_1f0.forEach(this._contentWidgetWatches||[],function(w){w.unwatch();});delete this.contentWidget._buttonWidget;delete this.contentWidget._wrapperWidget;this.inherited(arguments);},destroyDescendants:function(_210){this.contentWidget.destroyRecursive(_210);}});var _211=_1f1("dijit.layout.AccordionContainer",_1ff,{duration:_1f9.defaultDuration,buttonWidget:_202,baseClass:"dijitAccordionContainer",buildRendering:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";this.domNode.setAttribute("role","tablist");},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.selectedChildWidget){this.selectedChildWidget._wrapperWidget.set("selected",true);}},layout:function(){var _212=this.selectedChildWidget;if(!_212){return;}var _213=_212._wrapperWidget.domNode,_214=_1f6.getMarginExtents(_213),_215=_1f6.getPadBorderExtents(_213),_216=_212._wrapperWidget.containerNode,_217=_1f6.getMarginExtents(_216),_218=_1f6.getPadBorderExtents(_216),_219=this._contentBox;var _21a=0;_1f0.forEach(this.getChildren(),function(_21b){if(_21b!=_212){_21a+=_1f6.getMarginSize(_21b._wrapperWidget.domNode).h;}});this._verticalSpace=_219.h-_21a-_214.h-_215.h-_217.h-_218.h-_212._buttonWidget.getTitleHeight();this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-_214.w-_215.w-_217.w-_218.w};if(_212){_212.resize(this._containerContentBox);}},_setupChild:function(_21c){_21c._wrapperWidget=_206({contentWidget:_21c,buttonWidget:this.buttonWidget,id:_21c.id+"_wrapper",dir:_21c.dir,lang:_21c.lang,textDir:_21c.textDir,parent:this});this.inherited(arguments);},addChild:function(_21d,_21e){if(this._started){var _21f=this.containerNode;if(_21e&&typeof _21e=="number"){var _220=_1fb.prototype.getChildren.call(this);if(_220&&_220.length>=_21e){_21f=_220[_21e-1].domNode;_21e="after";}}_1f5.place(_21d.domNode,_21f,_21e);if(!_21d._started){_21d.startup();}this._setupChild(_21d);_1f7.publish(this.id+"-addChild",_21d,_21e);this.layout();if(!this.selectedChildWidget){this.selectChild(_21d);}}else{this.inherited(arguments);}},removeChild:function(_221){if(_221._wrapperWidget){_1f5.place(_221.domNode,_221._wrapperWidget.domNode,"after");_221._wrapperWidget.destroy();delete _221._wrapperWidget;}_1f4.remove(_221.domNode,"dijitHidden");this.inherited(arguments);},getChildren:function(){return _1f0.map(this.inherited(arguments),function(_222){return _222.declaredClass=="dijit.layout._AccordionInnerContainer"?_222.contentWidget:_222;},this);},destroy:function(){if(this._animation){this._animation.stop();}_1f0.forEach(this.getChildren(),function(_223){if(_223._wrapperWidget){_223._wrapperWidget.destroy();}else{_223.destroyRecursive();}});this.inherited(arguments);},_showChild:function(_224){_224._wrapperWidget.containerNode.style.display="block";return this.inherited(arguments);},_hideChild:function(_225){_225._wrapperWidget.containerNode.style.display="none";this.inherited(arguments);},_transition:function(_226,_227,_228){if(has("ie")<8){_228=false;}if(this._animation){this._animation.stop(true);delete this._animation;}var self=this;if(_226){_226._wrapperWidget.set("selected",true);var d=this._showChild(_226);if(this.doLayout&&_226.resize){_226.resize(this._containerContentBox);}}if(_227){_227._wrapperWidget.set("selected",false);if(!_228){this._hideChild(_227);}}if(_228){var _229=_226._wrapperWidget.containerNode,_22a=_227._wrapperWidget.containerNode;var _22b=_226._wrapperWidget.containerNode,_22c=_1f6.getMarginExtents(_22b),_22d=_1f6.getPadBorderExtents(_22b),_22e=_22c.h+_22d.h;_22a.style.height=(self._verticalSpace-_22e)+"px";this._animation=new fx.Animation({node:_229,duration:this.duration,curve:[1,this._verticalSpace-_22e-1],onAnimate:function(_22f){_22f=Math.floor(_22f);_229.style.height=_22f+"px";_22a.style.height=(self._verticalSpace-_22e-_22f)+"px";},onEnd:function(){delete self._animation;_229.style.height="auto";_227._wrapperWidget.containerNode.style.display="none";_22a.style.height="auto";self._hideChild(_227);}});this._animation.onStop=this._animation.onEnd;this._animation.play();}return d;},_onKeyPress:function(e,_230){if(this.disabled||e.altKey||!(_230||e.ctrlKey)){return;}var c=e.charOrCode;if((_230&&(c==keys.LEFT_ARROW||c==keys.UP_ARROW))||(e.ctrlKey&&c==keys.PAGE_UP)){this._adjacent(false)._buttonWidget._onTitleClick();_1f2.stop(e);}else{if((_230&&(c==keys.RIGHT_ARROW||c==keys.DOWN_ARROW))||(e.ctrlKey&&(c==keys.PAGE_DOWN||c==keys.TAB))){this._adjacent(true)._buttonWidget._onTitleClick();_1f2.stop(e);}}}});if(has("dijit-legacy-requires")){_1fa(0,function(){var _231=["dijit/layout/AccordionPane"];_1ef(_231);});}_211._InnerContainer=_206;_211._Button=_202;return _211;});},"esriviewer/portal/PortalSearcher":function(){define("esriviewer/portal/PortalSearcher",["dojo/_base/declare","dojo/topic","dojo/_base/lang","../base/ConfigurationEntryMixin"],function(_232,_233,lang,_234){return _232([_234],{_defaultMaxResults:50,_defaultSortField:"avgRating",constructor:function(){this.initListeners();},initListeners:function(){_233.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.SEARCH_WEBMAPS,lang.hitch(this,this.searchWebmaps));_233.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.SEARCH_GEOCODE_SERVICES,lang.hitch(this,this.searchGeocodeServices));_233.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.SEARCH_IMAGE_SERVICES,lang.hitch(this,this.searchImageServices));_233.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.SEARCH_FEATURE_SERVICE_LAYERS,lang.hitch(this,this.searchFeatureServiceLayers));_233.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.SEARCH_FEATURE_SERVICES,lang.hitch(this,this.searchFeatureServices));_233.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.SEARCH_MAP_SERVICES,lang.hitch(this,this.searchMapServices));},searchGeocodeServices:function(_235,_236,_237,_238,_239,_23a){this._performSearch(VIEWER_GLOBALS.AGS_PORTAL_TYPES.GEOCODE_SERVICE,_235,_236,_237,_238,_239,_23a);},searchFeatureServiceLayers:function(_23b,_23c,_23d,_23e,_23f,_240){this._performSearch(VIEWER_GLOBALS.AGS_PORTAL_TYPES.FEATURE_SERVICE_LAYER,_23b,_23c,_23d,_23e,_23f,_240);},searchImageServices:function(_241,_242,_243,_244,_245,_246){this._performSearch(VIEWER_GLOBALS.AGS_PORTAL_TYPES.IMAGE_SERVICE,_241,_242,_243,_244,_245,_246);},searchFeatureServices:function(_247,_248,_249,_24a,_24b,_24c){this._performSearch(VIEWER_GLOBALS.AGS_PORTAL_TYPES.FEATURE_SERVICE,_247,_248,_249,_24a,_24b,_24c);},searchMapServices:function(_24d,_24e,_24f,_250,_251,_252){this._performSearch(VIEWER_GLOBALS.AGS_PORTAL_TYPES.MAP_SERVICE,_24d,_24e,_24f,_250,_251,_252);},searchWebmaps:function(_253,_254,_255,_256,_257,_258){this._performSearch(VIEWER_GLOBALS.AGS_PORTAL_TYPES.WEB_MAP,_253,_254,_255,_256,_257,_258);},_performSearch:function(_259,_25a,_25b,_25c,_25d,_25e,_25f){if(_25e==null||!lang.isFunction(_25e)){return;}if(_25b==null){_25b=this._defaultMaxResults;}if(_25c==null||_25c==""){_25c=this._defaultSortField;}if(_25d==null){_25d=0;}var _260={};_260.q=_25a+this._getItemTypeAppend(_259);_260.sortField=_25c;_260.start=_25d;this._search(_260,_25e,_25f);},_getItemTypeAppend:function(_261){if(_261==null){return "";}return " AND (type: \""+_261+"\") AND NOT (type: \""+VIEWER_GLOBALS.AGS_PORTAL_TYPES.MAPPING_APPLICATION+"\")";},_search:function(_262,_263,_264){var _265=null;_233.publish(VIEWER_GLOBALS.EVENTS.PORTAL.GET_INSTANCE,function(_266){_265=_266;});if(_265){var _267=_263;_265.queryItems(_262).then(function(_268){_267(_268);});}else{if(_264!=null&&lang.isFunction(_264)){_264("Portal is not configured");}}}});});},"esriviewer/manager/ViewerManagerWindow":function(){define("esriviewer/manager/ViewerManagerWindow",["dojo/_base/declare","dojo/on","dojo/dom-style","dojo/_base/window","dojo/dom-construct","./base/ViewerManager","../ui/identify/IdentifyWindowWidget","../ui/measure/MeasureWindow","../ui/editor/FeatureServiceEditorWindowWidget","../ui/time/TimeSliderWindow","../ui/transparency/LayersTransparencyWindowWidget","../ui/geocode/ReverseGeocodeWindowWidget","../ui/query/QueryBuilderWindowWidget","../ui/draw/DrawWindow","../ui/logging/LoggingWidgetWindow","../ui/layers/LayersWindowWidget","../ui/legend/MapLegendWindow","../ui/zoomto/ZoomToWidgetWindow","../ui/configure/ConfigureViewerWindow","../ui/weather/conditions/WeatherWidgetWindow","../ui/weather/reflectivity/ReflectivityWidgetWindow","../ui/portal/PortalPublisherWindowWidget","../ui/plotting/PlottingWidgetWindow","../ui/print/PrintWidgetWindow","../ui/pointupload/PointUploadWindow","../ui/social/SocialMediaWidgetWindow"],function(_269,on,_26a,_26b,_26c,_26d,_26e,_26f,_270,_271,_272,_273,_274,_275,_276,_277,_278,_279,_27a,_27b,_27c,_27d,_27e,_27f,_280,_281){return _269([_26d],{createPlottingWidget:function(){new _27e();},createSocialMediaWidget:function(){new _281();},createReflectivityWidget:function(){new _27c();},createWeatherWidget:function(){new _27b();},createIdentifyWidget:function(){new _26e();},createMeasureWidget:function(){new _26f();},createFeatureEditorWidget:function(){new _270();},createTimeSliderWidget:function(){new _271();},createLayersTransparencyWidget:function(){new _272();},createConfigureViewerWidget:function(){new _27a();},createReverseGeocodeWidget:function(){new _273();},createQueryBuilderWidget:function(){new _274();},createDrawWidget:function(){new _275();},createLoggingWidget:function(){new _276();},createLayersWidget:function(){new _277();},createLegendWidget:function(){new _278();},createZoomToWidget:function(){new _279();},createPortalPublisherWidget:function(){new _27d();},createPrintWidget:function(){new _27f();},createPointUploadWidget:function(){new _280();},_createHeaderLogo:function(){if(this.viewerConfig.header.small===true){var _282=_26c.create("span",{className:"smallWindowHeaderContainer"});var _283=_26c.create("img",{src:this.viewerConfig.header.headerImage});var _284=_26c.create("span",{innerHTML:this.viewerConfig.header.headerText});_26c.place(_283,_282);_26c.place(_284,_282);_26c.place(_282,_26b.body());if(this.viewerConfig.header.contact&&this.viewerConfig.header.contact.url){_26a.set(_282,"cursor","pointer");var _285=this.viewerConfig.header.contact.url;on(_282,"click",function(){window.open(_285);});}}else{this.inherited(arguments);}}});});},"url:dijit/templates/ColorPalette.html":"<div class=\"dijitInline dijitColorPalette\">\n\t<table dojoAttachPoint=\"paletteTableNode\" class=\"dijitPaletteTable\" cellSpacing=\"0\" cellPadding=\"0\" role=\"grid\">\n\t\t<tbody data-dojo-attach-point=\"gridNode\"></tbody>\n\t</table>\n</div>\n","esriviewer/ui/throbber/ThrobberWidget":function(){require({cache:{"url:esriviewer/ui/throbber/template/ThrobberTemplate.html":"<div class=\"loadingThrobber\"\r\n     style=\"display:none\">\r\n    <div class=\"loadingThrobberInner\">\r\n        <div class=\"loadingIcon\"></div>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/throbber/ThrobberWidget",["dojo/_base/declare","dojo/text!./template/ThrobberTemplate.html","dojo/topic","../base/UITemplatedWidget","dojo/_base/lang","dojo/_base/window","dojo/request/notify"],function(_286,_287,_288,_289,lang,_28a,_28b){return _286([_289],{blockHideEnabled:false,defaultPositioning:{x:10,y:10,alignX:"left",alignY:"bottom"},positioningParamName:"throbber",isPositionedByConfig:true,templateString:_287,postCreate:function(){this.inherited(arguments);_28b("start",lang.hitch(this,this.show));_28b("done",lang.hitch(this,this.hide));},initListeners:function(){this.inherited(arguments);_288.subscribe(VIEWER_GLOBALS.EVENTS.THROBBER.SHOW,lang.hitch(this,this.show));_288.subscribe(VIEWER_GLOBALS.EVENTS.THROBBER.HIDE,lang.hitch(this,this.hide));_288.subscribe(VIEWER_GLOBALS.EVENTS.THROBBER.BLOCK_HIDE,lang.hitch(this,this._blockHide));_288.subscribe(VIEWER_GLOBALS.EVENTS.THROBBER.RELEASE_HIDE_BLOCK,lang.hitch(this,this._releaseHideBlock));},_blockHide:function(){this.blockHideEnabled=true;},_releaseHideBlock:function(){this.blockHideEnabled=false;this.hide();},hide:function(){if(!this.blockHideEnabled){this.inherited(arguments);}}});});},"esriviewer/ui/draw/configure/geometry/ConfigureTextWidget":function(){require({cache:{"url:esriviewer/ui/draw/configure/geometry/template/ConfigureTextTemplate.html":"<div class=\"configureDrawGeometryContainer\">\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Font Face</span>\r\n        <select data-bind=\"options: fontFaces ,value:selectedFontFace, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Text Align</span>\r\n        <select data-bind=\"options: textAligns ,value:selectedTextAlign, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Weight</span>\r\n        <select data-bind=\"options: textWeights ,value:selectedTextWeight, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Size</span>\r\n        <select data-bind=\"options: textSizes ,value:selectedTextSize, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Angle</span>\r\n        <select data-bind=\"options: angles ,value:selectedAngle\"></select>\r\n    </div>\r\n    <div class=\"configureDrawColorPickerContainer\" data-dojo-attach-point=\"colorPickerContainer\"></div>\r\n\r\n</div>"}});define("esriviewer/ui/draw/configure/geometry/ConfigureTextWidget",["dojo/_base/declare","dojo/text!./template/ConfigureTextTemplate.html","dojo/topic","dojo/_base/lang","./model/ConfigureTextViewModel","./BaseGeometryConfigurationWidget","esri/symbols/Font","esri/symbols/TextSymbol"],function(_28c,_28d,_28e,lang,_28f,_290,Font,_291){return _28c([_290],{templateString:_28d,postCreate:function(){this.inherited(arguments);this.viewModel=new _28f();this.viewModel.selectedAngle.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedTextAlign.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedTextSize.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedTextWeight.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedFontFace.subscribe(lang.hitch(this,this.processChange));ko.applyBindings(this.viewModel,this.domNode);},processChange:function(){this.onChange(this.getSymbol());},getSymbol:function(){var font=new Font(this.viewModel.selectedTextSize());font.setWeight(this.viewModel.selectedTextWeight());font.setStyle(this.viewModel.selectedFontFace());return new _291("").setColor(this.getColor()).setAlign(this.viewModel.selectedTextAlign()).setAngle(parseInt(this.viewModel.selectedAngle(),10)).setFont(font);}});});},"esriviewer/ui/layers/LayersWidget":function(){require({cache:{"url:esriviewer/ui/layers/template/LayersWidgetTemplate.html":"<div>\r\n    <div class=\"defaultTabContainer\" data-dojo-attach-point=\"layersTabContainer\">\r\n        <span data-dojo-attach-point=\"layersTab\"\r\n              data-bind=\"click:showLayersList, css: {selectedTab: layersListVisible}\">Layers</span>\r\n        <span data-dojo-attach-point=\"addLayersTab\"\r\n              data-bind=\"click:showAddLayers, css: {selectedTab: addlayersVisible}\">Add Layer</span>\r\n        <span data-dojo-attach-point=\"persistsedLayersTab\"\r\n              data-bind=\"click:showUserPersistedLayers, css: {selectedTab: persistedLayersVisible}\">Saved Layers</span>\r\n    </div>\r\n    <div data-bind=\"visible:addlayersVisible\" class=\"addLayerContainer\" data-dojo-attach-point=\"addLayerContainer\">\r\n        <div class=\"addLayerContainerInner\">\r\n            <div class=\"viewerAddLayerWorkingWKIDContainer\" data-bind=\"visible:showWKIDInAddLayers\">\r\n                <span class=\"viewerAddLayerLabel \">Map WKID:</span>\r\n                <span class=\"viewerAddLayerWorkingWKIDLabel\" data-bind=\"text: viewerWKID\"></span>\r\n            </div>\r\n            <div class=\"viewerAddLayerLabel viewerAddLayerUrlLabel \">URL:</div>\r\n            <div data-dojo-type=\"dijit/form/TextBox\" style=\"width: 100%\" data-dojo-attach-point=\"addLayerTextInput\"\r\n                 data-dojo-attach-event=\"onKeyUp:handleLayerAddUrlKeyUp\"></div>\r\n            <div class=\"viewerAddLayerLabel viewerAddLayerUrlLabel \">Label:</div>\r\n            <div data-dojo-type=\"dijit/form/TextBox\" style=\"width: 100%\" data-dojo-attach-point=\"addLayerLabelInput\"\r\n                 value=\"Added Layer\"></div>\r\n            <div class=\"viewerAddLayerActions\">\r\n                <div class=\"layerTypeContainer\">\r\n                    <div class=\"viewerAddLayerLabel\">Type:</div>\r\n                    <select data-dojo-type=\"dijit/form/Select\" style=\"width: 100%\"\r\n                            data-dojo-attach-point=\"addLayerTypeSelect\"\r\n                            style=\"width: 15em\"></select>\r\n                </div>\r\n                <div class=\"viewerAddLayerButtonActions\">\r\n                    <div data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:addManualLayer\">Add Layer\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"layerTocContainer\" data-bind=\"visible:layersListVisible\">\r\n\r\n    </div>\r\n    <div data-bind=\"visible:persistedLayersVisible\" data-dojo-attach-point=\"userPersistedLayersContainer\">\r\n    </div>\r\n</div>"}});define("esriviewer/ui/layers/LayersWidget",["dojo/_base/declare","dojo/text!./template/LayersWidgetTemplate.html","dojo/topic","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/dom-style","dojo/dom-class","dojo/dom-construct","../base/UITemplatedWidget","../tooltip/ConfirmTooltip","./base/LayersLocalStorageMixin","./model/LayersWidgetViewModel","./LayersTocWidget","./base/UserPersistedLayersListWidget","dijit/form/TextBox","dijit/form/Select","dijit/form/Button"],function(_292,_293,_294,con,lang,on,_295,_296,_297,_298,_299,_29a,_29b,_29c,_29d,_29e,_29f,_2a0){return _292([_298,_29a],{firstAddLayerDisplay:true,errorMessageDelay:5000,successMessageDelay:2000,allowAddLayers:true,templateString:_293,constructor:function(_2a1){lang.mixin(this,_2a1||{});this.addedLayers={};},postCreate:function(){this.inherited(arguments);this.viewModel=new _29b();this.viewModel.showUserPersistedLayersIcon(this.localStoragePersistSupported);this.viewModel.layersListVisible.subscribe(lang.hitch(this,this.handleLayerListVisibilityChanged));this.viewModel.addlayersVisible.subscribe(lang.hitch(this,this.handleAddLayersVisibilityChanged));this.viewModel.persistedLayersVisible.subscribe(lang.hitch(this,this.handlePersistedLayersVisibilityChanged));this.viewModel.on(this.viewModel.ADD_LAYERS_VISIBLE,lang.hitch(this,this.handleAddLayersVisible));ko.applyBindings(this.viewModel,this.domNode);this.createLayersTocWidget();_295.set(this.domNode,"minHeight","250px");if(this.allowAddLayers){this.populateLayerTypesDropdown();}else{_295.set(this.layersTabContainer,"display","none");}this.manualLayerLoadedSuccessCallback=lang.hitch(this,this.handleManualLayerLoadedCallback);this.manualLayerLoadedErrCallback=lang.hitch(this,this.handleManualLayerLoadErrorCallback);if(this.localStoragePersistSupported){this.createUserPersistedLayerListWidget();}},handleLayerListVisibilityChanged:function(_2a2){this._handleContentAnimation(_2a2,this.layerTocContainer);},handleAddLayersVisibilityChanged:function(_2a3){this._handleContentAnimation(_2a3,this.addLayerContainer);},handlePersistedLayersVisibilityChanged:function(_2a4){this._handleContentAnimation(_2a4,this.userPersistedLayersContainer);},handleAddLayersVisible:function(){this.addLayerTextInput.set("value","");this.addLayerLabelInput.set("value","");this.addLayerTextInput.focus();},createLayersTocWidget:function(){this.layersTocWidget=new _29c();_297.place(this.layersTocWidget.domNode,this.layerTocContainer);},createUserPersistedLayerListWidget:function(){if(this.userPersistedLayersListWidget==null){this.userPersistedLayersListWidget=new _29d();this.userPersistedLayersListWidget.placeAt(this.userPersistedLayersContainer);this.userPersistedLayersListWidget.on("removeUserPersistedGraphics",lang.hitch(this,this.handleRemoveUserPersistedLayer));this.userPersistedLayersListWidget.on("addUserPersistedLayerToMap",lang.hitch(this,this.handleAddUserPersistedLayerToMap));this.userPersistedLayersListWidget.on("removeAllUserPersistedGraphics",lang.hitch(this,this.handleRemoveAllUserPersistedLayers));this.userPersistedLayersListWidget.addExistingPersistedLayerItems(this.persistedUserLayers);}},showLayerList:function(){this.viewModel.showLayersList();},handleRemoveAllUserPersistedLayers:function(){this.removeAllLayers();},handleRemoveUserPersistedLayer:function(_2a5){if(_2a5!=null&&_2a5!=""){this.deleteUserPersistedLayer(_2a5);}},handleAddUserPersistedLayerToMap:function(_2a6,_2a7){if(_2a6!=null&&_2a6!=""){this._addLayer(_2a6,_2a7);}},loadViewerConfigurationData:function(){var _2a8=null;_294.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"layersWidget",function(_2a9){_2a8=_2a9;});if(_2a8){for(var key in _2a8){if(key==null||key.toString()==null){continue;}if(key.toString().toLowerCase()=="allowAddLayers".toLowerCase()){this.allowAddLayers=_2a8[key];}else{if(key.toString().toLowerCase()=="showWKIDInAddLayers".toLowerCase()){if(_2a8[key]==false){this.viewModel.showWKIDInAddLayers(false);}}}}}},handleManualLayerLoadedCallback:function(){_294.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,"Layer Added");VIEWER_UTILS.log("Layer Added",VIEWER_GLOBALS.LOG_TYPE.INFO);},handleManualLayerLoadErrorCallback:function(msg){if(msg!=null&&lang.isString(msg)){VIEWER_UTILS.log("Could not add layer: "+msg,VIEWER_GLOBALS.LOG_TYPE.ERROR);}else{VIEWER_UTILS.log("Add Layer Failed",VIEWER_GLOBALS.LOG_TYPE.ERROR);}},initListeners:function(){this.inherited(arguments);_294.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADDED,lang.hitch(this,this.addLayer));_294.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REMOVED,lang.hitch(this,this.handleLayerRemoved));},populateLayerTypesDropdown:function(){var _2aa;for(var key in VIEWER_GLOBALS.LAYER_TYPES){_2aa=VIEWER_GLOBALS.LAYER_TYPES[key];var _2ab={label:_2aa.LABEL,value:_2aa.VALUE};this.addLayerTypeSelect.addOption(_2ab);}},handleAddLayers:function(_2ac){if(_2ac!=null&&lang.isArray(_2ac)){for(var i=0;i<_2ac.length;i++){this.addLayer(_2ac[i]);}}},addLayer:function(_2ad){if(_2ad==null){return;}var _2ae=VIEWER_UTILS.getLayerUniqueId(_2ad);if(_2ae==null||this.addedLayers[_2ae]!=null){return;}this.layersTocWidget.addLayer(_2ad);this.addedLayers[_2ae]={layer:_2ad};if(_2ad.url&&this.localStoragePersistSupported){this.saveLayer(_2ad);}},saveLayer:function(_2af){var _2b0=this.persistUserLayer(_2af);if(_2b0&&_2b0.url){this.userPersistedLayersListWidget.addPersistedLayer(_2b0);}},handleToggleLayerVisibility:function(_2b1){if(_2b1.visible){_2b1.hide();}else{_2b1.show();}},handleZoomToLayer:function(_2b2){_294.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.SET_EXTENT,_2b2.fullExtent);},handleLayerAddUrlKeyUp:function(e){if(VIEWER_UTILS.isEnterKey(e)){this.addManualLayer();}else{var url=this.addLayerTextInput.get("value");if(url==""){return;}var _2b3=VIEWER_UTILS.getServiceTypeFromUrl(url);if(_2b3!=null){if(_2b3===VIEWER_GLOBALS.SERVICE_TYPES.IMAGE_SERVER){this.addLayerTypeSelect.set("value",VIEWER_GLOBALS.LAYER_TYPES.IMAGE_SERVER.VALUE);}else{if(_2b3===VIEWER_GLOBALS.SERVICE_TYPES.FEATURE_SERVER){this.addLayerTypeSelect.set("value",VIEWER_GLOBALS.LAYER_TYPES.FEATURE_LAYER.VALUE);}else{if(_2b3===VIEWER_GLOBALS.SERVICE_TYPES.KML){this.addLayerTypeSelect.set("value",VIEWER_GLOBALS.LAYER_TYPES.KML.VALUE);}else{if(_2b3===VIEWER_GLOBALS.SERVICE_TYPES.MAP_SERVER){var _2b4=REG_EXP_UTILS.featureLayerRegExp.test(url);if(_2b4){this.addLayerTypeSelect.set("value",VIEWER_GLOBALS.LAYER_TYPES.FEATURE_LAYER.VALUE);}else{this.addLayerTypeSelect.set("value",VIEWER_GLOBALS.LAYER_TYPES.MAP_SERVER.VALUE);}}}}}}}},addManualLayer:function(){var url=this.addLayerTextInput.get("value");if(url!=""){if(VIEWER_UTILS.endsWith(url,"/")){url=url.substring(0,url.length-1);}this._addLayer(url);}},_addLayer:function(_2b5,_2b6){var _2b7=_2b6;if(_2b7==null||_2b7==""){_2b7=this.addLayerLabelInput.get("value");}_294.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADD_FROM_URL,_2b5,{isOperationalLayer:true,canRemove:true,label:_2b7},this.manualLayerLoadedSuccessCallback,this.manualLayerLoadedErrCallback);},showConfirmDeleteLayerTooltip:function(_2b8,_2b9){this.deleteLayerConfirmedCallback=lang.hitch(this,this.handleRemoveLayerFromClick,_2b8);this.showDeleteLayerTooltip(_2b9);},handleRemoveLayerFromClick:function(_2ba){_294.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REMOVE,_2ba);},createConfirmDeleteLayerTooltip:function(){this.confirmDeleteLayerTooltip=new _299({confirmCallback:lang.hitch(this,this.handleConfirmedLayerDelete)});this.confirmDeleteLayerTooltip.on("hide",lang.hitch(this,function(){this.deleteLayerConfirmedCallback=null;}));},handleConfirmedLayerDelete:function(){if(lang.isFunction(this.deleteLayerConfirmedCallback)){this.deleteLayerConfirmedCallback();}this.deleteLayerConfirmedCallback=null;},showDeleteLayerTooltip:function(_2bb){if(_2bb==null){return;}if(this.confirmDeleteLayerTooltip==null){this.createConfirmDeleteLayerTooltip();}if(this.confirmDeleteLayerTooltip){this.confirmDeleteLayerTooltip.setAroundNode(_2bb);this.confirmDeleteLayerTooltip.show();}},handleLayerRemoved:function(_2bc){if(_2bc==null){return;}var _2bd=VIEWER_UTILS.getLayerUniqueId(_2bc);if(_2bd==null){return;}if(this.addedLayers[_2bd]!=null){this.layersTocWidget.removeLayer(_2bc);delete this.addedLayers[_2bd];}},hidePopups:function(){if(this.confirmDeleteLayerTooltip){this.confirmDeleteLayerTooltip.hide();}}});});},"esriviewer/loader/base/ViewerPlacementWindow":function(){define("esriviewer/loader/base/ViewerPlacementWindow",["dojo/_base/declare","dojo/_base/window","dojo/topic","dojo/_base/lang","dojo/dom-construct","./BaseViewerPlacement"],function(_2be,_2bf,_2c0,lang,_2c1,_2c2){return _2be([_2c2],{label:"window",isAbsolutePositioned:true,isWindowless:false,initUI:function(){this.inherited(arguments);_2c1.place(this.mapDiv,_2bf.body());},placeNavigationToolbar:function(_2c3){if(_2c3){_2c3.placeAt(_2bf.body());}},placeHeader:function(_2c4){if(_2c4){_2c4.placeAt(_2bf.body());}},placeViewerAccordion:function(_2c5){if(_2c5){_2c5.placeAt(_2bf.body());}},placeMainToolbar:function(_2c6){if(_2c6){_2c6.placeAt(_2bf.body());}},placeMainToolbarDropdown:function(_2c7){if(_2c7){_2c1.place(_2c7,_2bf.body());}},placeMessagingWidget:function(_2c8){if(_2c8){_2c8.placeAt(_2bf.body());}},placeThrobberWidget:function(_2c9){if(_2c9){_2c9.placeAt(_2bf.body());}},placeBasemapGallery:function(_2ca){if(_2ca){_2ca.placeAt(_2bf.body());}},placeMapScaleAndCoordinates:function(_2cb){if(_2cb!=null){_2c1.place(_2cb,_2bf.body());}},placeCreateBookmarkWidget:function(_2cc){if(_2cc){_2cc.placeAt(_2bf.body());}},placeMenuBarWidget:function(_2cd){if(_2cd){_2cd.placeAt(_2bf.body());}},placeZoomToWidget:function(_2ce){if(_2ce){_2ce.placeAt(_2bf.body());}}});});},"esriviewer/ui/draw/base/UserPersistedGraphicsListWidget":function(){require({cache:{"url:esriviewer/ui/draw/base/template/UserPersistedGrahicsListingTemplate.html":"<div>\r\n    <div class=\"addedUserPersistedGraphicsListContainer\" data-dojo-attach-point=\"addedUserPersistedGraphicsListContainer\">\r\n        <ul data-dojo-attach-point=\"addedGraphicsList\" class=\"viewerList\" data-bind=\"foreach: addedUserPersistedGraphics\">\r\n            <li class=\"graphicsListEntry\">\r\n                <div title=\"Delete Saved Graphics\" class=\"viewerListEntryRemoveIcon commonIcons16 remove\" data-bind=\"click:$parent.removeUserPersistedGraphic\"></div>\r\n                <div title=\"Add Saved Graphics To Map\" class=\"viewerListGenericIcon commonIcons16 layerShow\" data-bind=\"click:$parent.addSavedGraphics\"></div>\r\n                <span class=\"graphicsListEntryLabel\" data-bind=\"text: $data.label\"></span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/draw/base/UserPersistedGraphicsListWidget",["dojo/_base/declare","dojo/text!./template/UserPersistedGrahicsListingTemplate.html","dojo/topic","../../base/UITemplatedWidget","dojo/_base/lang","./model/UserPersistedGraphicsListViewModel"],function(_2cf,_2d0,_2d1,_2d2,lang,_2d3){return _2cf([_2d2],{bindingsApplied:false,templateString:_2d0,constructor:function(){this.userPersistedGraphics={};},postCreate:function(){this.inherited(arguments);this.viewModel=new _2d3();this.viewModel.on(this.viewModel.REMOVE_USER_PERSISTED_GRAPHICS,lang.hitch(this,this.handleRemoveUserPersistedGraphics));this.viewModel.on(this.viewModel.ADD_USER_PERSISTED_GRAPHICS_TO_MAP,lang.hitch(this,this.handleAddUserPersistedGraphicsToMap));},applyBindings:function(){if(!this.bindingsApplied){this.bindingsApplied=true;ko.applyBindings(this.viewModel,this.domNode);}},handleAddUserPersistedGraphicsToMap:function(_2d4){if(_2d4&&lang.isObject(_2d4)){this.onAddUserPersistedGraphicsToMap(_2d4);}},onAddUserPersistedGraphicsToMap:function(_2d5){},handleRemoveUserPersistedGraphics:function(_2d6){if(_2d6&&lang.isObject(_2d6)&&_2d6.label!=null&&_2d6.label!=""){this.onRemoveUserPersistedGraphics(_2d6.label);}},onRemoveUserPersistedGraphics:function(_2d7){},addExistingPersistedGraphicsItems:function(_2d8){for(var key in _2d8){this.viewModel.addedUserPersistedGraphics.push(_2d8[key]);}this.viewModel.sort();this.applyBindings();},addUserPersistedGraphics:function(_2d9){this.viewModel.addedUserPersistedGraphics.push(_2d9);this.viewModel.sort();}});});},"esriviewer/manager/base/ViewerManager":function(){define("esriviewer/manager/base/ViewerManager",["dojo/_base/declare","dojox/storage","dojo/topic","dojo/_base/window","dojo/_base/lang","esri/IdentityManager","../../base/Configurable","../../base/LocationServiceSupport","../../base/DataLoaderSupport","../../ui/tools/ViewerDefaultTools","../../map/MapManager","../../ui/toolbar/ActionsToolbarWidget","../../ui/bookmark/BookmarkController","../../portal/PortalViewerManagerSupportMixin","../../map/geometry/GeometryServiceController","../../ui/accordion/ToolsAccordion","./ViewerManagerUI","esri/SpatialReference","esri/geometry/Extent","./WebMapTemplateConfigurationUtil","esri/urlUtils","esri/arcgis/utils","../../map/base/LayerQueryTools"],function(_2da,_2db,_2dc,_2dd,lang,_2de,_2df,_2e0,_2e1,_2e2,_2e3,_2e4,_2e5,_2e6,_2e7,_2e8,_2e9,_2ea,_2eb,_2ec,_2ed,_2ee,_2ef){return _2da([_2e6,_2df,_2e0,_2e1,_2e9],{portalSharingRestUrl:"/sharing/rest",portalContentUrl:"/sharing/rest/content/items",baseConfigurationLoaded:false,forceHideCoreTimeSlider:false,useProxyForConfig:false,useProxyForPositionConfig:false,allowAccordionMove:true,allowAccordionCollapse:true,forceHideAccordionTab:false,configUrl:"config/baseConfig.json",viewerPositioningConfigUrl:"config/viewerPositioning.json",constructor:function(_2f0){lang.mixin(this,_2f0||{});this._initializeStorageProvider();var _2f1=_2ed.urlToObject(document.location.href);this.appId=_2f1.query?_2f1.query.appid:null;this.processConfig();},processConfig:function(){if(this.appId!=null){var _2f2=new _2ec();_2f2.loadConfiguration(this.appId).then(lang.hitch(this,this._handleWebMapTemplateConfigurationLoaded));}else{if(this.useProxyForConfig){this.loadProxiedConfig();}else{this.loadConfig();}}},_handleWebMapTemplateConfigurationLoaded:function(_2f3){this.handleConfigLoaded(_2f3);},handleConfigLoaded:function(_2f4){VIEWER_UTILS.debug("Configuration Loaded");this.viewerConfig=_2f4;if(_2f4.windowTitle){_2dd.doc.title=_2f4.windowTitle;}else{_2dd.doc.title="JavaScript Map Viewer";}if(this.viewerConfig&&this.viewerConfig.portal!=null&&lang.isObject(this.viewerConfig.portal)&&this.viewerConfig.portal.url){var _2f5=this.viewerConfig.portal.url;var _2f6=_2f5.toLowerCase();if(_2f6.indexOf("http://")<0&&_2f6.indexOf("https://")<0){_2f5="http://"+_2f5;}_2ee.arcgisUrl=VIEWER_UTILS.joinUrl(_2f5,this.portalContentUrl);}if(this.useProxyForPositionConfig){this.loadProxiedJson(this.viewerPositioningConfigUrl,lang.hitch(this,this.handleWindowPositionsConfigLoaded),lang.hitch(this,this.handleWindowPositionsConfigLoadFailed));}else{this.loadJson(this.viewerPositioningConfigUrl,lang.hitch(this,this.handleWindowPositionsConfigLoaded),lang.hitch(this,this.handleWindowPositionsConfigLoadFailed));}},startupViewer:function(){this._initListeners();this.initListeners();this._createViewerManager();this.createLayerQueryTools();},createLayerQueryTools:function(){this.layerQueryTools=new _2ef();},initListeners:function(){},_initListeners:function(){this.inherited(arguments);_2dc.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LOADED,lang.hitch(this,this.handleMapLoaded));_2dc.subscribe(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET,lang.hitch(this,this.handleGetConfiguration));_2dc.subscribe(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,lang.hitch(this,this.handleGetConfigurationKey));},handleGetConfiguration:function(_2f7){if(_2f7&&lang.isFunction(_2f7)){_2f7(this.viewerConfig);}},handleGetConfigurationKey:function(key,_2f8){if(key!=null&&key!=""&&_2f8&&lang.isFunction(_2f8)){_2f8(this.viewerConfig[key]);}},handleMapLoaded:function(map){this.map=map;PROJECTION_UTILS.setMapSpatialReference(map.spatialReference);this.loadControllers();this.loadUI();},loadUI:function(){this.inherited(arguments);},_initializePortalSupport:function(){this.inherited(arguments);},loadControllers:function(){if(this.viewerConfig.geometryServiceUrl!=null&&this.viewerConfig.geometryServiceUrl){this.geometryServiceController=new _2e7();}else{_2dc.subscribe(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.EXISTS,lang.hitch(this,function(_2f9){if(_2f9!=null&&lang.isFunction(_2f9)){_2f9(false);}}));}if(this.viewerConfig.locators!=null&&lang.isArray(this.viewerConfig.locators)){for(var i=0;i<this.viewerConfig.locators.length;i++){this.addLocator(this.viewerConfig.locators[i].url,this.viewerConfig.locators[i].label);}}this._createBookmarkController();},handleWindowPositionsConfigLoaded:function(_2fa){VIEWER_GLOBALS.windowPositioning=_2fa;this.createMessagingAndLogging();if(!this.baseConfigurationLoaded){this.handleBaseConfigurationsLoaded();}},handleWindowPositionsConfigLoadFailed:function(){VIEWER_GLOBALS.windowPositioning={};this.createMessagingAndLogging();if(!this.baseConfigurationLoaded){this.handleBaseConfigurationsLoaded();}},createMessagingAndLogging:function(){this._createLoggingWidget();this._createMessagingWidget();},handleBaseConfigurationsLoaded:function(){this.baseConfigurationLoaded=true;this.startupViewer();},_createViewerManager:function(){this._createLayersWidget();if(this._initializePortalSupport!=null&&lang.isFunction(this._initializePortalSupport)){_2dc.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.INITIALIZED,lang.hitch(this,function(){this.mapManager=new _2e3({webMapItem:this.viewerConfig.webMapItem});}));this._initializePortalSupport();}else{}},_createLayersWidget:function(){this.createLayersWidget();},createLayersWidget:function(){},_createBookmarkController:function(){this.bookmarkController=new _2e5();},_loadBookmarks:function(){if(lang.isObject(this.viewerConfig.bookmarks)&&this.viewerConfig.bookmarks.url!=null){var _2fb=lang.hitch(this,function(_2fc){this._setServerBookmarks(_2fc);});this.loadJson(this.viewerConfig.bookmarks.url,_2fb);}this.mainToolbar.loadCookieBookmarks();},_setServerBookmarks:function(_2fd){this.mainToolbar.addStaticBookmarks(_2fd);},_initializeStorageProvider:function(){var _2fe=dojox.storage.manager.getProvider();_2fe.initialize();},processNavigationToolbarAddons:function(){},createViewerDefaultTools:function(){this.viewerDefaultTools=new _2e2();this.createAddonTools();this.viewerDefaultTools.createConfigurationMenuItem();},_createViewerAccordion:function(){if(this.viewerConfig.toolsAccordion.create==null||this.viewerConfig.toolsAccordion.create!=false){_2dc.subscribe(VIEWER_GLOBALS.EVENTS.TOOLS.ACCORDION.LOAD_DEFAULT_TOOLS,lang.hitch(this,this.createDefaultAccordionTools));this.viewerAccordion=new _2e8({allowCollapse:this.allowAccordionCollapse,movable:this.allowAccordionMove});_2dc.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.VIEWER_ACCORDION,this.viewerAccordion);}},_createViewerMainToolbar:function(){this.mainToolbar=new _2e4();_2dc.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.MAIN_TOOLBAR,this.mainToolbar);if(lang.isObject(this.viewerConfig.map)){this.mainToolbar.setBasemaps(this.viewerConfig.map.basemaps);}},createDefaultAccordionTools:function(){},handleToggleAccordion:function(){this.viewerAccordion.toggle();},createAddonTools:function(){}});});},"esriviewer/map/base/MapLayersTools":function(){define("esriviewer/map/base/MapLayersTools",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojo/dom-construct","esri/layers/OpenStreetMapLayer","esri/layers/FeatureLayer","esri/layers/GraphicsLayer","esri/layers/ArcGISImageServiceLayer","esri/layers/KMLLayer","esri/layers/WMSLayer","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/ArcGISDynamicMapServiceLayer"],function(_2ff,_300,lang,_301,_302,_303,_304,_305,_306,_307,_308,_309){return _2ff([],{labelServicesVisible:false,constructor:function(_30a){lang.mixin(this,_30a);this.loadViewerConfigurationData();this.currrentBasemapKey=null;this.labelServices={};this.timeEnabledLayers=[];this.operationalLayers={};this.graphicsLayers={};this.initListeners();},loadViewerConfigurationData:function(){if(this.mapConfiguration==null){var _30b;_300.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"map",function(_30c){_30b=_30c;});if(_30b){this.mapConfiguration=_30b;}}},initListeners:function(){_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.REMOVE,lang.hitch(this,this.handleRemoveBasemap));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADD_GRAPHICS_LAYER,lang.hitch(this,this.handleAddGraphicsLayer));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.ADD,lang.hitch(this,this.handleAddBasemap));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.SET,lang.hitch(this,this.changeBaseMaps));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GET_CURRENT_URL,lang.hitch(this,this.handleGetCurrentBasemapUrl));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GET_CURRENT,lang.hitch(this,this.handleGetCurrentBasemap));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LABEL_SERVICES.SHOW,lang.hitch(this,this.showLabelServices));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LABEL_SERVICES.HIDE,lang.hitch(this,this.hideLabelServices));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LABEL_SERVICES.SERVICE_EXISTS,lang.hitch(this,this.handleLabelServiceExists));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.TIME.GET_TIME_ENABLED_SERVICES,lang.hitch(this,this.handleGetTimeEnabledLayers));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.OPERATIONAL.GET,lang.hitch(this,this.handleGetOperationalLayers));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADD_FROM_URL,lang.hitch(this,this.handleAddLayerFromUrl));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADD,lang.hitch(this,this.handleAddLayer));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADD_EXTERNAL_MANAGED_LAYER,lang.hitch(this,this.handleAddExternalManagedLayer));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REMOVE_EXTERNAL_MANAGED_LAYER,lang.hitch(this,this.handleRemoveExternalManagedLayer));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.GET_FEATURE_LAYER_IF_EXISTS,lang.hitch(this,this.handleGetFeatureLayerIfExists));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REMOVE,lang.hitch(this,this.handleRemoveLayer));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADD_REFERENCE_LAYER,lang.hitch(this,this.handleAddReferenceLayerRequest));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REMOVE_REFERENCE_LAYER,lang.hitch(this,this.handleRemoveReferenceLayerRequest));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.MOVE_LAYER_TO_TOP,lang.hitch(this,this.handleMoveLayerToTop));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.MAKE_VISIBLE,lang.hitch(this,this.handleMakeLayerVisible));_300.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.MAKE_INVISIBLE,lang.hitch(this,this.handleMakeLayerInvisible));this.map.on("layer-add",lang.hitch(this,this._handleLayerAdded));},handleMakeLayerVisible:function(_30d){if(_30d!=null){_30d.show();}},handleMakeLayerInvisible:function(_30e){if(_30e!=null){_30e.hide();}},handleMoveLayerToTop:function(_30f){if(_30f){this.map.reorderLayer(_30f,this.map.layerIds.length);}},_handleLayerAdded:function(evt){if(evt==null||evt.layer==null){return;}var _310=evt.layer;if(_310!=null&&_310.isReferenceLayer==null||!_310.isReferenceLayer){if(_310.timeInfo!=null){this.timeEnabledLayers.push(_310);VIEWER_UTILS.log("Found time enabled layer",VIEWER_GLOBALS.LOG_TYPE.INFO);_300.publish(VIEWER_GLOBALS.EVENTS.MAP.TIME.TIME_LAYER_FOUND,_310);}}if(_310.isOperationalLayer!=null&&_310.isOperationalLayer===true){VIEWER_UTILS.log("Added operational layer",VIEWER_GLOBALS.LOG_TYPE.INFO);_300.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADDED,_310);}},handleGetFeatureLayerIfExists:function(_311,_312){if(_311==null||_311==""||_312==null||!lang.isFunction(_312)){return;}var _313=_311.toLowerCase();_312(this.operationalLayers[_313]);},handleAddGraphicsLayer:function(_314){if(_314!=null){this.map.addLayer(_314);var uuid=VIEWER_UTILS.generateUUID();_314.id=uuid;this.graphicsLayers[uuid]=_314;}},handleAddBasemap:function(_315,_316,_317){var id=_315.toLowerCase();if(this.basemaps[id]!=null){_317("Basemap Already Exists");}var _318=lang.hitch(this,this._handleBaseMapServiceDescriptionLoaded,_315,_316,_317);VIEWER_UTILS.getServiceDescription(_315,_318);},_handleBaseMapServiceDescriptionLoaded:function(_319,_31a,_31b,_31c){if(this.isServiceTiledAndInMapSR(_31c)){var id=_319.toLowerCase();var _31d={id:id,label:REG_EXP_UTILS.getServiceNameFromUrl(_319),url:_319};this.basemaps[id]=_31d;VIEWER_UTILS.debug("Added Basemap: "+id);_300.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.ADDED,_31d,id);if(_31a!=null&&lang.isFunction(_31a)){_31a(_31d);}}else{if(_31b!=null&&lang.isFunction(_31b)){_31b("Could not add basemap. Is the service cached and in the map spatial reference ("+this.map.spatialReference.wkid+")?");}}},handleRemoveLayer:function(_31e){if(_31e==null){return;}var _31f=VIEWER_UTILS.getLayerUniqueId(_31e);if(_31f!=null){if(this.operationalLayers[_31f]){delete this.operationalLayers[_31f];}}if(_31e instanceof _304){if(this.graphicsLayers[_31e.id]!=null){delete this.graphicsLayers[_31e.id];}}this.map.removeLayer(_31e);VIEWER_UTILS.debug("Removed Layer: "+_31e.name);_300.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REMOVED,_31e);},handleGetOperationalLayers:function(_320){if(_320!=null&&lang.isFunction(_320)){var _321=[];for(var key in this.operationalLayers){_321.push(this.operationalLayers[key]);}_320(_321);}},handleGetTimeEnabledLayers:function(_322){if(_322!=null&&lang.isFunction(_322)){_322(this.timeEnabledLayers);}},handleRemoveExternalManagedLayer:function(_323){this.map.removeLayer(_323);},handleAddExternalManagedLayer:function(_324){this.map.addLayer(_324);},handleAddLayer:function(_325,_326,_327,_328){if(_326&&_326.isOperationalLayer!=false){var _329=VIEWER_UTILS.getLayerUniqueId(_325);if(_329!=null){if(this.operationalLayers[_329]!=null){return;}}this.operationalLayers[_329]=_325;_325.isOperationalLayer=true;}else{_325.isOperationalLayer=false;}_325.canRemove=_326!=null&&_326.canRemove!=false;this.map.addLayer(_325);if(_327!=null&&lang.isFunction(_327)){_325.on("load",_327);}if(_328!=null&&lang.isFunction(_328)){var _32a=function(){_328(_325);};_325.on("error",lang.hitch(this,_32a));}VIEWER_UTILS.debug("Added Layer: "+_329);},handleAddLayerFromUrl:function(_32b,_32c,_32d,_32e){var _32f=VIEWER_UTILS.getLayerUniqueId(_32b);if(this.operationalLayers[_32f]!=null){if(_32e!=null&&lang.isFunction(_32e)){_32e("Layer has already been added to the map");}else{_300.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,"Layer has already been added to the map");}return;}var _330=null;var type=VIEWER_UTILS.getServiceTypeFromUrl(_32b);if(type){if(type==VIEWER_GLOBALS.SERVICE_TYPES.MAP_SERVER){if(REG_EXP_UTILS.isFeatureLayer(_32b)){_330=new _303(_32b,lang.mixin({mode:_303.MODE_ONDEMAND},_32c||{}));}else{this._handleAddMapServiceLayer(_32b,_32c,_32d,_32e);return;}}else{if(type==VIEWER_GLOBALS.SERVICE_TYPES.KML){_330=new _306(_32b);}else{if(type==VIEWER_GLOBALS.SERVICE_TYPES.IMAGE_SERVER){_330=new _305(_32b);}else{if(type===VIEWER_GLOBALS.SERVICE_TYPES.FEATURE_SERVER){_330=new _303(_32b,lang.mixin({mode:_303.MODE_ONDEMAND},_32c||{}));}}}}}else{if(_32b.indexOf("/wms/")>-1){_330=new _307(_32b,_32c);}}if(_330){_330.canRemove=_32c!=null&&_32c.canRemove!=false;_330.isOperationalLayer=_32c!=null&&_32c.isOperationalLayer!=null&&_32c.isOperationalLayer!=false;_330.layerAliasName=(_32c&&_32c.label)?_32c.label:REG_EXP_UTILS.getServiceNameFromUrl(_32b);if(_32d!=null&&lang.isFunction(_32d)){_330.on("load",_32d);}if(_32e!=null&&lang.isFunction(_32e)){_330.on("error",_32e);}var _331=this.operationalLayers;_330.on("load",function(){_331[_32f]=_330;});VIEWER_UTILS.debug("Added Layer from URL: "+_32b);this.map.addLayer(_330);}else{if(lang.isFunction(_32e)){_32e("Could Not Add Layer");}}},_handleAddMapServiceLayer:function(_332,_333,_334,_335){var _336=lang.hitch(this,lang.hitch(this,this._handleAddMapServiceServiceDescriptionLoaded,_332,_333,_334,_335));VIEWER_UTILS.getServiceDescription(_332,_336,_335);},_handleAddMapServiceServiceDescriptionLoaded:function(_337,_338,_339,_33a,_33b){var _33c;if(_33b!=null&&lang.isObject(_33b)){if(this.isServiceTiledAndInMapSR(_33b)){_33c=new _308(_337);}else{_33c=new _309(_337);}_33c.isOperationalLayer=_338!=null&&_338.isOperationalLayer!=null&&_338.isOperationalLayer!=false;var _33d=this.operationalLayers;_33c.on("load",function(){_33d[_33c.url.toLowerCase()]=_33c;});_33c.serviceDescription=_33b;}if(_33c!=null){_33c.name=REG_EXP_UTILS.getServiceNameFromUrl(_337);if(_338!=null&&_338.canRemove!=null){_33c.canRemove=true;}if(_339!=null&&lang.isFunction(_339)){_33c.on("load",_339);}if(_33a!=null&&lang.isFunction(_33a)){_33c.on("error",_33a);}VIEWER_UTILS.debug("Added Layer: "+_33c.url);this.map.addLayer(_33c);}},isServiceTiledAndInMapSR:function(_33e){if(_33e!=null&&lang.isObject(_33e)){return _33e.tileInfo!=null&&_33e.spatialReference!=null&&_33e.spatialReference.wkid==this.map.spatialReference.wkid;}return false;},handleLabelServiceExists:function(_33f){if(_33f!=null&&lang.isFunction(_33f)){var _340=false;for(var key in this.labelServices){_340=true;break;}_33f(_340);}},handleRemoveBasemap:function(id){var _341=this.basemaps[id];if(this.basemaps[id]!=null){if(this.currrentBasemapKey!=null&&this.currrentBasemapKey===id){this.map.removeLayer(this.currentBasemap);for(var key in this.basemaps){this.changeBaseMaps(key);break;}}delete this.basemaps[id];VIEWER_UTILS.debug("Removed Basemap: "+id);_300.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.REMOVED,id);}},changeBaseMaps:function(key){var _342=this.basemaps[key];if(_342){if(this.currrentBasemapKey!=null&&this.currrentBasemapKey===key){return;}if(this.currentBasemap!=null){this.map.removeLayer(this.currentBasemap);}if(_342.isOpenStreetMap==null||_342.isOpenStreetMap==false){this.currentBasemap=new _308(_342.url);}else{this.currentBasemap=new _302();}this.map.addLayer(this.currentBasemap,0);VIEWER_UTILS.debug("Changed Basemap: "+key);this.currrentBasemapKey=key;}},handleGetCurrentBasemapUrl:function(_343){if(_343!=null&&lang.isFunction(_343)){if(this.mapConfiguration.useBasemapGallery==null||this.mapConfiguration.useBasemapGallery!=true){_343(this.basemaps[this.currrentBasemapKey].url);return;}else{var _344;_300.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.GET,function(_345){_344=_345;});if(_344){var _346=_344.getSelected();if(_346==null){if(this.webMapItem&&this.webMapItem.itemData&&this.webMapItem.itemData.baseMap&&this.webMapItem.itemData.baseMap.baseMapLayers&&this.webMapItem.itemData.baseMap.baseMapLayers&&lang.isArray(this.webMapItem.itemData.baseMap.baseMapLayers)&&this.webMapItem.itemData.baseMap.baseMapLayers.length>0){_343(this.webMapItem.itemData.baseMap.baseMapLayers[0].url);return;}}else{if(_346&&_346.layers&&lang.isArray(_346.layers)&&_346.layers.length>0){_343(_346.layers[0].url);return;}}}}_343(null);}},handleGetCurrentBasemap:function(_347){if(_347!=null&&lang.isFunction(_347)){if(this.mapConfiguration.useBasemapGallery==null||this.mapConfiguration.useBasemapGallery!=true){_347(this.currrentBasemapKey);return;}else{var _348;_300.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.GET,function(_349){_348=_349;});if(_348){var _34a=_348.getSelected();if(_34a==null){if(this.webMapItem&&this.webMapItem.itemData&&this.webMapItem.itemData.baseMap&&this.webMapItem.itemData.baseMap.baseMapLayers&&this.webMapItem.itemData.baseMap.baseMapLayers&&lang.isArray(this.webMapItem.itemData.baseMap.baseMapLayers)&&this.webMapItem.itemData.baseMap.baseMapLayers.length>0){_347(new _308(this.webMapItem.itemData.baseMap.baseMapLayers[0].url));return;}}else{_347(_34a);return;}}}}_347(null);},showLabelServices:function(){var _34b;for(var key in this.labelServices){_34b=this.labelServices[key];_34b.show();this.handleMoveLayerToTop(_34b);}VIEWER_UTILS.debug("Displayed Label Services");this.labelServicesVisible=true;},hideLabelServices:function(){for(var key in this.labelServices){this.labelServices[key].hide();}VIEWER_UTILS.debug("Hid Label Services");this.labelServicesVisible=false;},handleAddReferenceLayerRequest:function(_34c,_34d,_34e){if(_34c==null||_34c.url==null||_34c.url==""){if(_34e!=null&&lang.isFunction(_34e)){_34e("Invalid Reference Layer");}}var id=VIEWER_UTILS.getLayerUniqueId(_34c);if(this.labelServices[id]!=null){if(_34e!=null&&lang.isFunction(_34e)){_34e("Reference Layer Already Exists");}}var _34f=this._addReferenceLayer(_34c);if(_34f!=null){if(_34d!=null&&lang.isFunction(_34d)){_34d(_34f);}}else{if(_34e!=null&&lang.isFunction(_34e)){_34e("Could not add reference layer");}}},_addReferenceLayers:function(){if(this.mapConfiguration.referenceLayers!=null&&lang.isArray(this.mapConfiguration.referenceLayers)){var _350;for(var i=0;i<this.mapConfiguration.referenceLayers.length;i++){_350=this.mapConfiguration.referenceLayers[i];this._addReferenceLayer(_350);}}},_addReferenceLayer:function(_351){var _352=this._getMapLayerFromLayerObject(_351);if(_352!=null){if(!this.labelServicesVisible){_352.hide();}else{_352.show();}var id=VIEWER_UTILS.getLayerUniqueId(_352);if(id==null){return;}this.labelServices[id]=_352;_352.isReferenceLayer=true;this.map.addLayer(_352);VIEWER_UTILS.log("Added Reference Layer: "+_352.url,VIEWER_GLOBALS.LOG_TYPE.INFO);_300.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REFERENCE_LAYER_ADDED,_352);return _352;}return null;},handleRemoveReferenceLayerRequest:function(_353){var id=VIEWER_UTILS.getLayerUniqueId(_353);if(id==null){return;}if(this.labelServices[id]!=null){this.map.removeLayer(_353);delete this.labelServices[id];var _354=false;for(var key in this.labelServices){_354=true;break;}VIEWER_UTILS.log("Removed reference layer",VIEWER_GLOBALS.LOG_TYPE.INFO);_300.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REFERENCE_LAYER_REMOVED,_353,_354);}},addWebMapOperationalLayers:function(_355){var _356;var _357;for(var i=0;i<_355.itemData.operationalLayers.length;i++){_356=_355.itemData.operationalLayers[i];_357=_356.layerObject;_357.name=REG_EXP_UTILS.getServiceNameFromUrl(_357.url);_357.isOperationalLayer=true;var _358=VIEWER_UTILS.getLayerUniqueId(_357);if(this.operationalLayers[_358]==null){this.operationalLayers[_358]=_357;}VIEWER_UTILS.getServiceDescription(_357.url,lang.hitch(this,function(_359,_35a){_359.serviceDescription=_35a;this.handleLayerAdded(_359);},_357));}},_addOperationalLayers:function(){if(this.mapConfiguration.operationalLayers!=null&&lang.isArray(this.mapConfiguration.operationalLayers)){var _35b;for(var i=0;i<this.mapConfiguration.operationalLayers.length;i++){_35b=this.mapConfiguration.operationalLayers[i];var _35c=this._getMapLayerFromLayerObject(_35b);if(_35c!=null){VIEWER_UTILS.getServiceDescription(_35b.url,lang.hitch(this,function(_35d,_35e){_35d.serviceDescription=_35e;},_35c));_35c.name=REG_EXP_UTILS.getServiceNameFromUrl(_35b.url);if(_35b.label!=null&&_35b.label!=""){_35c.layerAliasName=_35b.label;}this.map.addLayer(_35c);_35c.isOperationalLayer=true;var _35f=VIEWER_UTILS.getLayerUniqueId(_35c);if(this.operationalLayers[_35f]==null){this.operationalLayers[_35f]=_35c;}}}}},_getMapLayerFromLayerObject:function(_360){if(_360.type==null||_360.type==""||_360.url==null||_360.url==""){return null;}var _361={};if(_360.visible!=null){_361.visible=_360.visible;}var _362=_360.type.toLowerCase();if(_362==="tiled"){return new _308(_360.url,_361);}else{if(_362==="dynamic"){var _363=new _309(_360.url,_361);if(_360.visibleLayerIds!=null&&lang.isArray(_360.visibleLayerIds)){_363.setVisibleLayers(_360.visibleLayerIds);}return _363;}else{if(_362==="image"){return new _305(_360.url,_361);}else{if(_362==="feature"){_361=lang.mixin(_361,{mode:_303.MODE_ONDEMAND,outFields:["*"]});return new _303(_360.url,_361);}else{if(_362==="kml"){return new _306(_360.url);}}}}}},loadMapConfigurationLayers:function(){this._addReferenceLayers();this._addOperationalLayers();}});});},"esriviewer/map/base/MapDisplayWidgets":function(){define("esriviewer/map/base/MapDisplayWidgets",["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-attr","dojo/dom-construct","dojo/dom-class","dojo/topic","esri/geometry/webMercatorUtils","esri/geometry/scaleUtils","esri/dijit/Scalebar"],function(_364,lang,_365,_366,_367,_368,_369,_36a,_36b,_36c){return _364([],{useFooterCoordPosition:false,_defaultMgrsPrecision:6,showMgrs:false,showUTM:false,showLatLong:true,hideMapScale:false,showScaleBar:false,constructor:function(_36d){lang.mixin(this,_36d);this.mgrsPrecision=this._defaultMgrsPrecision;this.loadViewerConfigurationData();this.createMapScaleAndCoordsElement();this.initListeners();},loadViewerConfigurationData:function(){var _36e=null;_369.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"map",function(_36f){_36e=_36f;});if(_36e&&lang.isObject(_36e)){if(_36e.display!=null&&lang.isObject(_36e.display)){if(_36e.display.showScale!=null&&_36e.display.showScale===false){this.hideMapScale=true;}if(_36e.display.showScaleBar!=null&&_36e.display.showScaleBar===true){this.showScaleBar=true;}if(_36e.display.showMGRS!=null&&_36e.display.showMGRS===true){this.showMgrs=true;}if(_36e.display.showUTM!=null&&_36e.display.showUTM===true){this.showUTM=true;}if(_36e.display.showLatLong!=null&&_36e.display.showLatLong===false){this.showLatLong=false;}if(_36e.display.mgrsPrecision!=null){this.mgrsPrecision=parseInt(_36e.display.mgrsPrecision,10);}}}var _370=null;_369.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"footerTogglerWidget",function(_371){_370=_371;});this.useFooterCoordPosition=_370!=null&&lang.isObject(_370)&&_370.create;},initListeners:function(){_369.subscribe(VIEWER_GLOBALS.EVENTS.MAP.INFO_WINDOW.HIDE,lang.hitch(this,this.handleHideInfoWindow));if(this.showLatLong||this.showMgrs||this.showUTM){this.map.on("mouse-move",lang.hitch(this,this.showCoords));}},handleHideInfoWindow:function(){if(this.map&&this.map.infoWindow&&this.map.infoWindow.isShowing){this.map.infoWindow.hide();}},createMapScaleAndCoordsElement:function(){var _372=_367.create("div",{className:"threePixelBorderRadius mapalmanac defaultBackground"});if(this.useFooterCoordPosition){_368.add(_372,"mapScaleAndCoordsContainerWithFooter");}else{_368.add(_372,"mapScaleAndCoordsContainer");}if(!this.hideMapScale){this.scaleInfoElement=_367.create("span",{className:"mapScaleInfoInner"});_367.place(this.scaleInfoElement,_372);}if(this.showScaleBar){var _373=_367.create("div",{className:"threePixelBorderRadius  defaultBackground"});if(this.useFooterCoordPosition){_368.add(_373,"esriScalebarContainerWithFooter");}else{_368.add(_373,"esriScalebarContainer");}var _374=_367.create("div");_367.place(_374,_373);_367.place(_373,_365.body());var _375=new _36c({map:this.map,scalebarUnit:"dual"},_374);}if(this.showLatLong||this.showMgrs||this.showUTM){if(!this.hideMapScale){_367.place(_367.create("span",{innerHTML:"|"}),_372);}if(this.showLatLong){this.latLongCoordsInfoElement=_367.create("span",{className:"mapCoordsInfoInner"});_367.place(this.latLongCoordsInfoElement,_372);}if(this.showMgrs){if(this.showLatLong){_367.place(_367.create("span",{innerHTML:"|"}),_372);}this.mrgsCoordsInfoElement=_367.create("span",{className:"mapCoordsInfoInner"});_367.place(this.mrgsCoordsInfoElement,_372);}if(this.showUTM){if(this.showLatLong||this.showMgrs){_367.place(_367.create("span",{innerHTML:"|"}),_372);}this.utmCoordsInfoElement=_367.create("span",{className:"mapCoordsInfoInner"});_367.place(this.utmCoordsInfoElement,_372);}}_369.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.MAP_SCALE_AND_COORDINATES,_372);},showCoords:function(evt){try{if(this.latLongCoordsInfoElement||this.mrgsCoordsInfoElement||this.utmCoordsInfoElement){var pnt=_36a.webMercatorToGeographic(evt.mapPoint||evt);if(this.latLongCoordsInfoElement){if(pnt===null||pnt===undefined){return;}_366.set(this.latLongCoordsInfoElement,"innerHTML","Lat: "+pnt.y.toFixed(2)+"&deg"+((pnt.y<0)?"S":"N")+"  Lon: "+pnt.x.toFixed(2)+"&deg"+((pnt.x<0)?"W":"E"));}if(this.mrgsCoordsInfoElement){_366.set(this.mrgsCoordsInfoElement,"innerHTML","<span style='font-weight:bold'>MGRS</span> "+PROJECTION_UTILS.LLtoMGRS(pnt.y,pnt.x,this.mgrsPrecision));}if(this.utmCoordsInfoElement){var _376=PROJECTION_UTILS.LLtoUTM(pnt.y,pnt.x);if(_376.northing==null||isNaN(_376.northing)){_376.northing="?";}else{_376.northing=_376.northing.toFixed(3);}if(_376.easting==null||isNaN(_376.easting)){_376.easting="?";}else{_376.easting=_376.easting.toFixed(3);}_366.set(this.utmCoordsInfoElement,"innerHTML","<span style='font-weight:bold'>UTM</span> "+"N: "+_376.northing+" E: "+_376.easting+"   Z: "+_376.zone);}}}catch(e){}},showScale:function(){var a=Math.round(_36b.getScale(this.map));a>999&&a<=999999?a=Math.round(a/1000)+" K":a>999999?a=Math.round(a/1000000)+" M":a>0&&a<=999&&(a=Math.round(a)+" Ft");_366.set(this.scaleInfoElement,"innerHTML","<span style='font-weight:bold'>Scale</span> 1 <b>:</b> "+a);}});});},"dijit/PopupMenuItem":function(){define("dijit/PopupMenuItem",["dojo/_base/declare","dojo/dom-style","dojo/query","./registry","./MenuItem","./hccss"],function(_377,_378,_379,_37a,_37b){return _377("dijit.PopupMenuItem",_37b,{_fillContent:function(){if(this.srcNodeRef){var _37c=_379("*",this.srcNodeRef);this.inherited(arguments,[_37c[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=_379("[widgetId]",this.dropDownContainer)[0];this.popup=_37a.byNode(node);}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){_378.set(this.arrowWrapper,"visibility","");}this.focusNode.setAttribute("aria-haspopup","true");},destroyDescendants:function(_37d){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive(_37d);}delete this.popup;}this.inherited(arguments);}});});},"dojox/flash":function(){define("dojox/flash",["./flash/_base"],function(){});},"dijit/form/RadioButton":function(){define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_37e,_37f,_380){return _37e("dijit.form.RadioButton",[_37f,_380],{baseClass:"dijitRadio"});});},"esriviewer/ui/layers/base/LayersLocalStorageMixin":function(){define("esriviewer/ui/layers/base/LayersLocalStorageMixin",["dojo/_base/declare","dojo/_base/lang","dojo/has"],function(_381,lang,has){return _381([],{localStoragePersistSupported:true,constructor:function(){if(!(has("ie")<8)){this.localStoragePersistSupported=false;}this.storageProvider=dojox.storage.manager.getProvider();if(this.storageProvider){this.localStoragePersistSupported=true;}this.persistedUserLayers=this.loadPersistedUserLayers();},deleteUserPersistedLayer:function(_382){if(_382!=null&&_382!=""){if(this.persistUserLayerExists(_382)){var _383=_382.toLowerCase();delete this.persistedUserLayers[_383];this.persist();}}},removeAllLayers:function(){this.persistedUserLayers={};this.persist();},persistUserLayerExists:function(_384){if(_384==null||_384==""){return true;}return this.persistedUserLayers[_384]!=null;},persistUserLayer:function(_385){if(_385==null||_385.url==null){return;}var _386=_385.url.toLowerCase();if(_386==null){return null;}if(this.persistUserLayerExists(_386)){return null;}else{var name=VIEWER_UTILS.getLayerNameFromLayer(_385);var _387={url:_385.url,name:name};this.persistedUserLayers[_386]=_387;this.persist();return _387;}},loadPersistedUserLayers:function(){if(this.storageProvider){if(this.storageProvider.hasKey(VIEWER_GLOBALS.STORAGE.LABELS.LAYERS)){return this.storageProvider.get(VIEWER_GLOBALS.STORAGE.LABELS.LAYERS);}}return {};},persist:function(){this.storageProvider.put(VIEWER_GLOBALS.STORAGE.LABELS.LAYERS,this.persistedUserLayers);}});});},"esriviewer/ui/layers/base/LayersTocWidgetContextMenu":function(){define("esriviewer/ui/layers/base/LayersTocWidgetContextMenu",["dojo/_base/declare","dojo/topic","dojo/on","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dijit/Menu","dijit/MenuItem","dijit/PopupMenuItem","dijit/registry","dojo/_base/connect","esri/layers/ArcGISImageServiceLayer","esri/layers/FeatureLayer","esri/layers/ArcGISDynamicMapServiceLayer"],function(_388,_389,on,lang,_38a,_38b,Menu,_38c,_38d,_38e,con,_38f,_390,_391){return _388([],{createQueryBuilderMenuItems:false,showRemoveMenuItems:true,constructor:function(_392){lang.mixin(this,_392);this.initialize();},initialize:function(){this.loadViewerConfigurationData();this.createServerMenu();this.createGroupLayerMenu();this.createLayerMenu();this.createGraphicsLayerMenu();this.initListeners();},initListeners:function(){this.zoomToExtentMenuItem.on("click",lang.hitch(this,this.handleZoomToExtent));if(this.createQueryBuilderMenuItems){this.queryServiceMenuItem.on("click",lang.hitch(this,this.handleQueryBuilderServiceClick));this.queryLayerMenuItem.on("click",lang.hitch(this,this.handleQueryBuilderLayerClick));}this.openMapServiceDescriptionMenu.on("click",lang.hitch(this,this.handleOpenMapServerDescriptionMenuRequest));this.confirmRemoveLayerMenuItem.on("click",lang.hitch(this,this.handleRemoveLayer));this.confirmRemoveGraphicLayerMenuItem.on("click",lang.hitch(this,this.handleRemoveGraphicsLayer));con.connect(this.serverNodeMenu,"_openMyself",lang.hitch(this,this.handleServerMenuOpen));con.connect(this.groupNodeMenu,"_openMyself",lang.hitch(this,this.handleGroupMenuOpen));con.connect(this.graphicsLayerMenu,"_openMyself",lang.hitch(this,this.handleGraphicsLayerMenuOpen));con.connect(this.layerNodeMenu,"_openMyself",lang.hitch(this,this.handleLayerMenuOpen));},loadViewerConfigurationData:function(){var _393=null;_389.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"queryBuilder",function(_394){_393=_394;});if(_393&&lang.isObject(_393)){this.createQueryBuilderMenuItems=_393.create===true;}},createServerMenu:function(){this.serverNodeMenu=new Menu();this.zoomToExtentMenuItem=new _38c({label:"Zoom To Extent",iconClass:"commonIcons16 locationGoTo"});this.serverNodeMenu.addChild(this.zoomToExtentMenuItem);if(this.createQueryBuilderMenuItems){this.queryServiceMenuItem=new _38c({label:"Query Builder",iconClass:"commonIcons16 sql"});this.serverNodeMenu.addChild(this.queryServiceMenuItem);}this.openMapServiceDescriptionMenu=new _38c({label:"View Service Description",iconClass:"serviceDescriptionIcon"});this.serverNodeMenu.addChild(this.openMapServiceDescriptionMenu);var _395=new Menu();this.confirmRemoveLayerMenuItem=new _38c({label:"Confirm",iconClass:"commonIcons16 question"});_395.addChild(this.confirmRemoveLayerMenuItem);this.removeServiceMenuItem=new _38d({iconClass:"commonIcons16 delete",label:"Remove Layer",popup:_395});this.serverNodeMenu.addChild(this.removeServiceMenuItem);this.serverNodeMenu.startup();},createGraphicsLayerMenu:function(){this.graphicsLayerMenu=new Menu();var _396=new Menu();this.confirmRemoveGraphicLayerMenuItem=new _38c({label:"Confirm",iconClass:"commonIcons16 question"});_396.addChild(this.confirmRemoveGraphicLayerMenuItem);this.removeGraphicLayerMenuItem=new _38d({iconClass:"commonIcons16 delete",label:"Remove Graphics Layer",popup:_396});this.graphicsLayerMenu.addChild(this.removeGraphicLayerMenuItem);this.graphicsLayerMenu.startup();},createLayerMenu:function(){this.layerNodeMenu=new Menu();if(this.createQueryBuilderMenuItems){this.queryLayerMenuItem=new _38c({label:"Query Builder",iconClass:"commonIcons16 sql"});this.layerNodeMenu.addChild(this.queryLayerMenuItem);}this.layerNodeMenu.startup();},createGroupLayerMenu:function(){this.groupNodeMenu=new Menu();this.groupNodeMenu.startup();_38a.set(this.groupNodeMenu.domNode,"display","none");},handleGroupMenuOpen:function(){_38a.set(this.groupNodeMenu.domNode,"display","none");return false;},bindNodeToGraphicsLayerMenu:function(node){this.bindNode(node,this.graphicsLayerMenu);},bindNodeToServerMenu:function(node){this.bindNode(node,this.serverNodeMenu);},bindNodeToGroupMenu:function(node){this.bindNode(node,this.groupNodeMenu);},bindNodeToLayerMenu:function(node){this.bindNode(node,this.layerNodeMenu);},bindNodeToNoContentMenu:function(node){on(node,"contextmenu",function(e){e.stopPropagation();});},bindNode:function(node,menu){if(node&&menu&&menu.bindDomNode){menu.bindDomNode(node);}},handleRemoveGraphicsLayer:function(){if(this.currentGraphicsLayerNodeFromMenu&&this.currentGraphicsLayerNodeFromMenu.item){var _397=this.getTreeStore().getValue(this.currentGraphicsLayerNodeFromMenu.item,"layer");if(_397){_389.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REMOVE,_397);}}},handleGraphicsLayerMenuOpen:function(e){this.currentGraphicsLayerNodeFromMenu=_38e.getEnclosingWidget(e.target);if(this.currentGraphicsLayerNodeFromMenu&&this.currentGraphicsLayerNodeFromMenu.item){var _398=this.getTreeStore().getValue(this.currentGraphicsLayerNodeFromMenu.item,"layer");if(_398){if(_398.removable!=null&&_398.removable===true){this.removeGraphicLayerMenuItem.attr("disabled",false);}else{this.removeGraphicLayerMenuItem.attr("disabled",true);}}}},handleLayerMenuOpen:function(e){if(this.queryLayerMenuItem){this.currentLayerNodeFromMenu=_38e.getEnclosingWidget(e.target);if(this.currentLayerNodeFromMenu&&this.currentLayerNodeFromMenu.item){var _399=this.getTreeStore().getValue(this.currentLayerNodeFromMenu.item,"layer");if(_399){this.queryLayerMenuItem.attr("disabled",_399.capabilities.indexOf("Query")<0);}}}},handleServerMenuOpen:function(e){this.currentServerNodeFromMenu=_38e.getEnclosingWidget(e.target);if(this.currentServerNodeFromMenu&&this.currentServerNodeFromMenu.item){var _39a=this.getTreeStore().getValue(this.currentServerNodeFromMenu.item,"layer");if(_39a){if(_39a.canRemove!=null&&_39a.canRemove===true){this.removeServiceMenuItem.attr("disabled",false);}else{this.removeServiceMenuItem.attr("disabled",true);}if(this.queryServiceMenuItem){var _39b=false;if(_39a instanceof _391){_39b=false;}else{_39b=_39a instanceof _38f||(_39a.capabilities&&_39a.capabilities.indexOf("Query")>-1);}this.queryServiceMenuItem.attr("disabled",!_39b);}}}},handleZoomToExtent:function(){if(this.currentServerNodeFromMenu&&this.currentServerNodeFromMenu.item){var _39c=this.getTreeStore().getValue(this.currentServerNodeFromMenu.item,"layer");if(_39c&&_39c.initialExtent&&!isNaN(_39c.initialExtent.xmin)&&!isNaN(_39c.initialExtent.xmax)&&!isNaN(_39c.initialExtent.xmax)&&!isNaN(_39c.initialExtent.ymax)){_389.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.SET_EXTENT,_39c.initialExtent);}}this.currentServerNodeFromMenu=null;},handleRemoveLayer:function(){if(this.currentServerNodeFromMenu&&this.currentServerNodeFromMenu.item){var _39d=this.getTreeStore().getValue(this.currentServerNodeFromMenu.item,"layer");if(_39d){if(_39d.canRemove!=null&&_39d.canRemove===true){_389.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REMOVE,_39d);}}}this.currentServerNodeFromMenu=null;},handleOpenMapServerDescriptionMenuRequest:function(){if(this.currentServerNodeFromMenu&&this.currentServerNodeFromMenu.item){var _39e=this.getTreeStore().getValue(this.currentServerNodeFromMenu.item,"layer");if(_39e&&_39e.url){this.openUrlInWindow(_39e.url);}}this.currentMapServerNodeFromMenu=null;},handleQueryBuilderServiceClick:function(){if(this.currentServerNodeFromMenu&&this.currentServerNodeFromMenu.item){var _39f=this.getTreeStore().getValue(this.currentServerNodeFromMenu.item,"layer");if(_39f){if(_39f instanceof _38f){_389.publish(VIEWER_GLOBALS.EVENTS.QUERY_BUILDER.SET_IMAGE_SERVICE_LAYER,_39f);}else{if(_39f instanceof _390){_389.publish(VIEWER_GLOBALS.EVENTS.QUERY_BUILDER.SET_FEATURE_SERVICE_LAYER,_39f);}}}}this.currentMapServerNodeFromMenu=null;},handleQueryBuilderLayerClick:function(){if(this.currentLayerNodeFromMenu&&this.currentLayerNodeFromMenu.item){var _3a0=this.getTreeStore().getValue(this.currentLayerNodeFromMenu.item,"layer");var _3a1=this.getTreeStore().getValue(this.currentLayerNodeFromMenu.item,"info");_389.publish(VIEWER_GLOBALS.EVENTS.QUERY_BUILDER.SET_MAP_SERVICE_LAYER,_3a0,_3a1);}this.currentMapServerNodeFromMenu=null;},openUrlInWindow:function(url){if(url){window.open(url);}},getTreeStore:function(){return this.tree.model.store;}});});},"url:dijit/form/templates/HorizontalSlider.html":"<table class=\"dijit dijitReset dijitSlider dijitSliderH\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" rules=\"none\" data-dojo-attach-event=\"onkeypress:_onKeyPress,onkeyup:_onKeyUp\"\n\trole=\"presentation\"\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td data-dojo-attach-point=\"topDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderDecrementIconH\" style=\"display:none\" data-dojo-attach-point=\"decrementButton\"><span class=\"dijitSliderButtonInner\">-</span></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper\" data-dojo-attach-event=\"press:_onClkDecBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><input data-dojo-attach-point=\"valueNode\" type=\"hidden\" ${!nameAttrSetting}\n\t\t\t/><div class=\"dijitReset dijitSliderBarContainerH\" role=\"presentation\" data-dojo-attach-point=\"sliderBarContainer\"\n\t\t\t\t><div role=\"presentation\" data-dojo-attach-point=\"progressBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH\" data-dojo-attach-event=\"press:_onBarClick\"\n\t\t\t\t\t><div class=\"dijitSliderMoveable dijitSliderMoveableH\"\n\t\t\t\t\t\t><div data-dojo-attach-point=\"sliderHandle,focusNode\" class=\"dijitSliderImageHandle dijitSliderImageHandleH\" data-dojo-attach-event=\"press:_onHandleClick\" role=\"slider\"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t\t><div role=\"presentation\" data-dojo-attach-point=\"remainingBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH\" data-dojo-attach-event=\"press:_onBarClick\"></div\n\t\t\t></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper\" data-dojo-attach-event=\"press:_onClkIncBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderIncrementIconH\" style=\"display:none\" data-dojo-attach-point=\"incrementButton\"><span class=\"dijitSliderButtonInner\">+</span></div\n\t\t></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td data-dojo-attach-point=\"containerNode,bottomDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n></table>\n","esriviewer/ui/draw/base/MapDrawSupport":function(){define("esriviewer/ui/draw/base/MapDrawSupport",["dojo/_base/declare","dojo/topic","dojo/_base/Color","dojo/_base/lang","dojo/dom-construct","dijit/form/TextBox","dijit/TooltipDialog","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon","esri/geometry/Extent","esri/geometry/screenUtils","esri/graphic","esri/symbols/TextSymbol","esri/symbols/Font"],function(_3a2,_3a3,_3a4,lang,_3a5,_3a6,_3a7,_3a8,_3a9,_3aa,_3ab,_3ac,_3ad,_3ae,Font){return _3a2([],{constructor:function(){this.polygonOptions={};this.pointOptions={};this.envelopeOptions={};this.lineOptions={};this.geometryAddedCallback=lang.hitch(this,this.geometryAdded);},clearDraw:function(){this.currentDrawType=null;},setDraw:function(type){if(type==VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POINT){this.activatePointDraw();}else{if(type==VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYLINE){this.activatePolylineDraw(this.freehandActive);}else{if(type==VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_LINE){this.activateLineDraw();}else{if(type==VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYGON){this.activatePolygonDraw(this.freehandActive);}else{if(type==VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_RECTANGLE){this.activateRectangleDraw();}else{if(type==VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_TEXT){this.activatePointDraw();}}}}}}this.currentDrawType=type;},activatePointDraw:function(){this.cancelDrawChangeListener();_3a3.publish(VIEWER_GLOBALS.EVENTS.DRAW.USER.POINT_INPUT,this.geometryAddedCallback,this.pointOptions);this.setupClearDrawCallback();},activateLineDraw:function(){this.cancelDrawChangeListener();_3a3.publish(VIEWER_GLOBALS.EVENTS.DRAW.USER.LINE_INPUT,this.geometryAddedCallback,this.lineOptions);this.setupClearDrawCallback();},activatePolylineDraw:function(_3af){this.cancelDrawChangeListener();if(_3af==null||_3af===false){_3a3.publish(VIEWER_GLOBALS.EVENTS.DRAW.USER.POLYLINE_INPUT,this.geometryAddedCallback,this.lineOptions);}else{_3a3.publish(VIEWER_GLOBALS.EVENTS.DRAW.USER.FREEHAND_POLYLINE_INPUT,this.geometryAddedCallback,this.lineOptions);}this.setupClearDrawCallback();},activatePolygonDraw:function(_3b0){this.cancelDrawChangeListener();if(_3b0==null||_3b0===false){_3a3.publish(VIEWER_GLOBALS.EVENTS.DRAW.USER.POLYGON_INPUT,this.geometryAddedCallback,this.polygonOptions);}else{_3a3.publish(VIEWER_GLOBALS.EVENTS.DRAW.USER.FREEHAND_POLYGON_INPUT,this.geometryAddedCallback,this.polygonOptions);}this.setupClearDrawCallback();},activateRectangleDraw:function(){this.cancelDrawChangeListener();_3a3.publish(VIEWER_GLOBALS.EVENTS.DRAW.USER.RECTANGLE_INPUT,this.geometryAddedCallback,this.envelopeOptions);this.setupClearDrawCallback();},cancelDrawChangeListener:function(){if(this.toolChangeConnect){this.toolChangeConnect.remove();this.toolChangeConnect=null;}},geometryAdded:function(_3b1){if(_3b1==null){return;}var _3b2=null;var type=null;if(_3b1 instanceof _3a8){type=VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POINT;if(this.currentDrawType==VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_TEXT){type=VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_TEXT;_3b2=this.cloneTextSymbol(this.textSymbol);_3b2.setText("");var _3b3;var _3b4;_3a3.publish(VIEWER_GLOBALS.EVENTS.MAP.DIMENSIONS.GET,function(_3b5){_3b3=_3b5;});_3a3.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_EXTENT,function(_3b6){_3b4=_3b6;});var _3b7=_3ac.toScreenPoint(_3b4,_3b3.width,_3b3.height,_3b1);this.showTextSymbolTooltip(_3b7);}else{type=VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POINT;_3b2=this.pointSymbol;}}else{if(_3b1 instanceof _3a9){_3b2=this.lineSymbol;type=VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYLINE;}else{if(_3b1 instanceof _3aa){_3b2=this.polygonSymbol;type=VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYGON;}else{if(_3b1 instanceof _3ab){_3b2=this.envelopeSymbol;type=VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_RECTANGLE;}}}}if(_3b2!=null&&type!=null){if(type===VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_TEXT){this.currentTextGraphic=new _3ad(_3b1,_3b2);}else{var _3b8=new _3ad(_3b1,_3b2);var uuid=VIEWER_UTILS.generateUUID();this.onAnnotationCreated({id:uuid,type:type,graphic:_3b8});}}},onClearDraw:function(){},onAnnotationCreated:function(_3b9){},setupClearDrawCallback:function(){this.toolChangeConnect=_3a3.subscribe(VIEWER_GLOBALS.EVENTS.MAP.ACTIONS.TOOL_CHANGED,lang.hitch(this,this.handleClearDraw));},handleClearDraw:function(){this.cancelDrawChangeListener();this.clearDraw();this.onClearDraw();},createTextSymbolLabelTooltip:function(){var _3ba=_3a5.create("div");var _3bb=_3a5.create("span",{innerHTML:"Label: ",className:"textSymbolInputLabel"});this.textSymbolLabelInput=new _3a6({value:"Label"});this.textSymbolLabelInput.on("keyUp",lang.hitch(this,this.handleTextSymbolKeyUp));_3a5.place(_3bb,_3ba);_3a5.place(this.textSymbolLabelInput.domNode,_3ba);this.textSymbolLabelTooltip=new _3a7({content:_3ba});},handleTextSymbolKeyUp:function(e){if(VIEWER_UTILS.isEnterKey(e)){this.finalizeTextSymbol();this.hideTextSymbolTooltip();}},finalizeTextSymbol:function(){if(this.currentTextGraphic==null||this.currentTextGraphic.symbol==null){return;}var _3bc=this.textSymbolLabelInput.get("value");if(_3bc==""){_3bc="Label";}this.currentTextGraphic.symbol.setText(_3bc);var uuid=VIEWER_UTILS.generateUUID();this.onAnnotationCreated({id:uuid,type:VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_TEXT,graphic:this.currentTextGraphic});this.currentTextSymbol=null;},showTextSymbolTooltip:function(_3bd){if(this.textSymbolLabelTooltip==null){this.createTextSymbolLabelTooltip();}if(this.textSymbolLabelTooltip){dijit.popup.open({popup:this.textSymbolLabelTooltip,x:_3bd.x,y:_3bd.y});this.textSymbolLabelInput.set("value","");this.textSymbolLabelInput.focus();}},hideTextSymbolTooltip:function(){if(this.textSymbolLabelTooltip){dijit.popup.close(this.textSymbolLabelTooltip);}},cloneTextSymbol:function(){var _3be=new _3ae("");_3be.setColor(new _3a4(this.textSymbol.color));_3be.setAlign(this.textSymbol.align);_3be.setAngle(this.textSymbol.angle);_3be.setFont(new Font(this.textSymbol.font.size));_3be.font.setWeight(this.textSymbol.font.weight);_3be.font.setStyle(this.textSymbol.font.style);return _3be;}});});},"esriviewer/map/base/MapTimeTools":function(){define("esriviewer/map/base/MapTimeTools",["dojo/_base/declare","dojo/topic","dojo/_base/lang"],function(_3bf,_3c0,lang){return _3bf([],{constructor:function(_3c1){lang.mixin(this,_3c1);this.initListeners();},initListeners:function(){_3c0.subscribe(VIEWER_GLOBALS.EVENTS.MAP.TIME.CLEAR_TIME_EXTENT,lang.hitch(this,this.handleClearTimeExtent));_3c0.subscribe(VIEWER_GLOBALS.EVENTS.MAP.TIME.SET_MAP_TIME_SLIDER,lang.hitch(this,this.handleSetMapTimeSlider));},handleSetMapTimeSlider:function(_3c2){this.map.setTimeSlider(_3c2);_3c0.publish(VIEWER_GLOBALS.EVENTS.MAP.TIME.MAP_TIME_EXTENT_SET);},handleClearTimeExtent:function(){this.map.setTimeSlider(null);this.map.setTimeExtent(null);_3c0.publish(VIEWER_GLOBALS.EVENTS.MAP.TIME.MAP_TIME_EXTENT_CLEARED);}});});},"dojox/storage/LocalStorageProvider":function(){define("dojox/storage/LocalStorageProvider",["dijit","dojo","dojox","dojo/require!dojox/storage/Provider,dojox/storage/manager"],function(_3c3,dojo,_3c4){dojo.provide("dojox.storage.LocalStorageProvider");dojo.require("dojox.storage.Provider");dojo.require("dojox.storage.manager");dojo.declare("dojox.storage.LocalStorageProvider",[_3c4.storage.Provider],{store:null,initialize:function(){this.store=localStorage;this.initialized=true;_3c4.storage.manager.loaded();},isAvailable:function(){return typeof localStorage!="undefined";},put:function(key,_3c5,_3c6,_3c7){this._assertIsValidKey(key);_3c7=_3c7||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_3c7);var _3c8=this.getFullKey(key,_3c7);_3c5=dojo.toJson(_3c5);try{this.store.setItem(_3c8,_3c5);if(_3c6){_3c6(this.SUCCESS,key,null,_3c7);}}catch(e){if(_3c6){_3c6(this.FAILED,key,e.toString(),_3c7);}}},get:function(key,_3c9){this._assertIsValidKey(key);_3c9=_3c9||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_3c9);key=this.getFullKey(key,_3c9);return dojo.fromJson(this.store.getItem(key));},getKeys:function(_3ca){_3ca=_3ca||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_3ca);_3ca="__"+_3ca+"_";var keys=[];for(var i=0;i<this.store.length;i++){var _3cb=this.store.key(i);if(this._beginsWith(_3cb,_3ca)){_3cb=_3cb.substring(_3ca.length);keys.push(_3cb);}}return keys;},clear:function(_3cc){_3cc=_3cc||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_3cc);_3cc="__"+_3cc+"_";var keys=[];for(var i=0;i<this.store.length;i++){if(this._beginsWith(this.store.key(i),_3cc)){keys.push(this.store.key(i));}}dojo.forEach(keys,dojo.hitch(this.store,"removeItem"));},remove:function(key,_3cd){_3cd=_3cd||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_3cd);this.store.removeItem(this.getFullKey(key,_3cd));},getNamespaces:function(){var _3ce=[this.DEFAULT_NAMESPACE];var _3cf={};_3cf[this.DEFAULT_NAMESPACE]=true;var _3d0=/^__([^_]*)_/;for(var i=0;i<this.store.length;i++){var _3d1=this.store.key(i);if(_3d0.test(_3d1)==true){var _3d2=_3d1.match(_3d0)[1];if(typeof _3cf[_3d2]=="undefined"){_3cf[_3d2]=true;_3ce.push(_3d2);}}}return _3ce;},isPermanent:function(){return true;},getMaximumSize:function(){return _3c4.storage.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},isValidKey:function(_3d3){if(_3d3===null||_3d3===undefined){return false;}return /^[0-9A-Za-z_-]*$/.test(_3d3);},isValidNamespace:function(_3d4){if(_3d4===null||_3d4===undefined){return false;}return /^[0-9A-Za-z-]*$/.test(_3d4);},getFullKey:function(key,_3d5){return "__"+_3d5+"_"+key;},_beginsWith:function(_3d6,_3d7){if(_3d7.length>_3d6.length){return false;}return _3d6.substring(0,_3d7.length)===_3d7;},_assertIsValidNamespace:function(_3d8){if(this.isValidNamespace(_3d8)===false){throw new Error("Invalid namespace given: "+_3d8);}},_assertIsValidKey:function(key){if(this.isValidKey(key)===false){throw new Error("Invalid key given: "+key);}}});_3c4.storage.manager.register("dojox.storage.LocalStorageProvider",new _3c4.storage.LocalStorageProvider());});},"dojox/storage/GearsStorageProvider":function(){define("dojox/storage/GearsStorageProvider",["dijit","dojo","dojox","dojo/require!dojo/gears,dojox/storage/Provider,dojox/storage/manager,dojox/sql"],function(_3d9,dojo,_3da){dojo.provide("dojox.storage.GearsStorageProvider");dojo.require("dojo.gears");dojo.require("dojox.storage.Provider");dojo.require("dojox.storage.manager");dojo.require("dojox.sql");if(dojo.gears.available){(function(){dojo.declare("dojox.storage.GearsStorageProvider",_3da.storage.Provider,{constructor:function(){},TABLE_NAME:"__DOJO_STORAGE",initialized:false,_available:null,_storageReady:false,initialize:function(){if(dojo.config["disableGearsStorage"]==true){return;}this.TABLE_NAME="__DOJO_STORAGE";this.initialized=true;_3da.storage.manager.loaded();},isAvailable:function(){return this._available=dojo.gears.available;},put:function(key,_3db,_3dc,_3dd){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_3dd=_3dd||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_3dd)){throw new Error("Invalid namespace given: "+key);}if(dojo.isString(_3db)){_3db="string:"+_3db;}else{_3db=dojo.toJson(_3db);}try{_3da.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND key = ?",_3dd,key);_3da.sql("INSERT INTO "+this.TABLE_NAME+" VALUES (?, ?, ?)",_3dd,key,_3db);}catch(e){_3dc(this.FAILED,key,e.toString(),_3dd);return;}if(_3dc){_3dc(_3da.storage.SUCCESS,key,null,_3dd);}},get:function(key,_3de){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_3de=_3de||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_3de)){throw new Error("Invalid namespace given: "+key);}var _3df=_3da.sql("SELECT * FROM "+this.TABLE_NAME+" WHERE namespace = ? AND "+" key = ?",_3de,key);if(!_3df.length){return null;}else{_3df=_3df[0].value;}if(dojo.isString(_3df)&&(/^string:/.test(_3df))){_3df=_3df.substring("string:".length);}else{_3df=dojo.fromJson(_3df);}return _3df;},getNamespaces:function(){this._initStorage();var _3e0=[_3da.storage.DEFAULT_NAMESPACE];var rs=_3da.sql("SELECT namespace FROM "+this.TABLE_NAME+" DESC GROUP BY namespace");for(var i=0;i<rs.length;i++){if(rs[i].namespace!=_3da.storage.DEFAULT_NAMESPACE){_3e0.push(rs[i].namespace);}}return _3e0;},getKeys:function(_3e1){this._initStorage();_3e1=_3e1||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_3e1)){throw new Error("Invalid namespace given: "+_3e1);}var rs=_3da.sql("SELECT key FROM "+this.TABLE_NAME+" WHERE namespace = ?",_3e1);var _3e2=[];for(var i=0;i<rs.length;i++){_3e2.push(rs[i].key);}return _3e2;},clear:function(_3e3){this._initStorage();_3e3=_3e3||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_3e3)){throw new Error("Invalid namespace given: "+_3e3);}_3da.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ?",_3e3);},remove:function(key,_3e4){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_3e4=_3e4||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_3e4)){throw new Error("Invalid namespace given: "+key);}_3da.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND"+" key = ?",_3e4,key);},putMultiple:function(keys,_3e5,_3e6,_3e7){this._initStorage();if(!this.isValidKeyArray(keys)||!_3e5 instanceof Array||keys.length!=_3e5.length){throw new Error("Invalid arguments: keys = ["+keys+"], values = ["+_3e5+"]");}if(_3e7==null||typeof _3e7=="undefined"){_3e7=_3da.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_3e7)){throw new Error("Invalid namespace given: "+_3e7);}this._statusHandler=_3e6;try{_3da.sql.open();_3da.sql.db.execute("BEGIN TRANSACTION");var _3e8="REPLACE INTO "+this.TABLE_NAME+" VALUES (?, ?, ?)";for(var i=0;i<keys.length;i++){var _3e9=_3e5[i];if(dojo.isString(_3e9)){_3e9="string:"+_3e9;}else{_3e9=dojo.toJson(_3e9);}_3da.sql.db.execute(_3e8,[_3e7,keys[i],_3e9]);}_3da.sql.db.execute("COMMIT TRANSACTION");_3da.sql.close();}catch(e){if(_3e6){_3e6(this.FAILED,keys,e.toString(),_3e7);}return;}if(_3e6){_3e6(_3da.storage.SUCCESS,keys,null,_3e7);}},getMultiple:function(keys,_3ea){this._initStorage();if(!this.isValidKeyArray(keys)){throw new ("Invalid key array given: "+keys);}if(_3ea==null||typeof _3ea=="undefined"){_3ea=_3da.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_3ea)){throw new Error("Invalid namespace given: "+_3ea);}var _3eb="SELECT * FROM "+this.TABLE_NAME+" WHERE namespace = ? AND "+" key = ?";var _3ec=[];for(var i=0;i<keys.length;i++){var _3ed=_3da.sql(_3eb,_3ea,keys[i]);if(!_3ed.length){_3ec[i]=null;}else{_3ed=_3ed[0].value;if(dojo.isString(_3ed)&&(/^string:/.test(_3ed))){_3ec[i]=_3ed.substring("string:".length);}else{_3ec[i]=dojo.fromJson(_3ed);}}}return _3ec;},removeMultiple:function(keys,_3ee){this._initStorage();if(!this.isValidKeyArray(keys)){throw new Error("Invalid arguments: keys = ["+keys+"]");}if(_3ee==null||typeof _3ee=="undefined"){_3ee=_3da.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_3ee)){throw new Error("Invalid namespace given: "+_3ee);}_3da.sql.open();_3da.sql.db.execute("BEGIN TRANSACTION");var _3ef="DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND key = ?";for(var i=0;i<keys.length;i++){_3da.sql.db.execute(_3ef,[_3ee,keys[i]]);}_3da.sql.db.execute("COMMIT TRANSACTION");_3da.sql.close();},isPermanent:function(){return true;},getMaximumSize:function(){return this.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},showSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},hideSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},_initStorage:function(){if(this._storageReady){return;}if(!google.gears.factory.hasPermission){var _3f0=null;var icon=null;var msg="This site would like to use Google Gears to enable "+"enhanced functionality.";var _3f1=google.gears.factory.getPermission(_3f0,icon,msg);if(!_3f1){throw new Error("You must give permission to use Gears in order to "+"store data");}}try{_3da.sql("CREATE TABLE IF NOT EXISTS "+this.TABLE_NAME+"( "+" namespace TEXT, "+" key TEXT, "+" value TEXT "+")");_3da.sql("CREATE UNIQUE INDEX IF NOT EXISTS namespace_key_index"+" ON "+this.TABLE_NAME+" (namespace, key)");}catch(e){throw new Error("Unable to create storage tables for Gears in "+"Dojo Storage");}this._storageReady=true;}});_3da.storage.manager.register("dojox.storage.GearsStorageProvider",new _3da.storage.GearsStorageProvider());})();}});},"esriviewer/base/LocationSupport":function(){define("esriviewer/base/LocationSupport",["dojo/_base/declare","dojo/_base/lang","dojo/topic"],function(_3f2,lang,_3f3){return _3f2([],{handleLocate:function(_3f4,_3f5){this.currentLocateRequestId=VIEWER_UTILS.generateUUID();this.requestCompleteHandle=_3f3.subscribe(VIEWER_GLOBALS.EVENTS.LOCATOR.LOCATOR_REQUEST_COMPLETE,lang.hitch(this,this._handleLocateRequestComplete));this.requreErrorHandle=_3f3.subscribe(VIEWER_GLOBALS.EVENTS.LOCATOR.LOCATOR_REQUEST_ERROR,lang.hitch(this,this._handleLocateRequestError));VIEWER_UTILS.log("Locating: "+_3f4,VIEWER_GLOBALS.LOG_TYPE.INFO);_3f3.publish(VIEWER_GLOBALS.EVENTS.LOCATOR.SINGLE_LINE_ADDRESS_TO_LOCATION,_3f4,this.currentLocateRequestId,_3f5);},_handleLocateRequestComplete:function(_3f6){if(_3f6.requestId==this.currentLocateRequestId){this.handleLocationResponse(_3f6.addressCandidates);this.requestCompleteHandle.remove();this.requreErrorHandle.remove();}},_handleLocateRequestError:function(_3f7){VIEWER_UTILS.log("Locator Failed",VIEWER_GLOBALS.LOG_TYPE.ERROR);this.requestCompleteHandle.remove();this.requreErrorHandle.remove();},handleLocationResponse:function(_3f8){}});});},"esriviewer/ui/draw/base/model/UserPersistedGraphicsListViewModel":function(){define("esriviewer/ui/draw/base/model/UserPersistedGraphicsListViewModel",["dojo/_base/declare","dojo/topic","dojo/Evented"],function(_3f9,_3fa,_3fb){return _3f9([_3fb],{REMOVE_USER_PERSISTED_GRAPHICS:"removeUserPersistedGraphic",ADD_USER_PERSISTED_GRAPHICS_TO_MAP:"addUserPersistedGraphicsToMap",constructor:function(){var self=this;this.addedUserPersistedGraphics=ko.observableArray();this.removeUserPersistedGraphic=function(_3fc){if(_3fc==null){return;}self.emit(self.REMOVE_USER_PERSISTED_GRAPHICS,_3fc);self.addedUserPersistedGraphics.remove(_3fc);};this.addSavedGraphics=function(_3fd){if(_3fd==null){return;}self.emit(self.ADD_USER_PERSISTED_GRAPHICS_TO_MAP,_3fd);};},sort:function(){this.addedUserPersistedGraphics.sort(function(left,_3fe){var _3ff=left.label.toLowerCase();var _400=_3fe.label.toLowerCase();return _3ff==_400?0:(_3ff<_400?-1:1);});}});});},"esriviewer/base/ViewerGlobals":function(){define("esriviewer/base/ViewerGlobals",["dojo/_base/declare"],function(_401){return _401([],{EVENTS:{CSS:{CORE_UI_THEME_LOADED:"css:coreUILoaded"},MAP:{GET_MAP_DIV:"map:getMapDiv",GET:"map:get",INFO_WINDOW:{HIDE:"mapInfoWin:hide"},LEGEND:{CREATE:"legend:create"},RESIZE:"map:resize",LOADED:"map:loaded",ACTIONS:{TOOL_CHANGED:"MapMan:tlChngd"},FLASH:{POINT:"mapFlash:point"},LAYERS:{TRANSPARENCY:{WINDOW:{SHOW:"layerTransWindow:show",HIDE:"layerTransWindow:hide",TOGGLE:"layerTransWindow:toggle"},SET:"layerTrans:setTransparency"},WIDGET:{SHOW:"layersWidget:show"},OPERATIONAL:{GET:"operationalLayers:get"},ADD_GRAPHICS_LAYER:"layers:addGraphicsLayer",ADD_FROM_URL:"layers:addFromUrl",ADD:"layers:add",REMOVE:"layers:remove",REMOVED:"layers:removed",ADDED:"layers:added",ADD_REFERENCE_LAYER:"reference:addLayer",REMOVE_REFERENCE_LAYER:"reference:removeLayer",REFERENCE_LAYER_ADDED:"reference:added",REFERENCE_LAYER_REMOVED:"reference:removed",ADD_EXTERNAL_MANAGED_LAYER:"layers:addExternalManagedLayer",REMOVE_EXTERNAL_MANAGED_LAYER:"layers:removeExternalManagedLayer",GET_FEATURE_LAYER_IF_EXISTS:"layers:getFeatureLayerIfExists",MOVE_LAYER_TO_TOP:"layers:moveLayerToTop",QUERY_LAYER:"layers:queryLayer",MAKE_VISIBLE:"layers:makeLayerVisible",MAKE_INVISIBLE:"layers:makeLayerInvisible"},TOOLS:{DRAW_POINT:"tldr:dPt",DRAW_POLYGON:"tldr:dPoly",DRAW_RECTANGLE:"tldr:dRect",DRAW_FREEHAND_POLYGON:"tldr:dFPoly",DRAW_FREEHAND_LINE:"tldr:dFln",DRAW_LINE:"tldr:dLn",DRAW_POLYLINE:"tldr:dPLn",DRAW_TEXT:"tldr:dTx"},GRAPHICS:{ADD:"mapGraphics:add",REMOVE:"mapGraphics:remove",CENTER_AND_FLASH:"mapGraphics:centerAndFlash"},BASEMAP:{SET:"map:setBasemap",GET_CURRENT:"map:getCurrentBasemap",GET_CURRENT_URL:"map:getCurrentBasemapUrl",ADD:"map:addBasemap",ADDED:"map:basemapAdded",REMOVE:"map:removeBasemap",REMOVED:"map:basemapRemoved",GALLERY:{TOGGLE:"map:basemapGalleryToggle",HIDE:"map:basemapGalleryHide",SHOW:"map:basemapGalleryShow",IS_HIDDEN:"map:basemapGalleryIsHidden",GET:"map:basemapGalleryGet"},CHANGED:"map:basemapChanged"},EXTENT:{GET_EXTENT:"extent:getExtent",GET_CENTER:"extent:getCenter",GET_LEVEL:"extent:getLevel",SET_LEVEL:"extent:setLevel",PAN_TO:"extent:panTo",SET_EXTENT:"extent:setExtent",CHANGED:"extent:changed",GO_PREV_EXTENT:"extent:prevExtent",GO_NEXT_EXTENT:"extent:nextExtent",GO_INITIAL_EXTENT:"extent:initialExtent",GO_LAST_EXTENT:"extent:lastExtent",PREV_EXTENT_EXISTS:"extent:prevExtentExists",NEXT_EXTENT_EXISTS:"extent:nextExtentExists"},LEVEL:{CHANGED:"zoomLevel:changed",GET_LEVEL_COUNT:"zoomLevel:getCount",LEVEL_COUNT_CHANGED:"zoomLevel:lvlCountChanged"},LABEL_SERVICES:{SHOW:"lblServices:show",HIDE:"lblServices:hide",SERVICE_EXISTS:"lblServices:exist"},DIMENSIONS:{GET:"dimensions:get"},TIME:{TIME_LAYER_FOUND:"time:timeLayerFound",GET_TIME_ENABLED_SERVICES:"time:getTimeEnabledServices",SHOW_TIME_SLIDER:"time:showTimeSlider",TOGGLE_TIME_SLIDER:"time:toggleTimeSlider",MAP_TIME_EXTENT_CLEARED:"map:timeExtentCleared",CLEAR_TIME_EXTENT:"time:clearTimeExtent",SET_MAP_TIME_SLIDER:"time:setMapTimeSlider",MAP_TIME_EXTENT_SET:"time:mapTimeExtentSet",MAP_TIME_CHANGED:"time:mapTimeChanged"}},PORTAL:{INITIALIZED:"portal:initialized",USER_LOGGED_OUT:"portal:userLoggedOut",USER_LOGGED_IN:"portal:userLoggedIn",IS_USER_LOGGED_IN:"portal:isUserLoggedIn",LOG_IN:"portal:logIn",LOG_OUT:"portal:logOut",SEARCH_WEBMAPS:"portal:searchWebmaps",SEARCH_FEATURE_SERVICES:"portal:searchFeatureServices",SEARCH_MAP_SERVICES:"portal:searchMapServices",SEARCH_IMAGE_SERVICES:"portal:searchImageServices",SEARCH_FEATURE_SERVICE_LAYERS:"portal:searchFeatureServiceLayers",SEARCH_GEOCODE_SERVICES:"portal:searchGeocodeServices",GET_INSTANCE:"portal:getInstance",GET_BASEMAPS:"portal:getBasemaps"},TOOLS:{ACCORDION:{TOGGLE:"accordion:toggle",SHOW:"accordion:show",HIDE:"accordion:hide",ADD_ITEM:"accordion:addItem",LOAD_DEFAULT_TOOLS:"accordion:loadDefaultTools",HIDE_COMPLETE:"accordion:hideComplete"},MENU:{ADD_TOOL:"toolMenu:addTool",HIDE_TOOLS_BUTTON:"toolMenu:hideToolsButton",SHOW_TOOLS_BUTTON:"toolMenu:showToolsButton",HIDE_LAYERS_BUTTON:"toolMenu:hideLayersButton",SHOW_LAYERS_BUTTON:"toolMenu:showLayersButton"}},QUERY_BUILDER:{SET_IMAGE_SERVICE_LAYER:"queryBuilder:setImgSrvLyr",SET_MAP_SERVICE_LAYER:"queryBuilder:setMapServiceLayer",SET_FEATURE_SERVICE_LAYER:"queryBuilder:setFeatureServiceLayer"},WINDOW:{REPOSITION_ALL:"window:repositionAll",SOCIAL_MEDIA:{SHOW:"socialMedia:show",HIDE:"socialMedia:hide",TOGGLE:"socialMedia:toggle"},POINT_UPLOAD:{SHOW:"ptUploadWindow:show",HIDE:"ptUploadWindow:hide",TOGGLE:"ptUploadWindow:toggle"},WEATHER:{SHOW:"weatherWindow:show",HIDE:"weatherWindow:hide",TOGGLE:"weatherWindow:toggle"},DRAW:{SHOW:"drawWindow:show",HIDE:"drawWindow:hide",TOGGLE:"drawWindow:toggle"},LEGEND:{SHOW:"legendWindow:show",HIDE:"legendWindow:hide"},QUERY_BUILDER:{SHOW:"queryBuilder:show",HIDE:"queryBuilder:hide",TOGGLE:"queryBuilder:toggle"},FEATURE_EDITOR:{SHOW:"featureEditor:show",HIDE:"featureEditor:hide",TOGGLE:"featureEditor:toggle"},MEASURE:{SHOW:"measureWindow:show",HIDE:"measureWindow:hide",TOGGLE:"measureWindow:toggle"},IDENTIFY:{SHOW:"identifyWindow:show",HIDE:"identifyWindow:hide",TOGGLE:"identifyWindow:toggle"},REVERSE_GEOCODE:{SHOW:"reverseGeocodeWindow:show",HIDE:"reverseGeocodeWindow:hide",TOGGLE:"reverseGeocodeWindow:toggle"},PORTAL_PUBLISH:{SHOW:"portalPublish:show",HIDE:"portalPublish:hide",TOGGLE:"portalPublish:toggle"},PORTAL_SEARCH:{SHOW:"portalSearch:show",HIDE:"portalSearch:hide",TOGGLE:"portalSearch:toggle"},ZOOM_TO:{SHOW:"zoomTo:show",HIDE:"zoomTo:hide",TOGGLE:"zoomTo:toggle"},REFLECTIVITY:{SHOW:"reflect:show",HIDE:"reflect:hide",TOGGLE:"reflect:toggle"},PRINT:{SHOW:"print:show",HIDE:"print:hide",TOGGLE:"print:toggle"},PLOTTING:{SHOW:"plotting:show",HIDE:"plotting:hide",TOGGLE:"plotting:toggle"}},DRAW:{USER:{LINE_INPUT:"draw:usrLnIn",POINT_INPUT:"draw:usrPointIn",POLYGON_INPUT:"draw:usrPolyIn",POLYLINE_INPUT:"draw:usrPLnIn",RECTANGLE_INPUT:"draw:usrRectIn",DRAW_CANCEL:"draw:usrDrawCncl",FREEHAND_POLYLINE_INPUT:"draw:usrFrLnIn",FREEHAND_POLYGON_INPUT:"draw:usrFrPolyIn",GET_USER_GRAPHICS:"draw:usrGGraphics"},SYMBOLOGY:{SET_POLYGON:"drawSym:setPolygon",SET_POINT:"drawSym:setPoint",SET_LINE:"drawSym:setLine",SET_ENVELOPE:"drawSym:setEnvelope",SET_TEXT:"drawSym:setText"},DRAW_GRAPHICS_LAYER_CREATED:"draw:drawGraphicsLayerCreated"},NAVIGATION:{DISABLE:"nav:disable",DISABLE_TOOLBAR:"nav:disableToolbar",ENABLE_TOOLBAR:"nav:enableToolbar",PAN:"nav:pan",ZOOM_IN:"nav:zoomIn",ZOOM_OUT:"nav:zoomOut"},LOCATOR:{REVERSE_GEOCODE:"locator:reverseGeocode",SINGLE_LINE_ADDRESS_TO_LOCATION:"locator:addressToLocation",LOCATOR_REQUEST_COMPLETE:"locator:locatorRequestComplete",LOCATOR_REQUEST_ERROR:"locator:locatorRequestError",ADD_LOCATOR:"locator:addLocator",GET_LOCATORS:"locator:getLocators",LOCATOR_ADDED:"locator:locatorAdded",REMOVE_LOCATOR:"locator:remove",LOCATOR_REMOVED:"locator:removed"},BOOKMARK:{STORAGE:{GET:"bookmark:getBookmarks"},CREATE_WINDOW:{SHOW:"bookmark:show",HIDE:"bookmark:hide"},REMOVED:"bookmark:removed",CREATED:"bookmark:created"},CONFIGURE:{WINDOW:{SHOW:"configureWindow:show",HIDE:"configureWindow:hide"}},THROBBER:{SHOW:"throbber:show",HIDE:"throbber:hide",BLOCK_HIDE:"throbber:blockHide",RELEASE_HIDE_BLOCK:"throbber:unblockHide"},TOOLTIP:{CREATE_CONFIRM:"tooltip:createCOnfirm"},MESSAGING:{SHOW:"messaging:show",HIDE:"messaging:hide"},GEOMETRY_SERVICE:{EXISTS:"geometryService:exists",TASKS:{PROJECT_TO_MAP_SR:"geometry:project",CALCULATE_AREA:"geometry:calculateArea",CALCULATE_DISTANCE:"geometry:calculateDistance",PROJECT_TO_LAT_LON:"geometry:projectToLatLon"},BUFFER_POINT:"geometryService:bufferPoint",MGRS_TO_LAT_LON:"geometryService:mrgsToLatLon"},LOGGING:{ADD:"logging:add",CLEAR:"logging:clear",WINDOW:{SHOW:"logging:windowShow",HIDE:"logging:windowHide",TOGGLE:"logging:windowToggle"}},FOOTER:{TOGGLE:"footer:toggle",COLLAPSE:"footer:collapse",EXPAND:"footer:expand",COLLAPSED:"footer:collapsed",EXPANDED:"footer:expanded",IS_EXPANDED:"footer:isExpanded"},CONFIGURATION:{GET:"config:get",GET_ENTRY:"config:getEntry"},PLACEMENT:{GLOBAL:{PLACE:{NAVIGATION_TOOLBAR:"place:navTool",HEADER:"place:header",VIEWER_ACCORDION:"place:vAccor",MAIN_TOOLBAR:"place:mTbar",MAIN_TOOLBAR_DROP_DOWN:"place:mTbardd",FOOTER:"place:ftr",MESSAGING:"place:msging",THROBBER:"place:throbber",BASEMAP_GALLERY:"place:basemapGallery",MAP_SCALE_AND_COORDINATES:"place:mSACoords",CREATE_BOOOKMARK:"place:createBmrk",MENU_BAR:"place:menuBar",USER_LOCATION:"place:usrLoc"}}}},STORAGE:{LABELS:{BOOKMARKS:"bookmarks",USER_GRAPHICS:"userGraphics","BASEMAPS":"basemaps","LOCATORS":"locators","REFERENCE_LAYERS":"referenceLayers","LAYERS":"userLayers"}},SERVICE_TYPES:{GEOMETRY_SERVER:"GeometryServer",GLOBE_SERVER:"GlobeServer",GP_SERVER:"GPServer",GP_TASK:"GPTask",IMAGE_SERVER:"ImageServer",MAP_SERVER:"MapServer",WEB_MAP:"WebMap",PORTAL_SERVER:"PortalServer",GEOCODE_SERVER:"GeocodeServer",FEATURE_LAYER:"FeatureLayer",FEATURE_SERVER:"FeatureServer",KML:"KMLLayer",OPEN_STREET_MAP:"OpenStreetMap",WMS_LAYER:"WMSLayer"},LAYER_TYPES:{IMAGE_SERVER:{LABEL:"Image Service",VALUE:"ImageServer"},MAP_SERVER:{LABEL:"Map Service",VALUE:"MapServer"},FEATURE_LAYER:{LABEL:"Feature Layer",VALUE:"FeatureLayer"},KML:{LABEL:"KML Layer",VALUE:"KMLLayer"}},LOG_TYPE:{WARNING:"warning",ERROR:"error",INFO:"info"},ESRI_FIELD_TYPES:{DATE:"esriFieldTypeDate",DOUBLE:"esriFieldTypeDouble",STRING:"esriFieldTypeString",INTEGER:"esriFieldTypeInteger",SMALL_INTEGER:"esriFieldTypeSmallInteger",GEOMETRY:"esriFieldTypeGeometry",OBJECT_ID:"esriFieldTypeOID"},ESRI_GEOMETRY_TYPES:{POINT:"esriGeometryPoint",LINE:"esriGeometryPolyline",POLYGON:"esriGeometryPolygon",ENVELOPE:"esriGeometryEnvelope"},ESRI_LAYER_TYPES:{FEATURE_LAYER:"Feature Layer",RASTER:"Raster Layer"},ESRI_LAYER_DECLARED_CLASSES:{GRAPHICS_LAYER:"esri.layers.GraphicsLayer",FEATURE_LAYER:"esri.layers.FeatureLayer",TILED_MAP_SERVICE:"esri.layers.ArcGISTiledMapServiceLayer",DYNAMIC_MAP_SERVICE:"esri.layers.ArcGISDynamicMapServiceLayer",IMAGE_SERVICE:"esri.layers.ArcGISImageServiceLayer"},ESRI_UNITS:{ACRES:"esriAcres",METERS:"esriMeters",FEET:"esriFeet",YARDS:"esriYards",MILES:"esriMiles",NAUTICAL_MILES:"esriNauticalMiles",MILLIMETERS:"esriMillimeters",CENTIMETERS:"esriCentimeters",DECIMETERS:"esriDecimeters",KILOMETERS:"esriKilometers",SQUARE_MILES:"esriSquareMiles",SQUARE_METERS:"esriSquareMeters",SQUARE_KILOMETERS:"esriSquareKilometers",SQUARE_ARES:"esriAres",SQUARE_HECTARES:"esriHectares",SQUARE_CENTIMETERS:"esriSquareCentimeters",SQUARE_DECIMETERS:"esriSquareDecimeters",SQUARE_FEET:"esriSquareFeet",SQUARE_INCHES:"esriSquareInches",SQUARE_MILLIMETERS:"esriSquareMillimeters",SQUARE_YARDS:"esriSquareYards",SQUARE_UNKNOWN:"esriUnknownAreaUnits",DECIMAL_DEGREES:"esriDUDecimalDegrees",DEGREE_MINUTE_SECONDS:"esriDegreeMinuteSeconds"},AGS_PORTAL_TYPES:{GEOPROCESSING_SERVICE:"Geoprocessing Service",MAP_SERVICE:"Map Service",WEB_MAP:"Web Map",MAPPING_APPLICATION:"Web Mapping Application",FEATURE_SERVICE:"Feature Service",FEATURE_SERVICE_LAYER:"Feature Service Layer",GEOCODE_SERVICE:"Geocoding Service",DESKTOP_TEMPLATE:"Desktop Application Template",FEATURE_COLLECTION_TEMPLATE:"Feature Collection Template",FEATURED_ITEMS:"Featured Items",LAYER_PACKAGE:"Layer Package",IMAGE_SERVICE:"Image Service",GRAPHICS_LAYER:"Graphics Layer",UNKNOWN:"Unknown",OPEN_STREET_MAPS:"OpenStreetMap"},DEFAULT_PORTAL_ENDPOINTS:{SEARCH_URL_PART:"/sharing/search",VIEWER_URL_PART:"home/webmap/viewer.html",CONTENT_URL_PART:"sharing/content",ITEMS_URL_PART:"sharing/content/items",DEFAULT_MAX_RESULTS:15,USER_CONTENT_PREPEND:"sharing/content/users/",USER_GROUPS_PREPEND:"/sharing/community/users",USER_SHARE_APPEND:"/shareItems",ADD_ITEM_PART_APPEND:"/addItem",PRINT_SERVICE_APPEND:"sharing/tools/print",GENERATE_TOKEN_APPEND:"/sharing/generateToken",PORTAL_VALIDATOR_ENDPOINT:"sharing",DATA_APPEND:"data"},ESRI_RENDERER_TYPES:{SIMPLE:"simple",UNIQUE_VALUE:"uniqueValue",CLASS_BREAKS:"classBreaks"},WINDOW:{TOP_POSITION_MOVE_OFFSET:30},VIEWER_MODES:{SIDEBAR:"sidebar",WINDOW:"window",MOBILE:"mobile"},GP_PARAMETER_DIRECTION:{INPUT:"esriGPParameterDirectionInput",OUTPUT:"esriGPParameterDirectionOutput"},GP_MESSAGE_TYPES:{INFO:["esriJobMessageTypeInformative","esriGPMessageTypeInformative"],WARNING:["esriJobMessageTypeWarning","esriGPMessageTypeWarning"],ERROR:["esriJobMessageTypeAbort","esriGPMessageTypeError","esriJobMessageTypeError","esriGPMessageTypeAbort"]},ANIMATIONS:{LIGHT_SPEED:{OUT:"lightSpeedOut animated",IN:"lightSpeedIn animated",DURATION:300},BOUNCE:{IN:"bounceIn animated",IN_DOWN:"bounceInDown animated",IN_RIGHT:"bounceInRight animated",IN_LEFT:"bounceInLeft animated"},FADE:{IN:"fadeIn animated",OUT:"fadeOut animated",IN_DOWN:"fadeInDown animated"},ROTATE:{IN:"rotateIn animated",OUT:"rotateOut animated"}},DEFAULT_REVERSE_GEOCODE_DISTANCE:50,PORTAL_SHARING_REST_URL_PART:"/sharing/rest",REFLECTIVITY_HELP_URL:"http://mesonet.agron.iastate.edu/GIS/radview.phtml"});});},"url:esriviewer/ui/draw/configure/geometry/template/ConfigurePointTemplate.html":"<div class=\"configureDrawGeometryContainer\">\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Marker Style</span>\r\n        <select data-bind=\"options: markerStyles ,value:selectedMarkerStyle, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Marker Size</span>\r\n        <select data-bind=\"options: markerSizes ,value:selectedMarkerSize\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Outline Style</span>\r\n        <select data-bind=\"options: outlineStyles ,value:selectedOutlineStyle, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Outline Width</span>\r\n        <select data-bind=\"options: outlineWidths ,value:selectedOutlineWidth\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Angle</span>\r\n        <select data-bind=\"options: angles ,value:selectedAngle\"></select>\r\n    </div>\r\n    <div data-dojo-attach-point=\"transparencySliderContainer\"></div>\r\n    <div class=\"colorPickerTextContainer\">\r\n        <span class=\"colorPickerText\"\r\n              data-bind=\"click: setMarkerColorMode,css:{colorPickerTextSelected: markerColorActive}\"> Marker Color</span>\r\n        <span class=\"colorPickerText\"\r\n              data-bind=\"click: setOutlineColorMode,css:{colorPickerTextSelected: outlineColorActive}\"> Outline Color</span>\r\n\r\n    </div>\r\n\r\n    <div class=\"configureDrawColorPickerContainer\" data-dojo-attach-point=\"colorPickerContainer\"></div>\r\n</div>","dijit/form/_RadioButtonMixin":function(){define("dijit/form/_RadioButtonMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/lang","dojo/query","../registry"],function(_402,_403,_404,_405,lang,_406,_407){return _403("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_406("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_408){if(_408.name==this.name&&_408.form==this.focusNode.form){var _409=_407.getEnclosingWidget(_408);if(_409){ary.push(_409);}}}));return ary;},_setCheckedAttr:function(_40a){this.inherited(arguments);if(!this._created){return;}if(_40a){_402.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_40b){if(_40b!=this&&_40b.checked){_40b.set("checked",false);}}));}},_getSubmitValue:function(_40c){return _40c===null?"on":_40c;},_onClick:function(e){if(this.checked||this.disabled){_405.stop(e);return false;}if(this.readOnly){_405.stop(e);_402.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_40d){_404.set(this.focusNode||this.domNode,"checked",_40d.checked);}));return false;}return this.inherited(arguments);}});});},"dojo/data/ItemFileWriteStore":function(){define("dojo/data/ItemFileWriteStore",["../_base/lang","../_base/declare","../_base/array","../_base/json","../_base/kernel","./ItemFileReadStore","../date/stamp"],function(lang,_40e,_40f,_410,_411,_412,_413){return _40e("dojo.data.ItemFileWriteStore",_412,{constructor:function(_414){this._features["dojo.data.api.Write"]=true;this._features["dojo.data.api.Notification"]=true;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};if(!this._datatypeMap["Date"].serialize){this._datatypeMap["Date"].serialize=function(obj){return _413.toISOString(obj,{zulu:true});};}if(_414&&(_414.referenceIntegrity===false)){this.referenceIntegrity=false;}this._saveInProgress=false;},referenceIntegrity:true,_assert:function(_415){if(!_415){throw new Error("assertion failed in ItemFileWriteStore");}},_getIdentifierAttribute:function(){return this.getFeatures()["dojo.data.api.Identity"];},newItem:function(_416,_417){this._assert(!this._saveInProgress);if(!this._loadFinished){this._forceLoad();}if(typeof _416!="object"&&typeof _416!="undefined"){throw new Error("newItem() was passed something other than an object");}var _418=null;var _419=this._getIdentifierAttribute();if(_419===Number){_418=this._arrayOfAllItems.length;}else{_418=_416[_419];if(typeof _418==="undefined"){throw new Error("newItem() was not passed an identity for the new item");}if(lang.isArray(_418)){throw new Error("newItem() was not passed an single-valued identity");}}if(this._itemsByIdentity){this._assert(typeof this._itemsByIdentity[_418]==="undefined");}this._assert(typeof this._pending._newItems[_418]==="undefined");this._assert(typeof this._pending._deletedItems[_418]==="undefined");var _41a={};_41a[this._storeRefPropName]=this;_41a[this._itemNumPropName]=this._arrayOfAllItems.length;if(this._itemsByIdentity){this._itemsByIdentity[_418]=_41a;_41a[_419]=[_418];}this._arrayOfAllItems.push(_41a);var _41b=null;if(_417&&_417.parent&&_417.attribute){_41b={item:_417.parent,attribute:_417.attribute,oldValue:undefined};var _41c=this.getValues(_417.parent,_417.attribute);if(_41c&&_41c.length>0){var _41d=_41c.slice(0,_41c.length);if(_41c.length===1){_41b.oldValue=_41c[0];}else{_41b.oldValue=_41c.slice(0,_41c.length);}_41d.push(_41a);this._setValueOrValues(_417.parent,_417.attribute,_41d,false);_41b.newValue=this.getValues(_417.parent,_417.attribute);}else{this._setValueOrValues(_417.parent,_417.attribute,_41a,false);_41b.newValue=_41a;}}else{_41a[this._rootItemPropName]=true;this._arrayOfTopLevelItems.push(_41a);}this._pending._newItems[_418]=_41a;for(var key in _416){if(key===this._storeRefPropName||key===this._itemNumPropName){throw new Error("encountered bug in ItemFileWriteStore.newItem");}var _41e=_416[key];if(!lang.isArray(_41e)){_41e=[_41e];}_41a[key]=_41e;if(this.referenceIntegrity){for(var i=0;i<_41e.length;i++){var val=_41e[i];if(this.isItem(val)){this._addReferenceToMap(val,_41a,key);}}}}this.onNew(_41a,_41b);return _41a;},_removeArrayElement:function(_41f,_420){var _421=_40f.indexOf(_41f,_420);if(_421!=-1){_41f.splice(_421,1);return true;}return false;},deleteItem:function(item){this._assert(!this._saveInProgress);this._assertIsItem(item);var _422=item[this._itemNumPropName];var _423=this.getIdentity(item);if(this.referenceIntegrity){var _424=this.getAttributes(item);if(item[this._reverseRefMap]){item["backup_"+this._reverseRefMap]=lang.clone(item[this._reverseRefMap]);}_40f.forEach(_424,function(_425){_40f.forEach(this.getValues(item,_425),function(_426){if(this.isItem(_426)){if(!item["backupRefs_"+this._reverseRefMap]){item["backupRefs_"+this._reverseRefMap]=[];}item["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(_426),attr:_425});this._removeReferenceFromMap(_426,item,_425);}},this);},this);var _427=item[this._reverseRefMap];if(_427){for(var _428 in _427){var _429=null;if(this._itemsByIdentity){_429=this._itemsByIdentity[_428];}else{_429=this._arrayOfAllItems[_428];}if(_429){for(var _42a in _427[_428]){var _42b=this.getValues(_429,_42a)||[];var _42c=_40f.filter(_42b,function(_42d){return !(this.isItem(_42d)&&this.getIdentity(_42d)==_423);},this);this._removeReferenceFromMap(item,_429,_42a);if(_42c.length<_42b.length){this._setValueOrValues(_429,_42a,_42c,true);}}}}}}this._arrayOfAllItems[_422]=null;item[this._storeRefPropName]=null;if(this._itemsByIdentity){delete this._itemsByIdentity[_423];}this._pending._deletedItems[_423]=item;if(item[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,item);}this.onDelete(item);return true;},setValue:function(item,_42e,_42f){return this._setValueOrValues(item,_42e,_42f,true);},setValues:function(item,_430,_431){return this._setValueOrValues(item,_430,_431,true);},unsetAttribute:function(item,_432){return this._setValueOrValues(item,_432,[],true);},_setValueOrValues:function(item,_433,_434,_435){this._assert(!this._saveInProgress);this._assertIsItem(item);this._assert(lang.isString(_433));this._assert(typeof _434!=="undefined");var _436=this._getIdentifierAttribute();if(_433==_436){throw new Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");}var _437=this._getValueOrValues(item,_433);var _438=this.getIdentity(item);if(!this._pending._modifiedItems[_438]){var _439={};for(var key in item){if((key===this._storeRefPropName)||(key===this._itemNumPropName)||(key===this._rootItemPropName)){_439[key]=item[key];}else{if(key===this._reverseRefMap){_439[key]=lang.clone(item[key]);}else{_439[key]=item[key].slice(0,item[key].length);}}}this._pending._modifiedItems[_438]=_439;}var _43a=false;if(lang.isArray(_434)&&_434.length===0){_43a=delete item[_433];_434=undefined;if(this.referenceIntegrity&&_437){var _43b=_437;if(!lang.isArray(_43b)){_43b=[_43b];}for(var i=0;i<_43b.length;i++){var _43c=_43b[i];if(this.isItem(_43c)){this._removeReferenceFromMap(_43c,item,_433);}}}}else{var _43d;if(lang.isArray(_434)){_43d=_434.slice(0,_434.length);}else{_43d=[_434];}if(this.referenceIntegrity){if(_437){var _43b=_437;if(!lang.isArray(_43b)){_43b=[_43b];}var map={};_40f.forEach(_43b,function(_43e){if(this.isItem(_43e)){var id=this.getIdentity(_43e);map[id.toString()]=true;}},this);_40f.forEach(_43d,function(_43f){if(this.isItem(_43f)){var id=this.getIdentity(_43f);if(map[id.toString()]){delete map[id.toString()];}else{this._addReferenceToMap(_43f,item,_433);}}},this);for(var rId in map){var _440;if(this._itemsByIdentity){_440=this._itemsByIdentity[rId];}else{_440=this._arrayOfAllItems[rId];}this._removeReferenceFromMap(_440,item,_433);}}else{for(var i=0;i<_43d.length;i++){var _43c=_43d[i];if(this.isItem(_43c)){this._addReferenceToMap(_43c,item,_433);}}}}item[_433]=_43d;_43a=true;}if(_435){this.onSet(item,_433,_437,_434);}return _43a;},_addReferenceToMap:function(_441,_442,_443){var _444=this.getIdentity(_442);var _445=_441[this._reverseRefMap];if(!_445){_445=_441[this._reverseRefMap]={};}var _446=_445[_444];if(!_446){_446=_445[_444]={};}_446[_443]=true;},_removeReferenceFromMap:function(_447,_448,_449){var _44a=this.getIdentity(_448);var _44b=_447[this._reverseRefMap];var _44c;if(_44b){for(_44c in _44b){if(_44c==_44a){delete _44b[_44c][_449];if(this._isEmpty(_44b[_44c])){delete _44b[_44c];}}}if(this._isEmpty(_44b)){delete _447[this._reverseRefMap];}}},_dumpReferenceMap:function(){var i;for(i=0;i<this._arrayOfAllItems.length;i++){var item=this._arrayOfAllItems[i];if(item&&item[this._reverseRefMap]){}}},_getValueOrValues:function(item,_44d){var _44e=undefined;if(this.hasAttribute(item,_44d)){var _44f=this.getValues(item,_44d);if(_44f.length==1){_44e=_44f[0];}else{_44e=_44f;}}return _44e;},_flatten:function(_450){if(this.isItem(_450)){return {_reference:this.getIdentity(_450)};}else{if(typeof _450==="object"){for(var type in this._datatypeMap){var _451=this._datatypeMap[type];if(lang.isObject(_451)&&!lang.isFunction(_451)){if(_450 instanceof _451.type){if(!_451.serialize){throw new Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+type+"]");}return {_type:type,_value:_451.serialize(_450)};}}else{if(_450 instanceof _451){return {_type:type,_value:_450.toString()};}}}}return _450;}},_getNewFileContentString:function(){var _452={};var _453=this._getIdentifierAttribute();if(_453!==Number){_452.identifier=_453;}if(this._labelAttr){_452.label=this._labelAttr;}_452.items=[];for(var i=0;i<this._arrayOfAllItems.length;++i){var item=this._arrayOfAllItems[i];if(item!==null){var _454={};for(var key in item){if(key!==this._storeRefPropName&&key!==this._itemNumPropName&&key!==this._reverseRefMap&&key!==this._rootItemPropName){var _455=this.getValues(item,key);if(_455.length==1){_454[key]=this._flatten(_455[0]);}else{var _456=[];for(var j=0;j<_455.length;++j){_456.push(this._flatten(_455[j]));_454[key]=_456;}}}}_452.items.push(_454);}}var _457=true;return _410.toJson(_452,_457);},_isEmpty:function(_458){var _459=true;if(lang.isObject(_458)){var i;for(i in _458){_459=false;break;}}else{if(lang.isArray(_458)){if(_458.length>0){_459=false;}}}return _459;},save:function(_45a){this._assert(!this._saveInProgress);this._saveInProgress=true;var self=this;var _45b=function(){self._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};self._saveInProgress=false;if(_45a&&_45a.onComplete){var _45c=_45a.scope||_411.global;_45a.onComplete.call(_45c);}};var _45d=function(err){self._saveInProgress=false;if(_45a&&_45a.onError){var _45e=_45a.scope||_411.global;_45a.onError.call(_45e,err);}};if(this._saveEverything){var _45f=this._getNewFileContentString();this._saveEverything(_45b,_45d,_45f);}if(this._saveCustom){this._saveCustom(_45b,_45d);}if(!this._saveEverything&&!this._saveCustom){_45b();}},revert:function(){this._assert(!this._saveInProgress);var _460;for(_460 in this._pending._modifiedItems){var _461=this._pending._modifiedItems[_460];var _462=null;if(this._itemsByIdentity){_462=this._itemsByIdentity[_460];}else{_462=this._arrayOfAllItems[_460];}_461[this._storeRefPropName]=this;for(var key in _462){delete _462[key];}lang.mixin(_462,_461);}var _463;for(_460 in this._pending._deletedItems){_463=this._pending._deletedItems[_460];_463[this._storeRefPropName]=this;var _464=_463[this._itemNumPropName];if(_463["backup_"+this._reverseRefMap]){_463[this._reverseRefMap]=_463["backup_"+this._reverseRefMap];delete _463["backup_"+this._reverseRefMap];}this._arrayOfAllItems[_464]=_463;if(this._itemsByIdentity){this._itemsByIdentity[_460]=_463;}if(_463[this._rootItemPropName]){this._arrayOfTopLevelItems.push(_463);}}for(_460 in this._pending._deletedItems){_463=this._pending._deletedItems[_460];if(_463["backupRefs_"+this._reverseRefMap]){_40f.forEach(_463["backupRefs_"+this._reverseRefMap],function(_465){var _466;if(this._itemsByIdentity){_466=this._itemsByIdentity[_465.id];}else{_466=this._arrayOfAllItems[_465.id];}this._addReferenceToMap(_466,_463,_465.attr);},this);delete _463["backupRefs_"+this._reverseRefMap];}}for(_460 in this._pending._newItems){var _467=this._pending._newItems[_460];_467[this._storeRefPropName]=null;this._arrayOfAllItems[_467[this._itemNumPropName]]=null;if(_467[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_467);}if(this._itemsByIdentity){delete this._itemsByIdentity[_460];}}this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return true;},isDirty:function(item){if(item){var _468=this.getIdentity(item);return new Boolean(this._pending._newItems[_468]||this._pending._modifiedItems[_468]||this._pending._deletedItems[_468]).valueOf();}else{return !this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems);}},onSet:function(item,_469,_46a,_46b){},onNew:function(_46c,_46d){},onDelete:function(_46e){},close:function(_46f){if(this.clearOnClose){if(!this.isDirty()){this.inherited(arguments);}else{throw new Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");}}}});});},"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","dojox/storage/Provider":function(){define("dojox/storage/Provider",["dijit","dojo","dojox"],function(_470,dojo,_471){dojo.provide("dojox.storage.Provider");dojo.declare("dojox.storage.Provider",null,{constructor:function(){},SUCCESS:"success",FAILED:"failed",PENDING:"pending",SIZE_NOT_AVAILABLE:"Size not available",SIZE_NO_LIMIT:"No size limit",DEFAULT_NAMESPACE:"default",onHideSettingsUI:null,initialize:function(){},isAvailable:function(){},put:function(key,_472,_473,_474){},get:function(key,_475){},hasKey:function(key,_476){return !!this.get(key,_476);},getKeys:function(_477){},clear:function(_478){},remove:function(key,_479){},getNamespaces:function(){},isPermanent:function(){},getMaximumSize:function(){},putMultiple:function(keys,_47a,_47b,_47c){for(var i=0;i<keys.length;i++){_471.storage.put(keys[i],_47a[i],_47b,_47c);}},getMultiple:function(keys,_47d){var _47e=[];for(var i=0;i<keys.length;i++){_47e.push(_471.storage.get(keys[i],_47d));}return _47e;},removeMultiple:function(keys,_47f){for(var i=0;i<keys.length;i++){_471.storage.remove(keys[i],_47f);}},isValidKeyArray:function(keys){if(keys===null||keys===undefined||!dojo.isArray(keys)){return false;}return !dojo.some(keys,function(key){return !this.isValidKey(key);},this);},hasSettingsUI:function(){return false;},showSettingsUI:function(){},hideSettingsUI:function(){},isValidKey:function(_480){if(_480===null||_480===undefined){return false;}return /^[0-9A-Za-z_]*$/.test(_480);},getResourceList:function(){return [];}});});},"url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n","esriviewer/map/MapManager":function(){define("esriviewer/map/MapManager",["dojo/_base/declare","dojo/on","dojo/dom-construct","dojo/has","dojo/topic","dojo/_base/lang","dojo/dom","./base/MapUtils","./base/MapExtentTools","./base/MapLayersTools","./base/MapDisplayWidgets","./base/MapNavDrawTools","./base/MapTimeTools","dijit/layout/ContentPane","../ui/basemap/BasemapGalleryWidget","esri/dijit/OverviewMap","esri/config","esri/geometry/Extent","esri/map","esri/urlUtils","esri/arcgis/utils"],function(_481,on,_482,has,_483,lang,dom,_484,_485,_486,_487,_488,_489,_48a,_48b,_48c,_48d,_48e,Map,_48f,_490){return _481([],{__defaultZoomSliderPosition:{x:10,y:120},hasGeometryService:false,maxClientZoom:null,hideLatLongDisplay:false,hideMGRSDisplay:true,hideMapScale:false,constructor:function(_491){lang.mixin(this,_491||{});this.mapInitializationParameters={wrapAround180:true,force3DTransforms:false,navigationMode:"classic"};this.loadViewerConfigurationData();this.initMap();},loadViewerConfigurationData:function(){var _492=null;_483.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"geometryService",function(_493){_492=_493;});this.hasGeometryService=_492!=null;var _494;_483.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"map",function(_495){_494=_495;});if(_494&&lang.isObject(_494)){this.mapConfiguration=_494;this.basemaps=this.mapConfiguration.basemaps;var _496=false;if(this.mapConfiguration.display!=null&&lang.isObject(this.mapConfiguration.display)&&this.mapConfiguration.display.showScale!=null&&this.mapConfiguration.display.showScale==false){this.hideMapScale=true;}if(this.mapConfiguration.maxClientZoom!=null){try{this.maxClientZoom=parseInt(this.mapConfiguration.maxClientZoom,10);}catch(err){}}lang.mixin(this.mapInitializationParameters,this.mapConfiguration.initializationParameters||{});}},initListeners:function(){this.map.on("load",lang.hitch(this,this.handleMapLoaded));this.map.on("update-start",function(){_483.publish(VIEWER_GLOBALS.EVENTS.THROBBER.SHOW);});this.map.on("zoom-end",lang.hitch(this,this.handleZoomLevelChanged));this.map.on("update-end",function(){_483.publish(VIEWER_GLOBALS.EVENTS.THROBBER.HIDE);});this.map.on("extent-change",lang.hitch(this,this.handleMapExtentChange));_483.subscribe(VIEWER_GLOBALS.EVENTS.MAP.GET,lang.hitch(this,this.handleGetMap));on(window,"resize",lang.hitch(this,function(){this.map.resize();}));},handleMapExtentChange:function(evt){if(!this.hideMapScale){this.mapExtentTools.handleMapExtentChanged();}_483.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.CHANGED,evt);},handleGetMap:function(_497){if(_497!=null&&lang.isFunction(_497)){_497(this.map);}},initMap:function(){var _498;_483.publish(VIEWER_GLOBALS.EVENTS.MAP.GET_MAP_DIV,function(mD){_498=mD;});this.mapDiv=_498;new _48a({region:"center",style:"height: 100%; width: 100%; margin: 0; padding: 0; overflow: hidden;"},this.mapDiv);if(this.mapConfiguration.zoomSlider==null||this.mapConfiguration.zoomSlider.create!=false){var _499=this.__defaultZoomSliderPosition.x;var _49a=this.__defaultZoomSliderPosition.y;if(VIEWER_GLOBALS&&VIEWER_GLOBALS.windowPositioning&&VIEWER_GLOBALS.windowPositioning.zoomSlider&&lang.isObject(VIEWER_GLOBALS.windowPositioning.zoomSlider)){_499=VIEWER_GLOBALS.windowPositioning.zoomSlider.x;_49a=VIEWER_GLOBALS.windowPositioning.zoomSlider.y;var _49b="left";var _49c="top";if(VIEWER_GLOBALS.windowPositioning.zoomSlider.alignY!=null&&lang.isString(VIEWER_GLOBALS.windowPositioning.zoomSlider.alignY)){var _49d=VIEWER_GLOBALS.windowPositioning.zoomSlider.alignY.toLowerCase();if(_49d==="top"||_49d==="bottom"){_49c=_49d;}}if(VIEWER_GLOBALS.windowPositioning.zoomSlider.alignX!=null&&lang.isString(VIEWER_GLOBALS.windowPositioning.zoomSlider.alignX)){var _49e=VIEWER_GLOBALS.windowPositioning.zoomSlider.alignX.toLowerCase();if(_49e==="left"||_49e==="right"){_49b=_49e;}}}var _49f={width:null,height:"150px"};_49f[_49b]=_499+"px";_49f[_49c]=_49a+"px";if(has("ie")){_49f.height="80px";}_48d.defaults.map.slider=_49f;}else{this.mapInitializationParameters.slider=false;}if(this.mapConfiguration.initialExtent!=null&&lang.isObject(this.mapConfiguration.initialExtent)){var _4a0=this.mapConfiguration.initialExtent;this.initialExtent=new _48e({xmin:_4a0.xmin,ymin:_4a0.ymin,xmax:_4a0.xmax,ymax:_4a0.ymax,spatialReference:_4a0.spatialReference});this.mapInitializationParameters.extent=this.initialExtent;}if(lang.isArray(this.mapConfiguration.lods)){this.mapInitializationParameters.lods=this.mapConfiguration.lods;}if(this.webMapItem){this.map=_490.createMap(this.webMapItem,this.mapDiv).then(lang.hitch(this,function(_4a1){this.mapCreated(_4a1.map);this.handleMapLoaded();}));}else{var map=new Map(this.mapDiv,this.mapInitializationParameters);this.mapCreated(map);}},mapCreated:function(map){this.map=map;this.mapDisplayWidgets=new _487({map:this.map,mapDiv:this.mapDiv});this.mapExtentTools=new _485({mapDisplayWidgets:this.mapDisplayWidgets,map:this.map,mapUtils:this.mapUtils,maxClientZoom:this.maxClientZoom});this.mapLayersTools=new _486({map:this.map,basemaps:this.basemaps,mapConfiguration:this.mapConfiguration,webMapItem:this.webMapItem});this.mapUtils=new _484({map:this.map,mapDiv:this.mapDiv,operationalLayers:this.mapLayersTools.operationalLayers});this.mapNavDrawTools=new _488({map:this.map});this.mapTimeTools=new _489({map:this.map});this.initListeners();this.initBasemaps();},initBasemaps:function(){if(this.mapConfiguration.useBasemapGallery==null||this.mapConfiguration.useBasemapGallery!=true){for(var key in this.basemaps){this.mapLayersTools.changeBaseMaps(key);break;}}else{this.basemapGalleryWidget=new _48b();}},handleMapLoaded:function(){if(this.webMapItem&&this.webMapItem.itemData){this.mapLayersTools.addWebMapOperationalLayers(this.webMapItem);}else{this.mapLayersTools.loadMapConfigurationLayers();}if(this.mapConfiguration.overview==null||this.mapConfiguration.overview.create!=false){this.overviewMapDijit=new _48c({attachTo:"bottom-right",color:"#D84E13",opacity:0.4,map:this.map,visible:true,width:225,height:175});this.overviewMapDijit.startup();}_483.publish(VIEWER_GLOBALS.EVENTS.MAP.LOADED,this.map);this.onMapLoaded();},handleZoomLevelChanged:function(evt){if(evt==null){return;}var _4a2=evt.extent;var _4a3=evt.zoomFactor;var _4a4=evt.anchor;var _4a5=evt.level;_483.publish(VIEWER_GLOBALS.EVENTS.MAP.LEVEL.CHANGED,_4a2,_4a3,_4a4,_4a5);},onMapLoaded:function(){}});});},"esriviewer/util/GeometryUtils":function(){define("esriviewer/util/GeometryUtils",["dojo/_base/declare"],function(_4a6){return _4a6([],{polygonIntersectsPoint:function(pt,_4a7){var ext=_4a7.getExtent();return (pt.x>=ext.xmin&&pt.y>=ext.ymin&&pt.x<=ext.xmax&&pt.y<=ext.ymax);},ddToDMSString:function(_4a8){var _4a9;var _4aa=false;if(_4a8<0){_4aa=true;_4a8=Math.abs(_4a8);}_4a9=Math.floor(_4a8)+""+Math.floor((_4a8-Math.floor(_4a8))*60)+"'"+Math.floor(((_4a8-Math.floor(_4a8))*60-Math.floor((_4a8-Math.floor(_4a8))*60))*60)+"\"";if(_4aa){_4a9="-"+_4a9;}return _4a9;}});});},"esriviewer/ui/weather/conditions/WeatherWidgetWindow":function(){define("esriviewer/ui/weather/conditions/WeatherWidgetWindow",["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/window","dojo/dom-style","../../window/WindowWidget"],function(_4ab,lang,_4ac,_4ad,_4ae,_4af){return _4ab([_4af],{defaultPositioning:{x:400,y:125},windowWidth:"350px",windowHeaderText:"Weather",windowIconAltText:"Weather",windowIconClass:"commonIcons16 weather",positioningParamName:"weather",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/weather/conditions/WeatherWidget"],lang.hitch(this,function(_4b0){this.weatherWidget=new _4b0();this.setContent(this.weatherWidget.domNode);}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_4ac.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.WEATHER.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_4ac.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.WEATHER.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_4ac.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.WEATHER.TOGGLE,lang.hitch(this,this.toggle)));},hide:function(){this.inherited(arguments);if(this.weatherWidget){this.weatherWidget.clearDraw();}}});});},"esriviewer/ui/draw/configure/geometry/ConfigurePolygonWidget":function(){require({cache:{"url:esriviewer/ui/draw/configure/geometry/template/ConfigurePolygonTemplate.html":"<div class=\"configureDrawGeometryContainer\">\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Fill Style</span>\r\n        <select data-bind=\"options: fillStyles ,value:selectedFillStyle, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Outline Style</span>\r\n        <select data-bind=\"options: outlineStyles ,value:selectedOutlineStyle, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Outline Width</span>\r\n        <select data-bind=\"options: outlineWidths ,value:selectedOutlineWidth\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Angle</span>\r\n        <select data-bind=\"options: angles ,value:selectedAngle\"></select>\r\n    </div>\r\n    <div data-dojo-attach-point=\"transparencySliderContainer\"></div>\r\n\r\n    <div class=\"colorPickerTextContainer\">\r\n        <span class=\"colorPickerText\"\r\n              data-bind=\"click: setOutlineColorMode,css:{colorPickerTextSelected: outlineColorActive}\"> Outline Color</span>\r\n        <span class=\"colorPickerText\"\r\n              data-bind=\"click: setFillColorMode,css:{colorPickerTextSelected: fillColorActive}\"> Fill Color</span>\r\n\r\n    </div>\r\n\r\n\r\n    <div class=\"configureDrawColorPickerContainer\" data-dojo-attach-point=\"colorPickerContainer\"></div>\r\n</div>"}});define("esriviewer/ui/draw/configure/geometry/ConfigurePolygonWidget",["dojo/_base/declare","dojo/text!./template/ConfigurePolygonTemplate.html","dojo/topic","dojo/_base/lang","dojo/_base/Color","./model/ConfigurePolygonViewModel","./BaseGeometryConfigurationWidget","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol"],function(_4b1,_4b2,_4b3,lang,_4b4,_4b5,_4b6,_4b7,_4b8){return _4b1([_4b6],{defaultTransparency:50,templateString:_4b2,postCreate:function(){this.inherited(arguments);this.viewModel=new _4b5();this.viewModel.fillColorActive.subscribe(lang.hitch(this,this.handleFillColorToggled));this.viewModel.selectedAngle.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedFillStyle.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedOutlineStyle.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedAngle.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedOutlineWidth.subscribe(lang.hitch(this,this.processChange));this.outlineColor=new _4b4([255,0,0,this.getTransparency()/100]);this.fillColor=new _4b4([255,0,0,this.getTransparency()/100]);this.colorPicker.set("value",this.outlineColor.toHex());ko.applyBindings(this.viewModel,this.domNode);},handleTransparencyChanged:function(){var _4b9=this.getTransparency()/100;this.outlineColor=new _4b4([this.outlineColor.r,this.outlineColor.g,this.outlineColor.b,_4b9]);this.fillColor=new _4b4([this.fillColor.r,this.fillColor.g,this.fillColor.b,_4b9]);this.inherited(arguments);},handleFillColorToggled:function(_4ba){if(_4ba){this.colorPicker.set("value",this.fillColor.toHex());}else{this.colorPicker.set("value",this.outlineColor.toHex());}},handleColorPickerChanged:function(){if(this.viewModel.outlineColorActive()){this.outlineColor=this.getColor();}else{this.fillColor=this.getColor();}this.processChange();},processChange:function(){this.onChange(this.getSymbol());},getSymbol:function(){return new _4b7(this.viewModel.selectedFillStyle(),new _4b8(this.viewModel.selectedOutlineStyle(),this.outlineColor,this.viewModel.selectedOutlineWidth()),this.fillColor);}});});},"esriviewer/ui/draw/configure/ConfigureDrawWidget":function(){require({cache:{"url:esriviewer/ui/draw/configure/template/ConfigureDrawTemplate.html":"<div>\r\n    <div data-bind=\"visible:showConfigureGeometryIcons\" data-dojo-attach-point=\"annotationOptionsButtons\" class=\"annotationOptionButtons\">\r\n        <div title=\"Set Point Symbol\"\r\n             data-bind=\"click: showPointConfiguration, css:{pointSelected: pointConfigurationActive}\"\r\n             class=\"annotationOptionButton pointUnselected\"></div>\r\n        <div title=\"Set Line Symbol\"\r\n             data-bind=\"click: showLineConfiguration, css:{polylineSelected: lineConfigurationActive}\"\r\n                    class=\"annotationOptionButton polylineUnselected\"></div>\r\n        <div title=\"Set Polygon Symbol\"\r\n             data-bind=\"click: showPolygonConfiguration, css:{polygonSelected: polygonConfigurationActive}\"\r\n             class=\"annotationOptionButton polygonUnselected\"></div>\r\n        <div title=\"Set Rectangle Symbol\"\r\n             data-bind=\"visible: showEnvelopeIcon, click: showRectangleConfiguration, css:{rectangleSelected: rectangleConfigurationActive}\"\r\n             class=\"annotationOptionButton rectangleUnselected\"></div>\r\n        <div title=\"Set Text Symbol\"\r\n             data-bind=\"visible: showTextIcon, click: showTextConfiguration, css:{textSelected: textConfigurationActive}\"\r\n             class=\"annotationOptionButton textUnselected\"></div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"configurePointWidgetContainer\" data-bind=\"visible:pointConfigurationActive\"></div>\r\n    <div data-dojo-attach-point=\"configureLineWidgetContainer\" data-bind=\"visible:lineConfigurationActive\"></div>\r\n    <div data-dojo-attach-point=\"configureRectangleWidgetContainer\" data-bind=\"visible:rectangleConfigurationActive\"></div>\r\n    <div data-dojo-attach-point=\"configurePolygonWidgetContainer\" data-bind=\"visible:polygonConfigurationActive\"></div>\r\n\r\n    <div data-dojo-attach-point=\"configureTextWidgetContainer\" data-bind=\"visible:textConfigurationActive\"></div>\r\n\r\n</div>"}});define("esriviewer/ui/draw/configure/ConfigureDrawWidget",["dojo/_base/declare","dojo/text!./template/ConfigureDrawTemplate.html","dojo/_base/lang","dojo/on","../../base/UITemplatedWidget","./model/ConfigureDrawViewModel","./geometry/ConfigurePointWidget","./geometry/ConfigureLineWidget","./geometry/ConfigureTextWidget","./geometry/ConfigurePolygonWidget"],function(_4bb,_4bc,lang,on,_4bd,_4be,_4bf,_4c0,_4c1,_4c2){return _4bb([_4bd],{showConfigureGeometryIcons:true,showTextIcon:true,showEnvelopeIcon:true,templateString:_4bc,postCreate:function(){this.inherited(arguments);this.viewModel=new _4be();this.viewModel.showEnvelopeIcon(this.showEnvelopeIcon);this.viewModel.showTextIcon(this.showTextIcon);this.viewModel.showConfigureGeometryIcons(this.showConfigureGeometryIcons);ko.applyBindings(this.viewModel,this.domNode);this.createConfigurationWidgets();},createConfigurationWidgets:function(){this.pointConfigurationWidget=new _4bf();this.pointConfigurationWidget.placeAt(this.configurePointWidgetContainer);this.pointConfigurationWidget.on("change",lang.hitch(this,this.handlePointSymbolChanged));this.lineConfigurationWidget=new _4c0();this.lineConfigurationWidget.placeAt(this.configureLineWidgetContainer);this.lineConfigurationWidget.on("change",lang.hitch(this,this.handleLineSymbolChanged));this.rectangleConfigurationWidget=new _4c2();this.rectangleConfigurationWidget.placeAt(this.configureRectangleWidgetContainer);this.rectangleConfigurationWidget.on("change",lang.hitch(this,this.handleRectangleSymbolChanged));this.configureTextWidget=new _4c1();this.configureTextWidget.placeAt(this.configureTextWidgetContainer);this.configureTextWidget.on("change",lang.hitch(this,this.handleTextSymbolChanged));this.configurePolygonWidget=new _4c2();this.configurePolygonWidget.placeAt(this.configurePolygonWidgetContainer);this.configurePolygonWidget.on("change",lang.hitch(this,this.handlePolygonSymbolChanged));},handlePointSymbolChanged:function(_4c3){this.onPointSymbolChanged(_4c3);},handleLineSymbolChanged:function(_4c4){this.onLineSymbolChanged(_4c4);},handlePolygonSymbolChanged:function(_4c5){this.onPolygonSymbolChanged(_4c5);},handleTextSymbolChanged:function(_4c6){this.onTextSymbolChanged(_4c6);},handleRectangleSymbolChanged:function(_4c7){this.onRectangleSymbolChanged(_4c7);},onPointSymbolChanged:function(_4c8){},onLineSymbolChanged:function(_4c9){},onPolygonSymbolChanged:function(_4ca){},onTextSymbolChanged:function(_4cb){},onRectangleSymbolChanged:function(_4cc){}});});},"esriviewer/ui/draw/configure/geometry/ConfigureLineWidget":function(){require({cache:{"url:esriviewer/ui/draw/configure/geometry/template/ConfigureLineTemplate.html":"<div class=\"configureDrawGeometryContainer\">\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Line Style</span>\r\n        <select data-bind=\"options: lineStyles ,value:selectedLineStyle, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Width</span>\r\n        <select data-bind=\"options: lineWidths ,value:selectedWidth\"></select>\r\n    </div>\r\n    <div data-dojo-attach-point=\"transparencySliderContainer\"></div>\r\n\r\n    <div class=\"configureDrawColorPickerContainer\" data-dojo-attach-point=\"colorPickerContainer\"></div>\r\n</div>"}});define("esriviewer/ui/draw/configure/geometry/ConfigureLineWidget",["dojo/_base/declare","dojo/text!./template/ConfigureLineTemplate.html","dojo/topic","dojo/_base/lang","dojo/_base/Color","./model/ConfigureLineViewModel","./BaseGeometryConfigurationWidget","esri/symbols/SimpleLineSymbol"],function(_4cd,_4ce,_4cf,lang,_4d0,_4d1,_4d2,_4d3){return _4cd([_4d2],{templateString:_4ce,postCreate:function(){this.inherited(arguments);this.viewModel=new _4d1();this.viewModel.selectedLineStyle.subscribe(lang.hitch(this,this.processChange));this.viewModel.selectedWidth.subscribe(lang.hitch(this,this.processChange));ko.applyBindings(this.viewModel,this.domNode);},processChange:function(){this.onChange(this.getSymbol());},getSymbol:function(){return new _4d3(this.viewModel.selectedLineStyle(),this.getColor(),this.viewModel.selectedWidth());}});});},"esriviewer/ui/layers/LayersTocWidget":function(){require({cache:{"url:esriviewer/ui/layers/template/LayersTocWidgetTemplate.html":"<div>\r\n    <div class=\"tocRightClickLbl\">Right click for actions</div>\r\n    <div data-dojo-attach-point=\"tocContainer\" class=\"tocContainer\">\r\n\r\n\r\n    </div>\r\n</div>"}});define("esriviewer/ui/layers/LayersTocWidget",["dojo/_base/declare","dojo/text!./template/LayersTocWidgetTemplate.html","dojo/_base/array","dojo/topic","dojo/_base/lang","dojo/dom-style","dojo/dom-class","dojo/dom-construct","dijit/Tree","dijit/tree/ForestStoreModel","dijit/tree/dndSource","dojo/dnd/Avatar","dojo/dnd/Manager","dojo/data/ItemFileWriteStore","./base/LayersTocWidgetContextMenu","../base/UITemplatedWidget","esri/layers/ArcGISTiledMapServiceLayer"],function(_4d4,_4d5,_4d6,_4d7,lang,_4d8,_4d9,_4da,Tree,_4db,_4dc,_4dd,_4de,_4df,_4e0,_4e1,_4e2){return _4d4([_4e1],{templateString:_4d5,constructor:function(){this.treeStore=new _4df({data:{items:[],identifier:"id",label:"label"}});this.treeModel=new _4db({store:this.treeStore,openOnClick:true});this.tree=new Tree({model:this.treeModel,getIconClass:lang.hitch(this,this.getTreeIcon),showRoot:false});_4d8.set(this.tree.domNode,"height","100%");this.treeContextMenu=new _4e0({tree:this.tree});this.treeContextMenu.bindNodeToNoContentMenu(this.tree.rootNode.domNode);},postCreate:function(){this.inherited(arguments);_4da.place(this.tree.domNode,this.tocContainer);},initListeners:function(){this.tree.on("click",lang.hitch(this,this.treeClickHandler));},getNodeFromItem:function(item){var _4e3=item.id[0];return this.tree._itemNodesMap[_4e3][0];},getTreeIcon:function(item,_4e4){if(item.root){return "tocIcons layerService";}var _4e5=null;var _4e6=null;if(item.layer){_4e5=this.treeStore.getValue(item,"layer");}if(item.layerId){_4e6=this.treeStore.getValue(item,"layerId");}if(_4e5){if(_4e6!=null){var _4e7=this.treeStore.getValue(item,"info");if(lang.isArray(_4e7.subLayerIds)&&_4e7.subLayerIds.length>0){if(_4e4){return "tocIcons folderOpen";}else{return "tocIcons folderClosed";}}else{var _4e8=_4d6.indexOf(_4e5.visibleLayers,_4e6)>-1;if(lang.isObject(_4e7.metadata)){var _4e9=_4e7.metadata;if(_4e9.geometryType!=""){if(_4e9.geometryType==VIEWER_GLOBALS.ESRI_GEOMETRY_TYPES.POINT){if(_4e5.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.TILED_MAP_SERVICE){return "tocIcons layerPoint";}if(_4e8){return "tocIcons layerPointChecked";}else{return "tocIcons layerPointUnchecked";}}else{if(_4e9.geometryType==VIEWER_GLOBALS.ESRI_GEOMETRY_TYPES.LINE){if(_4e5.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.TILED_MAP_SERVICE){return "tocIcons layerLine";}if(_4e8){return "tocIcons layerLineChecked";}else{return "tocIcons layerLineUnchecked";}}else{if(_4e9.geometryType==VIEWER_GLOBALS.ESRI_GEOMETRY_TYPES.POLYGON){if(_4e5.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.TILED_MAP_SERVICE){return "tocIcons layerPolygon";}if(_4e8){return "tocIcons layerPolygonChecked";}else{return "tocIcons layerPolygonUnchecked";}}else{if(_4e5.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.TILED_MAP_SERVICE){return "tocIcons layerGeneric";}if(_4e8){return "layerGenericChecked";}else{return "layerGenericUnchecked";}}}}}else{if(_4e9.type==VIEWER_GLOBALS.ESRI_LAYER_TYPES.RASTER){if(_4e5 instanceof _4e2){return "tocIcons layerRasterIcon";}if(_4e8){return "tocIcons layerRasterIconChecked";}else{return "tocIcons layerRasterIconUnchecked";}}else{return _4e8?"tocIcons layerGenericChecked":"tocIcons layerGenericUnchecked";}}}else{if(_4e5.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.IMAGE_SERVICE){return "genericLayerIcon";}else{return _4e8?"tocIcons layerGenericChecked":"tocIcons layerGenericUnchecked";}}}}else{if(_4e5.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.IMAGE_SERVICE){if(_4e5.visible){return "tocIcons imageServiceChecked";}else{return "tocIcons imageServiceUnchecked";}}else{if(_4e5.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.DYNAMIC_MAP_SERVICE){if(_4e5.visible){return "tocIcons globeChecked";}else{return "tocIcons globeUnchecked";}}else{if(_4e5.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.TILED_MAP_SERVICE){if(_4e5.visible){return "tocIcons layerRasterChecked";}else{return "tocIcons layerRasterUnchecked";}}else{if(_4e5.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.FEATURE_LAYER){if(_4e5.visible){return "tocIcons layerGenericChecked";}else{return "tocIcons layerGenericUnchecked";}}else{if(_4e5.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.GRAPHICS_LAYER){if(_4e5.visible){return "tocIcons graphicsLayerChecked";}else{return "tocIcons graphicsLayerUnchecked";}}else{if(_4e5.visible){return "tocIcons layerGenericChecked";}else{return "tocIcons layerGenericUnchecked";}}}}}}}}return "tocIcons layerGeneric";},addTreeNode:function(item,_4ea){var _4eb={children:[]};_4eb.parent=_4ea;if(_4ea.children!=null){_4eb.attribute="children";}return this.treeStore.newItem(item,_4eb);},addLayer:function(_4ec){if(_4ec==null||!_4ec.isOperationalLayer){return;}var _4ed=VIEWER_UTILS.getLayerNameFromLayer(_4ec);var _4ee={label:_4ed,serviceId:_4ec.id,layer:_4ec,id:VIEWER_UTILS.generateUUID()};if(lang.isArray(_4ec.layerInfos)&&_4ec.layerInfos.length>0){_4ee.children=[];}var _4ef=this.addTreeNode(_4ee,this.tree.rootNode);var _4f0=this.getNodeFromItem(_4ef);if(!(_4ec.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.GRAPHICS_LAYER)||(_4ec.declaredClass==VIEWER_GLOBALS.ESRI_LAYER_DECLARED_CLASSES.FEATURE_LAYER)){this.treeContextMenu.bindNodeToServerMenu(_4f0.domNode);}else{this.treeContextMenu.bindNodeToGraphicsLayerMenu(_4f0.domNode);}this.checkForChildLayers(_4ec,_4ef);},checkForChildLayers:function(_4f1,_4f2){var _4f3={};var _4f4=_4f1.layerInfos;if(lang.isArray(_4f4)){var _4f5=_4f2;var _4f6;for(var i=0;i<_4f4.length;i++){_4f6=false;var info=_4f4[i];if(info==null){continue;}var name=info.name;var _4f7={id:VIEWER_UTILS.generateUUID(),label:name,layerId:info.id,serviceId:_4f1.id,layer:_4f1,info:info};if(lang.isArray(info.subLayerIds)){_4f7.children=[];_4f6=true;}if(info.parentLayerId>-1){_4f5=_4f3[info.parentLayerId];if(_4f5==null){return;}}var _4f8=this.addTreeNode(_4f7,_4f5);var _4f9=this.getNodeFromItem(_4f8);if(_4f6){_4f3[info.id]=_4f8;this.treeContextMenu.bindNodeToGroupMenu(_4f9.domNode);}else{this.treeContextMenu.bindNodeToLayerMenu(_4f9.domNode);}}}},removeLayer:function(_4fa){if(_4fa==null){return;}var _4fb;this.treeStore.fetch({query:{serviceId:_4fa.id},queryOptions:{deep:false},onComplete:lang.hitch(this,this.deleteNodes)});},deleteNodes:function(_4fc){for(var i=0;i<_4fc.length;i++){this.deleteNode(_4fc[i]);}},deleteChildNodes:function(item){var _4fd=this.treeStore.getValue(item,"isPersistedToCookie");if(_4fd){var url=this.treeStore.getValue(item,"url");}var node=this.getNodeFromItem(item);var _4fe=node.getChildren();for(var i=0;i<_4fe.length;i++){this.deleteNode(_4fe[i].item);}this.treeStore.save();},deleteNode:function(item){this.deleteChildNodes(item);this.treeStore.deleteItem(item);this.treeStore.save();},treeClickHandler:function(item,node,_4ff){var _500=null;var _501=null;if(item.layer){_500=this.treeStore.getValue(item,"layer");}if(item.layerId){_501=this.treeStore.getValue(item,"layerId");}if(_500 instanceof _4e2&&item.layerId!=null){return;}if(_500&&_501==null){if(_500.visible){_500.hide();}else{_500.show();}}else{if(_500&&_501!=null){this.toggleDynamicSubLayerItem(_500,_501);this.processVisibleLayers(_500);}}node._updateItemClasses(item);},processVisibleLayers:function(_502){if(_502.visibleLayers.length==0){_502.setVisibleLayers([-1]);}else{var _503=VIEWER_UTILS.sortIntegerArray(_502.visibleLayers);_502.setVisibleLayers(_503);}},toggleDynamicSubLayerItem:function(_504,_505){if(_504==null){return;}var _506=_4d6.indexOf(_504.visibleLayers,_505)>-1;if(_506){var _507=_4d6.indexOf(_504.visibleLayers,_505);if(_507>-1){_504.visibleLayers.splice(_507,1);}}else{_504.visibleLayers.push(_505);}}});});},"esriviewer/map/base/MapNavDrawTools":function(){define("esriviewer/map/base/MapNavDrawTools",["dojo/_base/declare","dojo/topic","dojo/_base/connect","dojo/_base/lang","dojox/timing","dojo/_base/Color","esri/toolbars/draw","esri/graphic","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon","esri/geometry/Extent","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol"],function(_508,_509,con,lang,_50a,_50b,Draw,_50c,_50d,_50e,_50f,_510,_511,_512){return _508([],{CROSSHAIR:"crosshair",DEFAULT:"default",MOVE:"move",POINTER:"pointer",currentGraphicFlashCount:0,maxGraphicFlashCount:3,currentFlashGraphicVisible:false,constructor:function(_513){lang.mixin(this,_513);this.initListeners();this.createDrawToolbar();},createDrawToolbar:function(){this.drawToolbar=new Draw(this.map,{showTooltips:true});},initListeners:function(){_509.subscribe(VIEWER_GLOBALS.EVENTS.MAP.FLASH.POINT,lang.hitch(this,this.flashPoint));_509.subscribe(VIEWER_GLOBALS.EVENTS.DRAW.USER.DRAW_CANCEL,lang.hitch(this,this.handleDrawCancel));_509.subscribe(VIEWER_GLOBALS.EVENTS.DRAW.USER.RECTANGLE_INPUT,lang.hitch(this,this.handleUserRectangleDrawInput));_509.subscribe(VIEWER_GLOBALS.EVENTS.DRAW.USER.POLYLINE_INPUT,lang.hitch(this,this.handleUserPolyLineDrawInput));_509.subscribe(VIEWER_GLOBALS.EVENTS.DRAW.USER.LINE_INPUT,lang.hitch(this,this.handleUserLineDrawInput));_509.subscribe(VIEWER_GLOBALS.EVENTS.DRAW.USER.POINT_INPUT,lang.hitch(this,this.handleUserPointClickInput));_509.subscribe(VIEWER_GLOBALS.EVENTS.DRAW.USER.POLYGON_INPUT,lang.hitch(this,this.handleUserPolygonClickInput));_509.subscribe(VIEWER_GLOBALS.EVENTS.DRAW.USER.FREEHAND_POLYLINE_INPUT,lang.hitch(this,this.handleUserFreehandLineDrawInput));_509.subscribe(VIEWER_GLOBALS.EVENTS.DRAW.USER.FREEHAND_POLYGON_INPUT,lang.hitch(this,this.handleUserFreehandPolygonDrawInput));_509.subscribe(VIEWER_GLOBALS.EVENTS.MAP.GRAPHICS.ADD,lang.hitch(this,this.handleAddGraphic));_509.subscribe(VIEWER_GLOBALS.EVENTS.MAP.GRAPHICS.REMOVE,lang.hitch(this,this.removeGraphic));_509.subscribe(VIEWER_GLOBALS.EVENTS.MAP.GRAPHICS.CENTER_AND_FLASH,lang.hitch(this,this.handleCenterAndFlashGraphic));},handleAddGraphic:function(_514){if(this.map&&this.map.graphics){this.map.graphics.add(_514);}},removeGraphic:function(_515){if(this.map&&this.map.graphics){this.map.graphics.remove(_515);}},handleDrawCancel:function(){this.drawToolbar.deactivate();if(this._drawEventHandle){con.disconnect(this._drawEventHandle);this._drawEventHandle=null;}this.map.enableMapNavigation();this.map.setMapCursor(this.DEFAULT);},handleUserRectangleDrawInput:function(_516,_517){_509.publish(VIEWER_GLOBALS.EVENTS.MAP.ACTIONS.TOOL_CHANGED,VIEWER_GLOBALS.EVENTS.TOOLS.DRAW_RECTANGLE);this._userRectangleDrawInput(_516,_517);},handleUserLineDrawInput:function(_518,_519){_509.publish(VIEWER_GLOBALS.EVENTS.MAP.ACTIONS.TOOL_CHANGED,VIEWER_GLOBALS.EVENTS.TOOLS.DRAW_LINE);this._userLineDrawInput(_518,_519);},handleUserPolyLineDrawInput:function(_51a,_51b){_509.publish(VIEWER_GLOBALS.EVENTS.MAP.ACTIONS.TOOL_CHANGED,VIEWER_GLOBALS.EVENTS.TOOLS.DRAW_POLYLINE);this._userPolylineDrawInput(_51a,_51b);},handleUserPointClickInput:function(_51c,_51d){_509.publish(VIEWER_GLOBALS.EVENTS.MAP.ACTIONS.TOOL_CHANGED,VIEWER_GLOBALS.EVENTS.TOOLS.DRAW_POINT);this._userPointDrawInput(_51c,_51d);},handleUserPolygonClickInput:function(_51e,_51f){_509.publish(VIEWER_GLOBALS.EVENTS.MAP.ACTIONS.TOOL_CHANGED,VIEWER_GLOBALS.EVENTS.TOOLS.DRAW_POLYGON);this._userPolygonDrawInput(_51e,_51f);},handleUserFreehandLineDrawInput:function(_520,_521){_509.publish(VIEWER_GLOBALS.EVENTS.MAP.ACTIONS.TOOL_CHANGED,VIEWER_GLOBALS.EVENTS.TOOLS.DRAW_FREEHAND_LINE);this._userFreehandLineDrawInput(_520,_521);},handleUserFreehandPolygonDrawInput:function(_522,_523){_509.publish(VIEWER_GLOBALS.EVENTS.MAP.ACTIONS.TOOL_CHANGED,VIEWER_GLOBALS.EVENTS.TOOLS.DRAW_FREEHAND_POLYGON);this._userFreehandPolygonDrawInput(_522,_523);},_userFreehandPolygonDrawInput:function(_524,_525){this.userDrawCancel();var _526=_525&&_525.cursor?_525.cursor:this.CROSSHAIR;this.map.setMapCursor(_526);this.activateDraw(Draw.FREEHAND_POLYGON,_524,_525);},_userFreehandLineDrawInput:function(_527,_528){this.userDrawCancel();var _529=_528&&_528.cursor?_528.cursor:this.CROSSHAIR;this.map.setMapCursor(_529);this.activateDraw(Draw.FREEHAND_POLYLINE,_527,_528);},_userRectangleDrawInput:function(_52a,_52b){this.userDrawCancel();var _52c=_52b&&_52b.cursor?_52b.cursor:this.CROSSHAIR;this.map.setMapCursor(_52c);this.activateDraw(Draw.EXTENT,_52a,_52b);},_userLineDrawInput:function(_52d,_52e){this.userDrawCancel();var _52f=_52e&&_52e.cursor?_52e.cursor:this.CROSSHAIR;this.map.setMapCursor(_52f);this.activateDraw(Draw.LINE,_52d,_52e);},_userPolylineDrawInput:function(_530,_531){this.userDrawCancel();var _532=_531&&_531.cursor?_531.cursor:this.CROSSHAIR;this.map.setMapCursor(_532);this.activateDraw(Draw.POLYLINE,_530,_531);},_userPointDrawInput:function(_533,_534){this.userDrawCancel();var _535=_534&&_534.cursor?_534.cursor:this.POINTER;this.map.setMapCursor(_535);this.activateDraw(Draw.POINT,_533,_534);},_userPolygonDrawInput:function(_536,_537){this.userDrawCancel();var _538=_537&&_537.cursor?_537.cursor:this.CROSSHAIR;this.map.setMapCursor(_538);this.activateDraw(Draw.POLYGON,_536,_537);},activateDraw:function(type,_539,_53a){if(_53a==null){_53a={};}if(_539!=null&&lang.isFunction(_539)){this._drawEventHandle=con.connect(this.drawToolbar,"onDrawEnd",lang.hitch(this,this._internalDrawComplete,_539));}_53a.showTooltips=_53a.showTooltips==null?true:_53a.showTooltips;this.drawToolbar.activate(type,_53a);this.map.disableMapNavigation();},_internalDrawComplete:function(_53b,_53c){this.drawToolbar.deactivate();this.map.setMapCursor(this.DEFAULT);this.map.enableMapNavigation();if(_53b!=null&&lang.isFunction(_53b)){_53b(_53c);}},userDrawCancel:function(){this.drawToolbar.deactivate();if(this._drawEventHandle){con.disconnect(this._drawEventHandle);this._drawEventHandle=null;}this.map.setMapCursor(this.DEFAULT);},handleCenterAndFlashGraphic:function(_53d){this.centerMapAtGraphic(_53d);this.flashGraphic(_53d);},centerMapAtGraphic:function(_53e){var _53f=this.getGraphicCenter(_53e);if(_53f){this.centerMapAtPoint(_53f);}},centerMapAtPoint:function(_540){this.map.centerAt(_540);},flashGraphic:function(_541){if(_541==null||!(_541 instanceof _50c)||this.graphicFlashInProgress){return;}this.currentGraphicFlashCount=0;this.currentFlashGraphic=_541;this.graphicFlashTimer=new _50a.Timer(500);var _542=_541.visible;_541.hide();this.graphicFlashTimer.onTick=lang.hitch(this,function(_543){try{if(this.currentGraphicFlashCount==this.maxGraphicFlashCount){this.currentGraphicFlashCount=0;this.graphicFlashTimer.stop();this.graphicFlashInProgress=false;if(_543){this.currentFlashGraphic.show();}else{this.currentFlashGraphic.hide();}}else{if(this.currentFlashGraphic.visible){if(this.currentFlashGraphic!=null){this.currentFlashGraphic.hide();}}else{if(this.currentFlashGraphic!=null){this.currentFlashGraphic.show();this.currentGraphicFlashCount++;}}}}catch(err){}},_542);this.graphicFlashInProgress=true;this.graphicFlashTimer.start();},getGraphicCenter:function(_544){if(_544==null){return;}if(_544.geometry==null){return;}var _545=_544.geometry;if(_545 instanceof _50d){return _545;}else{if(_545 instanceof _50e||_545 instanceof _50f){var _546=_545.getExtent();return _546.getCenter();}else{if(_545 instanceof _510){return _545.getCenter();}}}return null;},flashPoint:function(pt,_547){if(_547==null){_547=20;}var _548;if(pt==null||!(pt instanceof _50d)){return;}var _549=new _511(_511.STYLE_X,2,new _512(_512.STYLE_SOLID,new _50b([255,0,0])));_548=new _50c(pt,_549);var opac=1;setTimeout(function(){_509.publish(VIEWER_GLOBALS.EVENTS.MAP.GRAPHICS.ADD,_548);var i_id=setInterval(function(){_549.setColor(new _50b([255,0,0,opac]));_548.setSymbol(_549);if(opac<0.01){clearInterval(i_id);_509.publish(VIEWER_GLOBALS.EVENTS.MAP.GRAPHICS.REMOVE,_548);}opac-=0.01;},_547);},700);}});});},"url:esriviewer/ui/toolbar/template/ActionsToolbarWidgetTemplate.html":"<div class='viewerMainToolbar headerFooterBg'>\r\n    <div class=\"mainToolbarContents\" data-dojo-attach-point=\"mainToolbarContents\">\r\n            <span data-bind=\"visible: toolsButtonVisible\"\r\n                  data-dojo-type=\"dijit/form/DropDownButton\"\r\n                  data-dojo-attach-point=\"toolsDropDownButton\"\r\n                  data-dojo-props=\"iconClass:'commonIcons16 wrench'\">\r\n                <span>Tools</span>\r\n            </span>\r\n\r\n        <div data-dojo-attach-point=\"layersButton\" class=\"actionsToolbarButton\"\r\n             data-bind=\"visible: layersButtonVisible\">\r\n            <div class=\"commonIcons16 layerList actionsToolbarIcon\"></div>\r\n            <div class=\"actionsToolbarText\">Layers</div>\r\n        </div>\r\n        <div data-dojo-attach-point=\"bookmarksButton\" class=\"actionsToolbarButton\"\r\n             data-bind=\"visible:showBookmarksButton\"\r\n             data-dojo-attach-event=\"onclick:toggleBookmarksListing\">\r\n            <div class=\"commonIcons16 bookmark actionsToolbarIcon\"></div>\r\n            <div class=\"actionsToolbarText\">Bookmarks</div>\r\n        </div>\r\n        <div data-dojo-attach-point=\"basemapsButton\" class=\"actionsToolbarButton\"\r\n             data-dojo-attach-event=\"onclick:toggleBasemapsListing\">\r\n            <div class=\"commonIcons16 blocks actionsToolbarIcon\"></div>\r\n            <div class=\"actionsToolbarText\">Basemaps</div>\r\n\r\n        </div>\r\n        <span data-bind=\"visible:showLabelsButton\">\r\n            <span data-dojo-type=\"dijit/form/ToggleButton\"\r\n                  data-dojo-attach-point=\"labelsButton\"\r\n                  data-dojo-props=\"iconClass:'dijitCheckBoxIcon'\">Labels</span>\r\n        </span>\r\n\r\n        <div data-dojo-attach-point=\"addOnContentContainer\"></div>\r\n        <div class=\"locateToolbarContainer locateToolbarContainerOnMap\" data-dojo-attach-point=\"locateToolbarContainer\"\r\n             data-bind=\"visible: showLocator\">\r\n            <input value=\"${locateDefaultInput}\" type=\"text\" class=\"locateTextBox defaultBorder\"\r\n                   data-dojo-attach-point=\"locateTextBox\"/>\r\n\r\n            <div data-dojo-attach-point=\"locateButton\" title=\"Locate\"\r\n                 class=\"defaultBorder searchButton searchButtonIcon\"></div>\r\n            <div data-dojo-attach-point=\"configureLocateButton\"\r\n                 data-bind=\"visible:showConfigureLocatorsButton\"\r\n                 data-dojo-attach-event=\"onclick:toggleConfigureLocatorTooltip\" title=\"Configure Locate\"\r\n                 class=\"defaultBorder configureLocate configureButtonIcon\"></div>\r\n        </div>\r\n        <div class=\"extentActionsToolbar\" data-bind=\"visible:showExtentActionsToolbar\">\r\n            <div class=\"smallActionsToolbarButton\">\r\n                <div data-dojo-attach-point=\"initialExtentButton\" title=\"Initial Extent\"\r\n                     class=\"commonIcons16 firstItem\"\r\n                     data-dojo-attach-event=\"onclick:handleGotoInitialExtent\"></div>\r\n            </div>\r\n            <div class=\"smallActionsToolbarButton\">\r\n                <div data-dojo-attach-point=\"prevExtentButton\" title=\"Previous Extent\"\r\n                     class=\"commonIcons16 previousGray\"\r\n                     data-bind=\"css:{previous: prevExtentEnabled()}\"\r\n                     data-dojo-attach-event=\"onclick:handleGotoPrevExtent\"></div>\r\n            </div>\r\n            <div class=\"smallActionsToolbarButton\">\r\n                <div data-dojo-attach-point=\"nextExtentButton\" title=\"Full Extent\"\r\n                     class=\"commonIcons16 locationGoTo\"\r\n                     data-dojo-attach-event=\"onclick:handleGotoFullExtent\"></div>\r\n            </div>\r\n            <div class=\"smallActionsToolbarButton\">\r\n                <div data-dojo-attach-point=\"nextExtentButton\" title=\"Next Extent\"\r\n                     class=\"commonIcons16 nextGray\"\r\n                     data-bind=\"css:{next: nextExtentEnabled()}\"\r\n                     data-dojo-attach-event=\"onclick:handleGotoNextExtent\"></div>\r\n            </div>\r\n            <div class=\"smallActionsToolbarButton\">\r\n                <div data-dojo-attach-point=\"lastExtentButton\" title=\"Last Extent\"\r\n                     class=\"commonIcons16 lastItem\"\r\n                     data-dojo-attach-event=\"onclick:handleGotoLastExtent\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","dijit/ColorPalette":function(){require({cache:{"url:dijit/templates/ColorPalette.html":"<div class=\"dijitInline dijitColorPalette\">\n\t<table dojoAttachPoint=\"paletteTableNode\" class=\"dijitPaletteTable\" cellSpacing=\"0\" cellPadding=\"0\" role=\"grid\">\n\t\t<tbody data-dojo-attach-point=\"gridNode\"></tbody>\n\t</table>\n</div>\n"}});define("dijit/ColorPalette",["require","dojo/text!./templates/ColorPalette.html","./_Widget","./_TemplatedMixin","./_PaletteMixin","./hccss","dojo/i18n","dojo/_base/Color","dojo/_base/declare","dojo/dom-construct","dojo/string","dojo/i18n!dojo/nls/colors","dojo/colors"],function(_54a,_54b,_54c,_54d,_54e,has,i18n,_54f,_550,_551,_552){var _553=_550("dijit.ColorPalette",[_54c,_54d,_54e],{palette:"7x10",_palettes:{"7x10":[["white","seashell","cornsilk","lemonchiffon","lightyellow","palegreen","paleturquoise","lightcyan","lavender","plum"],["lightgray","pink","bisque","moccasin","khaki","lightgreen","lightseagreen","lightskyblue","cornflowerblue","violet"],["silver","lightcoral","sandybrown","orange","palegoldenrod","chartreuse","mediumturquoise","skyblue","mediumslateblue","orchid"],["gray","red","orangered","darkorange","yellow","limegreen","darkseagreen","royalblue","slateblue","mediumorchid"],["dimgray","crimson","chocolate","coral","gold","forestgreen","seagreen","blue","blueviolet","darkorchid"],["darkslategray","firebrick","saddlebrown","sienna","olive","green","darkcyan","mediumblue","darkslateblue","darkmagenta"],["black","darkred","maroon","brown","darkolivegreen","darkgreen","midnightblue","navy","indigo","purple"]],"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},templateString:_54b,baseClass:"dijitColorPalette",_dyeFactory:function(_554,row,col,_555){return new this._dyeClass(_554,row,col,_555);},buildRendering:function(){this.inherited(arguments);this._dyeClass=_550(_553._Color,{palette:this.palette});this._preparePalette(this._palettes[this.palette],i18n.getLocalization("dojo","colors",this.lang));}});_553._Color=_550("dijit._Color",_54f,{template:"<span class='dijitInline dijitPaletteImg'>"+"<img src='${blankGif}' alt='${alt}' title='${title}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/>"+"</span>",hcTemplate:"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'>"+"<img src='${image}' alt='${alt}' title='${title}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/>"+"</span>",_imagePaths:{"7x10":_54a.toUrl("./themes/a11y/colors7x10.png"),"3x4":_54a.toUrl("./themes/a11y/colors3x4.png")},constructor:function(_556,row,col,_557){this._title=_557;this._row=row;this._col=col;this.setColor(_54f.named[_556]);},getValue:function(){return this.toHex();},fillCell:function(cell,_558){var html=_552.substitute(has("highcontrast")?this.hcTemplate:this.template,{color:this.toHex(),blankGif:_558,alt:this._title,title:this._title,image:this._imagePaths[this.palette].toString(),left:this._col*-20-5,top:this._row*-20-5,size:this.palette=="7x10"?"height: 145px; width: 206px":"height: 64px; width: 86px"});_551.place(html,cell);}});return _553;});},"esriviewer/ui/base/UIWidget":function(){define("esriviewer/ui/base/UIWidget",["dojo/_base/declare","dijit/_Widget","dojo/_base/lang","dojo/_base/connect","dojo/dom-class","dojo/dom-construct","dojo/dom-style","../../base/ConfigurationEntryMixin"],function(_559,_55a,lang,con,_55b,_55c,_55d,_55e){return _559([_55a,_55e],{defaultPositioning:{x:0,y:0},animateOnPlace:true,animate:false,animation:"fadeIn animated",positioningParamName:null,isPositionedByConfig:false,LEFT_LOWER:"left",RIGHT_LOWER:"right",TOP_LOWER:"top",BOTTOM_LOWER:"bottom",constructor:function(){this.creationPositioning=lang.mixin({},this.defaultPositioning);this.connects=[];this.subscribes=[];},postCreate:function(){this.loadViewerConfigurationData();this.initListeners();if(this.isPositionedByConfig){this.positionNode();}},initListeners:function(){},destroy:function(){this.clearSubscribes();this.clearConnects();},placeAt:function(node){_55c.place(this.domNode,node);if(this.animate&&this.animateOnPlace){this._animateWidget();}return this;},clearSubscribes:function(){if(lang.isArray(this.subscribes)){for(var i=0;i<this.subscribes.length;i++){this.subscribes[i].remove();}}},positionNode:function(){_55d.set(this.domNode,"position","absolute");var _55f=VIEWER_GLOBALS.windowPositioning[this.positioningParamName];var _560=(_55f!=null&&_55f.x!=null)?_55f.x:this.defaultPositioning.x;var _561=(_55f!=null&&_55f.y!=null)?_55f.y:this.defaultPositioning.y;var _562="left";var _563="top";if(_55f){if(_55f.alignY!=null&&lang.isString(_55f.alignY)){var _564=_55f.alignY.toLowerCase();if(_564===this.TOP_LOWER||_564===this.BOTTOM_LOWER){_563=_564;}}if(_55f.alignX!=null&&lang.isString(_55f.alignX)){var _565=_55f.alignX.toLowerCase();if(_565===this.LEFT_LOWER||_565===this.RIGHT_LOWER){_562=_565;}}}_55d.set(this.domNode,_562,_560+"px");_55d.set(this.domNode,_563,_561+"px");this.creationPositioning={x:_560,y:_561,alignX:_562,alignY:_563};},clearConnects:function(){if(lang.isArray(this.connects)){for(var i=0;i<this.connects.length;i++){if(this.connects[i].remove!=null&&lang.isFunction(this.connects[i].remove)){this.connects[i].remove();}else{con.disconnect(this.connects[i]);}}}},show:function(){_55d.set(this.domNode,"display","block");},hide:function(){_55d.set(this.domNode,"display","none");},hidePopups:function(){},_animateWidget:function(){this._removeAnimationClasses();_55b.add(this.domNode,this.animation);},_removeAnimationClasses:function(){_55b.remove(this.domNode,this.animation);},_handleContentAnimation:function(_566,node){if(_566){_55b.add(node,VIEWER_GLOBALS.ANIMATIONS.FADE.IN);}else{_55b.remove(node,VIEWER_GLOBALS.ANIMATIONS.FADE.IN);}}});});},"dojox/storage":function(){define("dojox/storage",["./storage/_common"],function(){});},"dojox/main":function(){define("dojox/main",["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"undefined":undefined,"esriviewer/ui/measure/MeasureWidget":function(){require({cache:{"url:esriviewer/ui/measure/template/MeasureWidgetTemplate.html":"<div class=\"measurementWidget\">\r\n    <div class=\"measureIcon areaIcon\"\r\n         title=\"Area\"\r\n         data-bind=\"click:handleAreaButtonClick, css: {measurementIconSelected: areaActive}\"></div>\r\n    <div class=\"measureIcon distanceIcon\"\r\n         title=\"Distance\"\r\n         data-bind=\"click:handleDistanceButtonClick, css: {measurementIconSelected: distanceActive}\"></div>\r\n    <div class=\"measureIcon locationIcon\"\r\n         title=\"Location\"\r\n         data-bind=\"click:handleLocationButtonClick, css: {measurementIconSelected: locationActive}\"></div>\r\n    <div class=\"measurementSpacer\">|</div>\r\n    <select data-bind=\"visible: areaActive, options: areaMeasurementUnits ,value:selectedAreaUnits, optionsText: 'label', optionsValue: 'value'\">\r\n    </select>\r\n    <select data-bind=\"visible: distanceActive, options: distanceMeasurementUnits ,value:selectedDistanceUnits, optionsText: 'label', optionsValue: 'value'\">\r\n    </select>\r\n    <select data-bind=\"visible: locationActive, options: locationUnits ,value:selectedLocationUnits, optionsText: 'label', optionsValue: 'value'\">\r\n    </select>\r\n\r\n\r\n    <div class=\"measurementResultsContainer\">\r\n        <span data-bind=\"text: measureMethodText\" class=\"measureMethodText\"></span>\r\n        <span data-bind=\"text: resultsText\" class=\"measureResultsText\"></span>\r\n        <span data-bind=\"text: unitsText\"  class=\"measureUnitsText\"></span>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/measure/MeasureWidget",["dojo/_base/declare","dojo/_base/lang","dojo/_base/Color","dojo/topic","../base/UITemplatedWidget","dojo/text!./template/MeasureWidgetTemplate.html","./model/MeasureWidgetViewModel","../draw/base/MapDrawSupport","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleMarkerSymbol"],function(_567,lang,_568,_569,_56a,_56b,_56c,_56d,_56e,_56f,_570,_571,_572,_573){return _567([_56a,_56d],{measureFloatPrecision:2,locationFloatPrecision:3,templateString:_56b,AREA:"area",DISTANCE:"distance",LOCATION:"location",constructor:function(){this.currentGeometry=null;this.currentGraphic=null;},postCreate:function(){this.distanceResponseCallback=lang.hitch(this,this.handleDistanceResponse);this.areaResponseCallback=lang.hitch(this,this.handleAreaResponse);this.locationResponseCallback=lang.hitch(this,this.handleLocationResponse);this.initSymbology();this.viewModel=new _56c();this.viewModel.areaActive.subscribe(lang.hitch(this,this.handleAreaActiveChanged));this.viewModel.distanceActive.subscribe(lang.hitch(this,this.handleDistanceActiveChanged));this.viewModel.locationActive.subscribe(lang.hitch(this,this.handleLocationActiveChanged));this.viewModel.selectedAreaUnits.subscribe(lang.hitch(this,this.handleSelectedAreaUnitsChanged));this.viewModel.selectedDistanceUnits.subscribe(lang.hitch(this,this.handleSelectedDistanceUnitsChanged));this.viewModel.selectedLocationUnits.subscribe(lang.hitch(this,this.handleSelectedLocationUnitsChanged));ko.applyBindings(this.viewModel,this.domNode);},handleSelectedLocationUnitsChanged:function(_574){if(this.currentGeometry&&this.currentGeometry instanceof _56e){_569.publish(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.PROJECT_TO_LAT_LON,this.currentGeometry,this.locationResponseCallback);}},handleSelectedDistanceUnitsChanged:function(_575){if(this.currentGeometry&&this.currentGeometry instanceof _56f){_569.publish(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.CALCULATE_DISTANCE,this.currentGeometry,_575,this.distanceResponseCallback);}},handleSelectedAreaUnitsChanged:function(_576){if(this.currentGeometry&&this.currentGeometry instanceof _570){_569.publish(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.CALCULATE_AREA,this.currentGeometry,_576,this.areaResponseCallback);}},initSymbology:function(){this.polygonSymbol=new _571(_571.STYLE_SOLID,new _572(_572.STYLE_SOLID,new _568([0,0,255]),1),new _568([0,0,255,0]));this.pointSymbol=new _573(_573.STYLE_X,1,new _572(_572.STYLE_SOLID,new _568("blue")));this.lineSymbol=new _572(_572.STYLE_SOLID,new _568([0,0,255]),1);},handleAreaActiveChanged:function(_577){if(_577){this.handlePolygonDraw();this.activeMode=this.AREA;}else{if(this.activeMode==this.AREA){this.activeMode="";this.clearCurrentGraphic();this.clearDraw();}}},handleDistanceActiveChanged:function(_578){if(_578){this.handleLineDraw();this.activeMode=this.DISTANCE;}else{if(this.activeMode==this.DISTANCE){this.activeMode="";this.clearCurrentGraphic();this.clearDraw();}}},handleLocationActiveChanged:function(_579){if(_579){this.handlePointDraw();this.activeMode=this.LOCATION;}else{if(this.activeMode==this.LOCATION){this.activeMode="";this.clearCurrentGraphic();this.clearDraw();}}},clearDraw:function(){this.inherited(arguments);this.viewModel.areaActive(false);this.viewModel.distanceActive(false);this.viewModel.locationActive(false);this.viewModel.measureMethodText("");this.viewModel.unitsText("");this.viewModel.resultsText("");_569.publish(VIEWER_GLOBALS.EVENTS.DRAW.USER.DRAW_CANCEL);},clearCurrentGraphic:function(){if(this.currentGraphic){_569.publish(VIEWER_GLOBALS.EVENTS.MAP.GRAPHICS.REMOVE,this.currentGraphic);this.currentGraphic=null;}},handleLineDraw:function(){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_LINE);},handlePolygonDraw:function(){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYGON);},handlePointDraw:function(){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POINT);},geometryAdded:function(_57a){this.currentGeometry=_57a;this.inherited(arguments);if(this.viewModel.locationActive()){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POINT);_569.publish(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.PROJECT_TO_LAT_LON,_57a,this.locationResponseCallback);}if(this.viewModel.areaActive()){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYGON);_569.publish(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.CALCULATE_AREA,_57a,this.viewModel.selectedAreaUnits(),this.areaResponseCallback);}if(this.viewModel.distanceActive()){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_LINE);_569.publish(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.CALCULATE_DISTANCE,_57a,this.viewModel.selectedDistanceUnits(),this.distanceResponseCallback);}},handleDistanceResponse:function(_57b){if(_57b==null||!lang.isObject(_57b)||_57b.lengths==null||!lang.isArray(_57b.lengths)||_57b.lengths.length<1){return;}this.viewModel.measureMethodText("Distance: ");this.viewModel.resultsText(REG_EXP_UTILS.numberToStringWithCommas(_57b.lengths[0].toFixed(this.measureFloatPrecision)));this.viewModel.unitsText(this.viewModel.getLabelForDistanceValue(this.viewModel.selectedDistanceUnits()));},handleAreaResponse:function(_57c){if(_57c==null||!lang.isObject(_57c)||_57c.areas==null||!lang.isArray(_57c.areas)||_57c.areas.length<1){return;}var area=_57c.areas[0];this.viewModel.measureMethodText("Area: ");this.viewModel.unitsText(this.viewModel.getLabelForAreaValue(this.viewModel.selectedAreaUnits()));this.viewModel.resultsText(REG_EXP_UTILS.numberToStringWithCommas(area.toFixed(this.measureFloatPrecision)));},handleLocationResponse:function(_57d){if(_57d==null||!lang.isArray(_57d)||_57d.length<1){return;}var pt=_57d[0];this.viewModel.measureMethodText("");this.viewModel.unitsText("");if(this.viewModel.selectedLocationUnits()==VIEWER_GLOBALS.ESRI_UNITS.DEGREE_MINUTE_SECONDS){this.viewModel.resultsText("Latitude: "+GEOMETRY_UTILS.ddToDMSString(pt.y)+" Longitude:"+GEOMETRY_UTILS.ddToDMSString(pt.x));}else{this.viewModel.resultsText("Latitude: "+pt.y.toFixed(this.locationFloatPrecision)+" Longitude: "+pt.x.toFixed(this.locationFloatPrecision));}},onAnnotationCreated:function(_57e){if(_57e!=null&&_57e.graphic!=null){this.inherited(arguments);this.clearCurrentGraphic();this.currentGraphic=_57e.graphic;_569.publish(VIEWER_GLOBALS.EVENTS.MAP.GRAPHICS.ADD,_57e.graphic);}},reset:function(){this.clearCurrentGraphic();this.clearDraw();}});});},"esriviewer/map/geometry/base/ProjectionUtils":function(){define("esriviewer/map/geometry/base/ProjectionUtils",["dojo/_base/declare","dojo/_base/lang","dojo/topic","esri/geometry/webMercatorUtils","esri/geometry/Point","esri/SpatialReference"],function(_57f,lang,_580,_581,_582,_583){return _57f([],{DEG_2_RAD:Math.PI/180,BLOCK_SIZE:100000,GRIDSQUARE_SET_COL_SIZE:8,GRIDSQUARE_SET_ROW_SIZE:20,UNDEFINED_STR:"undefined",WEB_MERCATOR_WKID:102100,WGS_84_WKID:4326,EASTING_OFFSET:500000,NORTHING_OFFSET:10000000,k0:0.9996,RAD_2_DEG:(180/Math.PI),EQUATORIAL_RADIUS_NAD83:6378137,EQUATORIAL_RADIUS_NAD27:6378206.4,ECC_SQUARED_NAD83:0.006694380023,ECC_SQUARED_NAD27:0.006768658,UTMGzdLetters:"NPQRSTUVWX",USNGSqEast:"ABCDEFGHJKLMNPQRSTUVWXYZ",USNGSqLetOdd:"ABCDEFGHJKLMNPQRSTUV",USNGSqLetEven:"FGHJKLMNPQRSTUVABCDE",zoneBase:[1.1,2,2.9,3.8,4.7,5.6,6.5,7.3,8.2,9.1,0,0.8,1.7,2.6,3.5,4.4,5.3,6.2,7,7.9],segBase:[0,2,2,2,4,4,6,6,8,8,0,0,0,2,2,4,4,6,6,6],isNad83Mode:true,constructor:function(){if(this.isNad83Mode){this.EQUATORIAL_RADIUS=this.EQUATORIAL_RADIUS_NAD83;this.ECC_SQUARED=this.ECC_SQUARED_NAD83;}else{this.EQUATORIAL_RADIUS=this.EQUATORIAL_RADIUS_NAD27;this.ECC_SQUARED=this.ECC_SQUARED_NAD27;}this.ECC_PRIME_SQUARED=this.ECC_SQUARED/(1-this.ECC_SQUARED);this.E1=(1-Math.sqrt(1-this.ECC_SQUARED))/(1+Math.sqrt(1-this.ECC_SQUARED));},setMapSpatialReference:function(_584){this.mapSpatialReference=_584;},graphicsToMapSpatialReference:function(_585){if(_585==null){return null;}if(!lang.isArray(_585)){_585=[_585];}if(_585.length<1){return [];}if((this.mapSpatialReference.wkid===this.WEB_MERCATOR_WKID||this.mapSpatialReference.wkid===this.WGS_84_WKID)&&_585[0].geometry.spatialReference.wkid===this.WEB_MERCATOR_WKID||_585[0].geometry.spatialReference.wkid===this.WGS_84_WKID){var _586=null;if(this.mapSpatialReference.wkid===this.WEB_MERCATOR_WKID&&_585[0].geometry.spatialReference.wkid===this.WGS_84_WKID){_586=_581.geographicToWebMercator;}else{if(_585[0].geometry.spatialReference.wkid===this.WEB_MERCATOR_WKID&&this.mapSpatialReference.wkid===this.WGS_84_WKID){_586=_581.webMercatorToGeographic;}}if(lang.isFunction(_586)){var _587;for(var i=0;i<_585.length;i++){_587=_585[i];_587.geometry=_586(_587.geometry);}}}return _585;},geometryToMapSpatialReference:function(_588){if(_588==null){return null;}if(!lang.isArray(_588)){_588=[_588];}if(_588.length<1){return [];}if(this.mapSpatialReference.wkid==_588[0].spatialReference.wkid){return _588;}var _589=null;if((this.mapSpatialReference.wkid===this.WEB_MERCATOR_WKID||this.mapSpatialReference.wkid===this.WGS_84_WKID)&&_588[0].spatialReference.wkid===this.WEB_MERCATOR_WKID||_588[0].spatialReference.wkid===this.WGS_84_WKID){var _58a=null;if(this.mapSpatialReference.wkid===this.WEB_MERCATOR_WKID&&_588[0].spatialReference.wkid===this.WGS_84_WKID){_58a=_581.geographicToWebMercator;}else{if(_588[0].spatialReference.wkid===this.WEB_MERCATOR_WKID&&this.mapSpatialReference.wkid===this.WGS_84_WKID){_58a=_581.webMercatorToGeographic;}}if(lang.isFunction(_58a)){_589=[];for(var i=0;i<_588.length;i++){_589.push(_58a(_588[i]));}}}return _589;},USNGtoLL:function(_58b,_58c){var _58d=[];var _58e={};this.parseUSNG_str(_58b,_58e);var _58f={};this.USNGtoUTM(_58e.zone,_58e.letN,_58e.sq1,_58e.sq2,_58e.east,_58e.north,_58f);if(_58e.letN<"N"){_58f.N-=this.NORTHING_OFFSET;}this.UTMtoLL(_58f.N,_58f.E,_58e.zone,_58f);_58d[0]=_58f.lat;_58d[1]=_58f.lon;var _590=new _582(_58f.lon,_58f.lat,new _583(4326));if(_58c&&lang.isFunction(_58c)){_58c(_590);}else{return _590;}},USNGtoUTM:function(zone,letN,sq1,sq2,east,_591,ret){var _592=this.USNGSqEast.indexOf(sq1);var _593=1+_592%8;var _594;var _595="CDEFGHJKLMNPQRSTUVWX".indexOf(letN);if(zone%2){_594="ABCDEFGHJKLMNPQRSTUV".indexOf(sq2);}else{_594="FGHJKLMNPQRSTUVABCDE".indexOf(sq2);}var _596=this.zoneBase[_595];var _597=Number(this.segBase[_595])+_594/10;if(_597<_596){_597+=2;}ret.N=_597*1000000+Number(_591)*Math.pow(10,5-_591.length);ret.E=_593*100000+Number(east)*Math.pow(10,5-east.length);ret.zone=zone;ret.letter=letN;},parseUSNG_str:function(_598,_599){var j=0;var k;var _59a=[];var _59b=[];_59b=_598.toUpperCase();var _59c=/%20/g;_59a=_59b.replace(_59c,"");_59c=/ /g;_59a=_59b.replace(_59c,"");if(_59a.length<7){return 0;}_599.zone=_59a.charAt(j++)*10+_59a.charAt(j++)*1;_599.letN=_59a.charAt(j++);_599.sq1=_59a.charAt(j++);_599.sq2=_59a.charAt(j++);_599.precision=(_59a.length-j)/2;_599.east="";_599.north="";for(k=0;k<_599.precision;k++){_599.east+=_59a.charAt(j++);}if(_59a[j]==" "){j++;}for(k=0;k<_599.precision;k++){_599.north+=_59a.charAt(j++);}},UTMtoLL:function(_59d,_59e,_59f,ret){var xUTM=parseFloat(_59e)-this.EASTING_OFFSET;var yUTM=parseFloat(_59d);var _5a0=parseInt(_59f,10);var _5a1=(_5a0-1)*6-180+3;var M=yUTM/this.k0;var mu=M/(this.EQUATORIAL_RADIUS*(1-this.ECC_SQUARED/4-3*this.ECC_SQUARED*this.ECC_SQUARED/64-5*this.ECC_SQUARED*this.ECC_SQUARED*this.ECC_SQUARED/256));var _5a2=mu+(3*this.E1/2-27*this.E1*this.E1*this.E1/32)*Math.sin(2*mu)+(21*this.E1*this.E1/16-55*this.E1*this.E1*this.E1*this.E1/32)*Math.sin(4*mu)+(151*this.E1*this.E1*this.E1/96)*Math.sin(6*mu);var phi1=_5a2*this.RAD_2_DEG;var N1=this.EQUATORIAL_RADIUS/Math.sqrt(1-this.ECC_SQUARED*Math.sin(_5a2)*Math.sin(_5a2));var T1=Math.tan(_5a2)*Math.tan(_5a2);var C1=this.ECC_PRIME_SQUARED*Math.cos(_5a2)*Math.cos(_5a2);var R1=this.EQUATORIAL_RADIUS*(1-this.ECC_SQUARED)/Math.pow(1-this.ECC_SQUARED*Math.sin(_5a2)*Math.sin(_5a2),1.5);var D=xUTM/(N1*this.k0);var lat=_5a2-(N1*Math.tan(_5a2)/R1)*(D*D/2-(5+3*T1+10*C1-4*C1*C1-9*this.ECC_PRIME_SQUARED)*D*D*D*D/24+(61+90*T1+298*C1+45*T1*T1-252*this.ECC_PRIME_SQUARED-3*C1*C1)*D*D*D*D*D*D/720);lat=lat*this.RAD_2_DEG;var lon=(D-(1+2*T1+C1)*D*D*D/6+(5-2*C1+28*T1-3*C1*C1+8*this.ECC_PRIME_SQUARED+24*T1*T1)*D*D*D*D*D/120)/Math.cos(_5a2);lon=_5a1+lon*this.RAD_2_DEG;ret.lat=lat;ret.lon=lon;},LLtoMGRS:function(lat,lon,_5a3){var _5a4="";var _5a5=this.LLtoUSNG(lat,lon,_5a3);var _5a6=/ /g;return _5a5.replace(_5a6,"");},LLtoUSNG:function(lat,lon,_5a7){var USNG;lat=parseFloat(lat);lon=parseFloat(lon);var _5a8=this.LLtoUTM(lat,lon);var _5a9=_5a8.easting;var _5aa=_5a8.northing;if(lat<0){_5aa+=this.NORTHING_OFFSET;}var _5ab=this.getZoneNumber(lat,lon);var _5ac=this.findGridLetters(_5ab,_5aa,_5a9);var _5ad=Math.round(_5aa)%this.BLOCK_SIZE;var _5ae=Math.round(_5a9)%this.BLOCK_SIZE;_5ad=Math.floor(_5ad/Math.pow(10,(5-_5a7)));_5ae=Math.floor(_5ae/Math.pow(10,(5-_5a7)));USNG=this.getZoneNumber(lat,lon)+this.UTMLetterDesignator(lat)+" "+_5ac+" ";var i;for(i=String(_5ae).length;i<_5a7;i++){USNG+="0";}USNG+=_5ae+" ";for(i=String(_5ad).length;i<_5a7;i++){USNG+="0";}return USNG;},LLtoUTM:function(lat,lon,zone){lat=parseFloat(lat);lon=parseFloat(lon);if(lat>84||lat<-80){return this.UNDEFINED_STR;}var _5af=(lon+180)-parseInt((lon+180)/360,10)*360-180;var _5b0=lat*this.DEG_2_RAD;var _5b1=_5af*this.DEG_2_RAD;var _5b2=this.getZoneNumber(lat,lon);var _5b3=(_5b2-1)*6-180+3;var _5b4=_5b3*this.DEG_2_RAD;var _5b5=_5b2+""+this.UTMLetterDesignator(lat)+" ";var N=this.EQUATORIAL_RADIUS/Math.sqrt(1-this.ECC_SQUARED*Math.sin(_5b0)*Math.sin(_5b0));var T=Math.tan(_5b0)*Math.tan(_5b0);var C=this.ECC_PRIME_SQUARED*Math.cos(_5b0)*Math.cos(_5b0);var A=Math.cos(_5b0)*(_5b1-_5b4);var M=this.EQUATORIAL_RADIUS*((1-this.ECC_SQUARED/4-3*(this.ECC_SQUARED*this.ECC_SQUARED)/64-5*(this.ECC_SQUARED*this.ECC_SQUARED*this.ECC_SQUARED)/256)*_5b0-(3*this.ECC_SQUARED/8+3*this.ECC_SQUARED*this.ECC_SQUARED/32+45*this.ECC_SQUARED*this.ECC_SQUARED*this.ECC_SQUARED/1024)*Math.sin(2*_5b0)+(15*this.ECC_SQUARED*this.ECC_SQUARED/256+45*this.ECC_SQUARED*this.ECC_SQUARED*this.ECC_SQUARED/1024)*Math.sin(4*_5b0)-(35*this.ECC_SQUARED*this.ECC_SQUARED*this.ECC_SQUARED/3072)*Math.sin(6*_5b0));var _5b6=(this.k0*N*(A+(1-T+C)*(A*A*A)/6+(5-18*T+T*T+72*C-58*this.ECC_PRIME_SQUARED)*(A*A*A*A*A)/120)+this.EASTING_OFFSET);var _5b7=(this.k0*(M+N*Math.tan(_5b0)*((A*A)/2+(5-T+9*C+4*C*C)*(A*A*A*A)/24+(61-58*T+T*T+600*C-330*this.ECC_PRIME_SQUARED)*(A*A*A*A*A*A)/720)));return {easting:_5b6,northing:_5b7,zone:_5b2};},getZoneNumber:function(lat,lon){lat=parseFloat(lat);lon=parseFloat(lon);var _5b8=(lon+180)-parseInt((lon+180)/360,10)*360-180;var _5b9=parseInt((_5b8+180)/6,10)+1;if(lat>=56&&lat<64&&_5b8>=3&&_5b8<12){_5b9=32;}if(lat>=72&&lat<84){if(_5b8>=0&&_5b8<9){_5b9=31;}else{if(_5b8>=9&&_5b8<21){_5b9=33;}else{if(_5b8>=21&&_5b8<33){_5b9=35;}else{if(_5b8>=33&&_5b8<42){_5b9=37;}}}}}return _5b9;},findGridLetters:function(_5ba,_5bb,_5bc){_5ba=parseInt(_5ba,10);_5bb=parseFloat(_5bb);_5bc=parseFloat(_5bc);row=1;var _5bd=Math.round(_5bb);while(_5bd>=this.BLOCK_SIZE){_5bd=_5bd-this.BLOCK_SIZE;row++;}var row=row%this.GRIDSQUARE_SET_ROW_SIZE;var col=0;var _5be=Math.round(_5bc);while(_5be>=this.BLOCK_SIZE){_5be=_5be-this.BLOCK_SIZE;col++;}col=col%this.GRIDSQUARE_SET_COL_SIZE;return this.lettersHelper(this.findSet(_5ba),row,col);},findSet:function(_5bf){_5bf=parseInt(_5bf,10);_5bf=_5bf%6;switch(_5bf){case 0:return 6;break;case 1:return 1;break;case 2:return 2;break;case 3:return 3;break;case 4:return 4;break;case 5:return 5;break;default:return -1;break;}},lettersHelper:function(set,row,col){if(row==0){row=this.GRIDSQUARE_SET_ROW_SIZE-1;}else{row--;}if(col==0){col=this.GRIDSQUARE_SET_COL_SIZE-1;}else{col--;}var l1;var l2;switch(set){case 1:l1="ABCDEFGH";l2="ABCDEFGHJKLMNPQRSTUV";return l1.charAt(col)+l2.charAt(row);break;case 2:l1="JKLMNPQR";l2="FGHJKLMNPQRSTUVABCDE";return l1.charAt(col)+l2.charAt(row);break;case 3:l1="STUVWXYZ";l2="ABCDEFGHJKLMNPQRSTUV";return l1.charAt(col)+l2.charAt(row);break;case 4:l1="ABCDEFGH";l2="FGHJKLMNPQRSTUVABCDE";return l1.charAt(col)+l2.charAt(row);break;case 5:l1="JKLMNPQR";l2="ABCDEFGHJKLMNPQRSTUV";return l1.charAt(col)+l2.charAt(row);break;case 6:l1="STUVWXYZ";l2="FGHJKLMNPQRSTUVABCDE";return l1.charAt(col)+l2.charAt(row);break;}},UTMLetterDesignator:function(lat){lat=parseFloat(lat);var _5c0;if((84>=lat)&&(lat>=72)){_5c0="X";}else{if((72>lat)&&(lat>=64)){_5c0="W";}else{if((64>lat)&&(lat>=56)){_5c0="V";}else{if((56>lat)&&(lat>=48)){_5c0="U";}else{if((48>lat)&&(lat>=40)){_5c0="T";}else{if((40>lat)&&(lat>=32)){_5c0="S";}else{if((32>lat)&&(lat>=24)){_5c0="R";}else{if((24>lat)&&(lat>=16)){_5c0="Q";}else{if((16>lat)&&(lat>=8)){_5c0="P";}else{if((8>lat)&&(lat>=0)){_5c0="N";}else{if((0>lat)&&(lat>=-8)){_5c0="M";}else{if((-8>lat)&&(lat>=-16)){_5c0="L";}else{if((-16>lat)&&(lat>=-24)){_5c0="K";}else{if((-24>lat)&&(lat>=-32)){_5c0="J";}else{if((-32>lat)&&(lat>=-40)){_5c0="H";}else{if((-40>lat)&&(lat>=-48)){_5c0="G";}else{if((-48>lat)&&(lat>=-56)){_5c0="F";}else{if((-56>lat)&&(lat>=-64)){_5c0="E";}else{if((-64>lat)&&(lat>=-72)){_5c0="D";}else{if((-72>lat)&&(lat>=-80)){_5c0="C";}else{_5c0="Z";}}}}}}}}}}}}}}}}}}}}return _5c0;}});});},"esriviewer/ui/toolbar/model/ActionsToolbarViewModel":function(){define("esriviewer/ui/toolbar/model/ActionsToolbarViewModel",["dojo/_base/declare","dojo/topic","dojo/_base/lang"],function(_5c1,_5c2,lang){return _5c1([],{showLabelsButton:ko.observable(true),showBookmarksButton:ko.observable(true),showLocator:ko.observable(true),showConfigureLocatorsButton:ko.observable(true),showExtentActionsToolbar:ko.observable(true),prevExtentEnabled:ko.observable(false),nextExtentEnabled:ko.observable(false),constructor:function(){this.toolsButtonVisible=ko.observable(true);this.layersButtonVisible=ko.observable(true);_5c2.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.PREV_EXTENT_EXISTS,lang.hitch(this,this.updatePrevExtentEnabled));_5c2.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.NEXT_EXTENT_EXISTS,lang.hitch(this,this.updateNextExtentEnabled));},updatePrevExtentEnabled:function(_5c3){this.prevExtentEnabled(_5c3);},updateNextExtentEnabled:function(_5c4){this.nextExtentEnabled(_5c4);}});});},"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n","esriviewer/ui/navigation/model/NavigationWidgetViewModel":function(){define("esriviewer/ui/navigation/model/NavigationWidgetViewModel",["dojo/_base/declare"],function(_5c5){return _5c5([],{constructor:function(){this.visible=ko.observable(true);}});});},"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n","dojox/uuid/generateTimeBasedUuid":function(){define("dojox/uuid/generateTimeBasedUuid",["dojo/_base/lang","./_base"],function(lang){dojox.uuid.generateTimeBasedUuid=function(node){var _5c6=dojox.uuid.generateTimeBasedUuid._generator.generateUuidString(node);return _5c6;};dojox.uuid.generateTimeBasedUuid.isValidNode=function(node){var _5c7=16;var _5c8=parseInt(node,_5c7);var _5c9=lang.isString(node)&&node.length==12&&isFinite(_5c8);return _5c9;};dojox.uuid.generateTimeBasedUuid.setNode=function(node){dojox.uuid.assert((node===null)||this.isValidNode(node));this._uniformNode=node;};dojox.uuid.generateTimeBasedUuid.getNode=function(){return this._uniformNode;};dojox.uuid.generateTimeBasedUuid._generator=new function(){this.GREGORIAN_CHANGE_OFFSET_IN_HOURS=3394248;var _5ca=null;var _5cb=null;var _5cc=null;var _5cd=0;var _5ce=null;var _5cf=null;var _5d0=16;function _5d1(_5d2){_5d2[2]+=_5d2[3]>>>16;_5d2[3]&=65535;_5d2[1]+=_5d2[2]>>>16;_5d2[2]&=65535;_5d2[0]+=_5d2[1]>>>16;_5d2[1]&=65535;dojox.uuid.assert((_5d2[0]>>>16)===0);};function _5d3(x){var _5d4=new Array(0,0,0,0);_5d4[3]=x%65536;x-=_5d4[3];x/=65536;_5d4[2]=x%65536;x-=_5d4[2];x/=65536;_5d4[1]=x%65536;x-=_5d4[1];x/=65536;_5d4[0]=x;return _5d4;};function _5d5(_5d6,_5d7){dojox.uuid.assert(lang.isArray(_5d6));dojox.uuid.assert(lang.isArray(_5d7));dojox.uuid.assert(_5d6.length==4);dojox.uuid.assert(_5d7.length==4);var _5d8=new Array(0,0,0,0);_5d8[3]=_5d6[3]+_5d7[3];_5d8[2]=_5d6[2]+_5d7[2];_5d8[1]=_5d6[1]+_5d7[1];_5d8[0]=_5d6[0]+_5d7[0];_5d1(_5d8);return _5d8;};function _5d9(_5da,_5db){dojox.uuid.assert(lang.isArray(_5da));dojox.uuid.assert(lang.isArray(_5db));dojox.uuid.assert(_5da.length==4);dojox.uuid.assert(_5db.length==4);var _5dc=false;if(_5da[0]*_5db[0]!==0){_5dc=true;}if(_5da[0]*_5db[1]!==0){_5dc=true;}if(_5da[0]*_5db[2]!==0){_5dc=true;}if(_5da[1]*_5db[0]!==0){_5dc=true;}if(_5da[1]*_5db[1]!==0){_5dc=true;}if(_5da[2]*_5db[0]!==0){_5dc=true;}dojox.uuid.assert(!_5dc);var _5dd=new Array(0,0,0,0);_5dd[0]+=_5da[0]*_5db[3];_5d1(_5dd);_5dd[0]+=_5da[1]*_5db[2];_5d1(_5dd);_5dd[0]+=_5da[2]*_5db[1];_5d1(_5dd);_5dd[0]+=_5da[3]*_5db[0];_5d1(_5dd);_5dd[1]+=_5da[1]*_5db[3];_5d1(_5dd);_5dd[1]+=_5da[2]*_5db[2];_5d1(_5dd);_5dd[1]+=_5da[3]*_5db[1];_5d1(_5dd);_5dd[2]+=_5da[2]*_5db[3];_5d1(_5dd);_5dd[2]+=_5da[3]*_5db[2];_5d1(_5dd);_5dd[3]+=_5da[3]*_5db[3];_5d1(_5dd);return _5dd;};function _5de(_5df,_5e0){while(_5df.length<_5e0){_5df="0"+_5df;}return _5df;};function _5e1(){var _5e2=Math.floor((Math.random()%1)*Math.pow(2,32));var _5e3=_5e2.toString(_5d0);while(_5e3.length<8){_5e3="0"+_5e3;}return _5e3;};this.generateUuidString=function(node){if(node){dojox.uuid.assert(dojox.uuid.generateTimeBasedUuid.isValidNode(node));}else{if(dojox.uuid.generateTimeBasedUuid._uniformNode){node=dojox.uuid.generateTimeBasedUuid._uniformNode;}else{if(!_5ca){var _5e4=32768;var _5e5=Math.floor((Math.random()%1)*Math.pow(2,15));var _5e6=(_5e4|_5e5).toString(_5d0);_5ca=_5e6+_5e1();}node=_5ca;}}if(!_5cb){var _5e7=32768;var _5e8=Math.floor((Math.random()%1)*Math.pow(2,14));_5cb=(_5e7|_5e8).toString(_5d0);}var now=new Date();var _5e9=now.valueOf();var _5ea=_5d3(_5e9);if(!_5ce){var _5eb=_5d3(60*60);var _5ec=_5d3(dojox.uuid.generateTimeBasedUuid._generator.GREGORIAN_CHANGE_OFFSET_IN_HOURS);var _5ed=_5d9(_5ec,_5eb);var _5ee=_5d3(1000);_5ce=_5d9(_5ed,_5ee);_5cf=_5d3(10000);}var _5ef=_5ea;var _5f0=_5d5(_5ce,_5ef);var _5f1=_5d9(_5f0,_5cf);if(now.valueOf()==_5cc){_5f1[3]+=_5cd;_5d1(_5f1);_5cd+=1;if(_5cd==10000){while(now.valueOf()==_5cc){now=new Date();}}}else{_5cc=now.valueOf();_5cd=1;}var _5f2=_5f1[2].toString(_5d0);var _5f3=_5f1[3].toString(_5d0);var _5f4=_5de(_5f2,4)+_5de(_5f3,4);var _5f5=_5f1[1].toString(_5d0);_5f5=_5de(_5f5,4);var _5f6=_5f1[0].toString(_5d0);_5f6=_5de(_5f6,3);var _5f7="-";var _5f8="1";var _5f9=_5f4+_5f7+_5f5+_5f7+_5f8+_5f6+_5f7+_5cb+_5f7+node;_5f9=_5f9.toLowerCase();return _5f9;};}();return dojox.uuid.generateTimeBasedUuid;});},"undefined":undefined,"dojo/gears":function(){define("dojo/gears",["./_base/lang","./sniff"],function(lang,has){var _5fa={};lang.setObject("dojo.gears",_5fa);_5fa._gearsObject=function(){var _5fb;var _5fc=lang.getObject("google.gears");if(_5fc){return _5fc;}if(typeof GearsFactory!="undefined"){_5fb=new GearsFactory();}else{if(has("ie")){try{_5fb=new ActiveXObject("Gears.Factory");}catch(e){}}else{if(navigator.mimeTypes["application/x-googlegears"]){_5fb=document.createElement("object");_5fb.setAttribute("type","application/x-googlegears");_5fb.setAttribute("width",0);_5fb.setAttribute("height",0);_5fb.style.display="none";document.documentElement.appendChild(_5fb);}}}if(!_5fb){return null;}lang.setObject("google.gears.factory",_5fb);return lang.getObject("google.gears");};_5fa.available=(!!_5fa._gearsObject())||0;return _5fa;});},"esriviewer/ui/identify/IdentifyWindowWidget":function(){define("esriviewer/ui/identify/IdentifyWindowWidget",["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/window","dojo/dom-class","../window/WindowWidget"],function(_5fd,lang,_5fe,_5ff,_600,_601){return _5fd([_601],{defaultPositioning:{x:400,y:125},windowWidth:"310px",windowHeaderText:"Identify",windowIconAltText:"Identify",windowIconClass:"commonIcons16 information",positioningParamName:"identify",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},postCreate:function(){this.inherited(arguments);_600.add(this.windowContent,"identifyWindowContent");},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/identify/IdentifyWidget"],lang.hitch(this,function(_602){this.identifyWidget=new _602();this.setContent(this.identifyWidget.domNode);this.identifyWidget.showQueryView();}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_5fe.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.IDENTIFY.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_5fe.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.IDENTIFY.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_5fe.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.IDENTIFY.TOGGLE,lang.hitch(this,this.toggle)));},hide:function(){this.inherited(arguments);if(this.identifyWidget){this.identifyWidget.reset();}},show:function(){this.inherited(arguments);if(this.identifyWidget){this.identifyWidget.showQueryView();}}});});},"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>","dijit/layout/AccordionPane":function(){define("dijit/layout/AccordionPane",["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(_603,_604,_605){return _603("dijit.layout.AccordionPane",_605,{constructor:function(){_604.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");},onSelected:function(){}});});},"esriviewer/portal/PortalViewerManagerSupportMixin":function(){define("esriviewer/portal/PortalViewerManagerSupportMixin",["dojo/_base/declare","dojo/_base/lang","./PortalSupport"],function(_606,lang,_607){return _606([],{portalSupported:false,_initializePortalSupport:function(){if(this.viewerConfig.portal!=null&&lang.isObject(this.viewerConfig.portal)&&this.viewerConfig.portal.url!=null&&this.viewerConfig.portal.url!=""){this.portalSupported=true;new _607();this._createPortalSearchWidget();}},_createPortalSearchWidget:function(){if(this.portalSupported){if(this.viewerConfig.portalSearchWidget!=null&&this.viewerConfig.portalSearchWidget.create!=null&&this.viewerConfig.portalSearchWidget.create==true){require(["esriviewer/ui/portal/PortalSearchWidgetWindow"],function(_608){this.portalSearchWidgetWindow=new _608();});}}}});});},"url:esriviewer/ui/toolbar/base/template/BookmarkListingTemplate.html":"<div class=\"bookmarksToolbarDropdown toolbarDropdownContent\" data-bind=\"visible:visible\">\r\n    <div class=\"createBookmarkIcon commonIcons16 add\" title=\"Create Bookmark\"\r\n         data-bind=\"visible:showCreateBookmarkIcon, click:showCreateBookmark\"></div>\r\n    <div class=\"bookmarksToolbarDropdownBookmarkEntries\" data-bind=\"foreach:_bookmarks\">\r\n        <div class=\"threePixelBorderRadius bookmarkToolbarEntry\" data-bind=\"click: $parent.handleBookmarkClick\">\r\n            <span class=\"bookmarkToolbarEntryText\" data-bind=\"text: $data.label\"></span>\r\n        </div>\r\n    </div>\r\n    <div class=\"bookmarksToolbarDropdownBookmarkRemovableEntries\" data-bind=\"template: {foreach:_removableBookmarks, afterAdd:handleAfterAddBookmark, beforeRemove:handleBeforeRemoveBookmark}\">\r\n        <div class=\"bookmarkToolbarEntryOuter\">\r\n            <div title=\"Remove Bookmark\" class=\"commonIcons16 bookmarkToolbarEntryRemoveIcon remove\"\r\n                 data-bind=\"click: $parent.removeClick\"></div>\r\n            <div class=\"threePixelBorderRadius bookmarkToolbarEntry\" data-bind=\"click: $parent.handleBookmarkClick\">\r\n                <span class=\"bookmarkToolbarEntryText\" data-bind=\"text: $data.label\"></span>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>","dojox/storage/_common":function(){define("dojox/storage/_common",["dijit","dojo","dojox","dojo/require!dojox/storage/Provider,dojox/storage/manager,dojox/storage/LocalStorageProvider,dojox/storage/GearsStorageProvider,dojox/storage/WhatWGStorageProvider,dojox/storage/FlashStorageProvider,dojox/storage/BehaviorStorageProvider,dojox/storage/CookieStorageProvider"],function(_609,dojo,_60a){dojo.provide("dojox.storage._common");dojo.require("dojox.storage.Provider");dojo.require("dojox.storage.manager");dojo.require("dojox.storage.LocalStorageProvider");dojo.require("dojox.storage.GearsStorageProvider");dojo.require("dojox.storage.WhatWGStorageProvider");dojo.require("dojox.storage.FlashStorageProvider");dojo.require("dojox.storage.BehaviorStorageProvider");dojo.require("dojox.storage.CookieStorageProvider");_60a.storage.manager.initialize();});},"url:esriviewer/ui/footer/template/FooterTogglerTemplate.html":"<div class=\"footerWidget\" data-dojo-attach-point=\"footerWidget\" data-bind=\"css:{footerExpanded: expanded() == true, footerCollapsed: expanded() != true}\">\r\n    <div class=\"footerExpanderContent headerFooterBg\" data-dojo-attach-point=\"footerExpanderContent\"  data-dojo-attach-event=\"onclick:toggle\">\r\n        <div class=\"footerTogglerArrow\" data-dojo-attach-point=\"footerTogglerArrow\" data-bind=\"css:{footerTogglerDown: expanded() == true, footerTogglerUp: expanded() != true}\"></div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"footerContent\"></div>\r\n</div>","dojox/sql":function(){define("dojox/sql",["./sql/_base"],function(){});},"esriviewer/ui/toolbar/ActionsToolbarWidget":function(){require({cache:{"url:esriviewer/ui/toolbar/template/ActionsToolbarWidgetTemplate.html":"<div class='viewerMainToolbar headerFooterBg'>\r\n    <div class=\"mainToolbarContents\" data-dojo-attach-point=\"mainToolbarContents\">\r\n            <span data-bind=\"visible: toolsButtonVisible\"\r\n                  data-dojo-type=\"dijit/form/DropDownButton\"\r\n                  data-dojo-attach-point=\"toolsDropDownButton\"\r\n                  data-dojo-props=\"iconClass:'commonIcons16 wrench'\">\r\n                <span>Tools</span>\r\n            </span>\r\n\r\n        <div data-dojo-attach-point=\"layersButton\" class=\"actionsToolbarButton\"\r\n             data-bind=\"visible: layersButtonVisible\">\r\n            <div class=\"commonIcons16 layerList actionsToolbarIcon\"></div>\r\n            <div class=\"actionsToolbarText\">Layers</div>\r\n        </div>\r\n        <div data-dojo-attach-point=\"bookmarksButton\" class=\"actionsToolbarButton\"\r\n             data-bind=\"visible:showBookmarksButton\"\r\n             data-dojo-attach-event=\"onclick:toggleBookmarksListing\">\r\n            <div class=\"commonIcons16 bookmark actionsToolbarIcon\"></div>\r\n            <div class=\"actionsToolbarText\">Bookmarks</div>\r\n        </div>\r\n        <div data-dojo-attach-point=\"basemapsButton\" class=\"actionsToolbarButton\"\r\n             data-dojo-attach-event=\"onclick:toggleBasemapsListing\">\r\n            <div class=\"commonIcons16 blocks actionsToolbarIcon\"></div>\r\n            <div class=\"actionsToolbarText\">Basemaps</div>\r\n\r\n        </div>\r\n        <span data-bind=\"visible:showLabelsButton\">\r\n            <span data-dojo-type=\"dijit/form/ToggleButton\"\r\n                  data-dojo-attach-point=\"labelsButton\"\r\n                  data-dojo-props=\"iconClass:'dijitCheckBoxIcon'\">Labels</span>\r\n        </span>\r\n\r\n        <div data-dojo-attach-point=\"addOnContentContainer\"></div>\r\n        <div class=\"locateToolbarContainer locateToolbarContainerOnMap\" data-dojo-attach-point=\"locateToolbarContainer\"\r\n             data-bind=\"visible: showLocator\">\r\n            <input value=\"${locateDefaultInput}\" type=\"text\" class=\"locateTextBox defaultBorder\"\r\n                   data-dojo-attach-point=\"locateTextBox\"/>\r\n\r\n            <div data-dojo-attach-point=\"locateButton\" title=\"Locate\"\r\n                 class=\"defaultBorder searchButton searchButtonIcon\"></div>\r\n            <div data-dojo-attach-point=\"configureLocateButton\"\r\n                 data-bind=\"visible:showConfigureLocatorsButton\"\r\n                 data-dojo-attach-event=\"onclick:toggleConfigureLocatorTooltip\" title=\"Configure Locate\"\r\n                 class=\"defaultBorder configureLocate configureButtonIcon\"></div>\r\n        </div>\r\n        <div class=\"extentActionsToolbar\" data-bind=\"visible:showExtentActionsToolbar\">\r\n            <div class=\"smallActionsToolbarButton\">\r\n                <div data-dojo-attach-point=\"initialExtentButton\" title=\"Initial Extent\"\r\n                     class=\"commonIcons16 firstItem\"\r\n                     data-dojo-attach-event=\"onclick:handleGotoInitialExtent\"></div>\r\n            </div>\r\n            <div class=\"smallActionsToolbarButton\">\r\n                <div data-dojo-attach-point=\"prevExtentButton\" title=\"Previous Extent\"\r\n                     class=\"commonIcons16 previousGray\"\r\n                     data-bind=\"css:{previous: prevExtentEnabled()}\"\r\n                     data-dojo-attach-event=\"onclick:handleGotoPrevExtent\"></div>\r\n            </div>\r\n            <div class=\"smallActionsToolbarButton\">\r\n                <div data-dojo-attach-point=\"nextExtentButton\" title=\"Full Extent\"\r\n                     class=\"commonIcons16 locationGoTo\"\r\n                     data-dojo-attach-event=\"onclick:handleGotoFullExtent\"></div>\r\n            </div>\r\n            <div class=\"smallActionsToolbarButton\">\r\n                <div data-dojo-attach-point=\"nextExtentButton\" title=\"Next Extent\"\r\n                     class=\"commonIcons16 nextGray\"\r\n                     data-bind=\"css:{next: nextExtentEnabled()}\"\r\n                     data-dojo-attach-event=\"onclick:handleGotoNextExtent\"></div>\r\n            </div>\r\n            <div class=\"smallActionsToolbarButton\">\r\n                <div data-dojo-attach-point=\"lastExtentButton\" title=\"Last Extent\"\r\n                     class=\"commonIcons16 lastItem\"\r\n                     data-dojo-attach-event=\"onclick:handleGotoLastExtent\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"}});define("esriviewer/ui/toolbar/ActionsToolbarWidget",["dojo/_base/declare","dojo/text!./template/ActionsToolbarWidgetTemplate.html","dojo/topic","dojo/_base/lang","dojo/on","dojo/window","dojo/_base/window","dojo/has","dojo/dom-style","dojo/dom-class","dojo/dom-construct","dijit/Menu","dijit/MenuItem","../base/UITemplatedWidget","./base/BookmarkListingWidget","./base/LocatorToolbarSupportMixin","./model/ActionsToolbarViewModel","./base/BasemapListingWidget","dijit/form/DropDownButton","dijit/form/ToggleButton"],function(_60b,_60c,_60d,lang,on,_60e,_60f,has,_610,_611,_612,Menu,_613,_614,_615,_616,_617,_618,_619,_61a){return _60b([_614,_616],{animateOnPlace:false,animate:true,showExtentActions:true,useBasemapGallery:false,basemapsDropdownWidth:"125px",bookmarksDropdownWidth:"224px",showLabelServicesButton:true,showConfigureLocatorsIcon:true,showLayersButton:true,showBookmarksButton:true,showToolsDropdownButton:true,configureLocatorTooltipVisible:false,locateDefaultInput:"Enter a location...",templateString:_60c,constructor:function(_61b){lang.mixin(this,_61b||{});},postCreate:function(){this.inherited(arguments);this.viewModel=new _617();this.viewModel.showExtentActionsToolbar(this.showExtentActions);this.toolsDropDownMenu=new Menu({});this.toolsDropDownButton.dropDown=this.toolsDropDownMenu;if(!this.showToolsDropdownButton){this.handleHideToolsButton();}else{this.handleShowToolsButton();}if(this.showLabelServicesButton){var _61c=false;_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.LABEL_SERVICES.SERVICE_EXISTS,function(_61d){_61c=_61d;});if(!_61c){this.viewModel.showLabelsButton(false);}}else{this.viewModel.showLabelsButton(false);}if(!this.showLayersButton){this.viewModel.layersButtonVisible(false);}if(!this.showBookmarksButton){this.viewModel.showBookmarksButton(false);}if(!this.showLocator){this.viewModel.showLocator(false);}if(!this.showConfigureLocatorsIcon){this.viewModel.showConfigureLocatorsButton(false);}ko.applyBindings(this.viewModel,this.domNode);this.createToolbarDropDown();this.tweakUI();},loadViewerConfigurationData:function(){var _61e=null;_60d.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"animationsEnabled",function(_61f){_61e=_61f;});if(_61e!=null){this.animate=_61e;}var _620=null;_60d.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"toolsBar",function(_621){_620=_621;});if(_620&&lang.isObject(_620)){if(_620.showExtentActions!=null&&_620.showExtentActions===false){this.showExtentActions=false;}if(_620.showToolsDropdown!=null&&_620.showToolsDropdown===false){this.showToolsDropdownButton=false;}if(_620.showLayersButton!=null&&_620.showLayersButton===false){this.showLayersButton=false;}if(_620.showConfigureLocatorsIcon!=null&&_620.showConfigureLocatorsIcon===false){this.showConfigureLocatorsIcon=false;}if(_620.showBookmarksButton!=null&&_620.showBookmarksButton===false){this.showBookmarksButton=false;}if(_620.showLocator!=null&&_620.showLocator===false){this.showLocator=false;}}var _622=null;_60d.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"map",function(_623){_622=_623;});if(_622!=null&&lang.isObject(_622)){if(_622.useBasemapGallery!=null&&_622.useBasemapGallery===true){this.useBasemapGallery=true;}}},handleBookmarksWidgetVisibilityChanged:function(_624){if(_624){if(!this.useBasemapGallery){this.basemapListingWidget.hide();}else{var _625;_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.IS_HIDDEN,function(_626){_625=_626;});if(!_625){_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.HIDE);}}this.handleDropdownContentVisiblility(true,this.bookmarksDropdownWidth);}else{if(!this.useBasemapGallery){if(!this.basemapListingWidget.viewModel.visible()){this.handleDropdownContentVisiblility(false);}}else{this.handleDropdownContentVisiblility(false);}}},handleBasemapsWidgetVisibilityChanged:function(_627){if(_627){this.bookmarkListingWidget.hide();if(!this.useBasemapGallery){this.handleDropdownContentVisiblility(true,this.basemapsDropdownWidth);}}else{if(!this.bookmarkListingWidget.viewModel.visible()){this.handleDropdownContentVisiblility(false);}}},handleDropdownContentVisiblility:function(_628,_629){if(!_628){this._showDropdownContent();}else{this._hideDropdownContent(_629);}},_hideDropdownContent:function(_62a){if(_62a!=null){_610.set(this.toolbarDropdownElement,"width",_62a);}_610.set(this.toolbarDropdownElement,"display","block");if(this.animate){_611.add(this.toolbarDropdownElement,VIEWER_GLOBALS.ANIMATIONS.FADE.IN);}},_showDropdownContent:function(){_610.set(this.toolbarDropdownElement,"display","none");if(this.animate){_611.remove(this.toolbarDropdownElement,VIEWER_GLOBALS.ANIMATIONS.FADE.IN);}},toggleBasemapsListing:function(){if(!this.useBasemapGallery){this.basemapListingWidget.toggle();}else{var _62b;_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.IS_HIDDEN,function(_62c){_62b=_62c;});if(_62b){_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.SHOW);if(this.bookmarkListingWidget.viewModel.visible()){this.bookmarkListingWidget.hide();}}else{_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.HIDE);}}},toggleBookmarksListing:function(){this.bookmarkListingWidget.toggle();},initListeners:function(){this.inherited(arguments);if(this.showToolsDropdownButton){_60d.subscribe(VIEWER_GLOBALS.EVENTS.TOOLS.MENU.ADD_TOOL,lang.hitch(this,this.handleAddToolToMenu));}this.initLocatorListeners();if(this.showLabelServicesButton){_60d.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REFERENCE_LAYER_ADDED,lang.hitch(this,this.handleReferenceLayerAdded));_60d.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.REFERENCE_LAYER_REMOVED,lang.hitch(this,this.handleReferenceLayerRemoved));this.labelsButton.on("change",lang.hitch(this,this.handleToggleLabels));on(this.layersButton,"click",lang.hitch(this,this.handleShowLayersWindow));}_60d.subscribe(VIEWER_GLOBALS.EVENTS.TOOLS.MENU.HIDE_TOOLS_BUTTON,lang.hitch(this,this.handleHideToolsButton));_60d.subscribe(VIEWER_GLOBALS.EVENTS.TOOLS.MENU.SHOW_TOOLS_BUTTON,lang.hitch(this,this.handleShowToolsButton));_60d.subscribe(VIEWER_GLOBALS.EVENTS.TOOLS.MENU.HIDE_LAYERS_BUTTON,lang.hitch(this,this.handleHideLayersButton));_60d.subscribe(VIEWER_GLOBALS.EVENTS.TOOLS.MENU.SHOW_LAYERS_BUTTON,lang.hitch(this,this.handleShowLayersButton));this.loadCurrentLocators();},handleShowLayersButton:function(){this.viewModel.layersButtonVisible(true);},handleHideLayersButton:function(){this.viewModel.layersButtonVisible(false);},handleShowToolsButton:function(){this.viewModel.toolsButtonVisible(true);},handleHideToolsButton:function(){this.viewModel.toolsButtonVisible(false);},handleShowLayersWindow:function(){_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.WIDGET.SHOW);},handleToggleLabels:function(_62d){if(_62d){_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.LABEL_SERVICES.SHOW);}else{_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.LABEL_SERVICES.HIDE);}},handleReferenceLayerRemoved:function(_62e,_62f){if(!_62f){this.viewModel.showLabelsButton(false);}},handleReferenceLayerAdded:function(){var _630=_610.get(this.labelsButton.domNode,"display");if(_630.toLowerCase()==="none"){this.viewModel.showLabelsButton(true);}},setBasemaps:function(_631){if(!this.useBasemapGallery){this.basemapListingWidget.setBasemaps(_631);}},addStaticBookmarks:function(_632){if(this.bookmarkListingWidget){this.bookmarkListingWidget.addStaticBookmarks(_632,false);}},loadCookieBookmarks:function(){if(this.bookmarkListingWidget){this.bookmarkListingWidget.loadCookieBookmarks();}},createToolbarDropDown:function(){this.toolbarDropdownElement=_612.create("div",{className:"defaultBorder threePixelBorderRadius defaultBoxShadow toolbarDropdownContainer",style:{display:"none"}});_60d.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.MAIN_TOOLBAR_DROP_DOWN,this.toolbarDropdownElement);this.bookmarkListingWidget=new _615();this.bookmarkListingWidget.placeAt(this.toolbarDropdownElement);this.bookmarkListingWidget.viewModel.visible.subscribe(lang.hitch(this,this.handleBookmarksWidgetVisibilityChanged));if(!this.useBasemapGallery){this.basemapListingWidget=new _618();this.basemapListingWidget.placeAt(this.toolbarDropdownElement);this.basemapListingWidget.viewModel.visible.subscribe(lang.hitch(this,this.handleBasemapsWidgetVisibilityChanged));}},tweakUI:function(){this.inherited(arguments);if(has("ie")<9){_610.set(this.locateButton,"position","relative");_610.set(this.locateButton,"top","-2px");_610.set(this.configureLocateButton,"position","relative");_610.set(this.configureLocateButton,"top","-2px");}else{if(has("ie")>=9){_610.set(this.locateButton,"height","17px");_610.set(this.configureLocateButton,"height","17px");_610.set(this.locateButton,"marginTop","0");_610.set(this.configureLocateButton,"marginTop","0");}else{if(has("ff")){_610.set(this.locateButton,"marginTop","0");_610.set(this.configureLocateButton,"marginTop","0");}}}if(this.toolsDropDownButton){_610.set(this.toolsDropDownButton.domNode,"float","right");_610.set(this.toolsDropDownButton.domNode.firstChild,"background","none");_610.set(this.toolsDropDownButton.domNode.firstChild,"border","none");}_610.set(this.labelsButton.domNode,"float","right");_610.set(this.labelsButton.domNode,"marginRight","20px");_611.add(this.labelsButton.domNode,"defaultTextColor");_610.set(this.labelsButton.domNode.firstChild,"background","none");_610.set(this.labelsButton.domNode.firstChild,"border","none");},handleAddToolToMenu:function(_633){if(_633 instanceof _613&&this.toolsDropDownMenu){this.toolsDropDownMenu.addChild(_633);}},handleGotoPrevExtent:function(){_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GO_PREV_EXTENT);},handleGotoNextExtent:function(){_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GO_NEXT_EXTENT);},handleGotoFullExtent:function(){var _634;_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_EXTENT,function(ext){_634=ext;var _635=lang.clone(_634);_635.xmin=-25924231.641352512;_635.xmax=24169539.215607613;_635.ymin=-12751827.549115097;_635.ymax=22157269.016828995;_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.SET_EXTENT,_635);});},handleGotoInitialExtent:function(){_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GO_INITIAL_EXTENT);},handleGotoLastExtent:function(){_60d.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GO_LAST_EXTENT);}});});},"esriviewer/ui/time/TimeSliderWindow":function(){define("esriviewer/ui/time/TimeSliderWindow",["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/window","dojo/dom-style","../window/WindowWidget"],function(_636,lang,_637,_638,_639,_63a){return _636([_63a],{defaultPositioning:{x:10,y:50},windowWidth:"450px",windowHeaderText:"Time Slider",windowIconAltText:"Time Slider",windowIconClass:"commonIcons16 clock",positioningParamName:"time",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/time/TimeSliderWidget"],lang.hitch(this,function(_63b){this.timeSliderWidget=new _63b();this.setContent(this.timeSliderWidget.domNode);}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_637.subscribe(VIEWER_GLOBALS.EVENTS.MAP.TIME.SHOW_TIME_SLIDER,lang.hitch(this,this.show)));this.subscribes.push(_637.subscribe(VIEWER_GLOBALS.EVENTS.MAP.TIME.TOGGLE_TIME_SLIDER,lang.hitch(this,this.toggle)));},postCreate:function(){var _63c=_638.getBox();if(_63c.w>1600){_639.set(this.domNode,"width","25%");}else{_639.set(this.domNode,"width","35%");}this.inherited(arguments);},hide:function(){this.inherited(arguments);if(this.timeSliderWidget){this.timeSliderWidget.clearTimeSlider();}}});});},"dijit/MenuItem":function(){require({cache:{"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"}});define("dijit/MenuItem",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_63d,dom,_63e,_63f,_640,has,_641,_642,_643,_644,_645){return _63d("dijit.MenuItem",[_641,_642,_643,_644],{templateString:_645,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this.containerNode.innerHTML=val;this._set("label",val);if(this.textDir==="auto"){this.applyTextDir(this.focusNode,this.label);}},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_646){if(_646&&!("label" in this.params)){this.set("label",_646.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _647=this.id+"_text";_63e.set(this.containerNode,"id",_647);if(this.accelKeyNode){_63e.set(this.accelKeyNode,"id",this.id+"_accel");_647+=" "+this.id+"_accel";}this.domNode.setAttribute("aria-labelledby",_647);dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_648){_63f.toggle(this.domNode,"dijitMenuItemSelected",_648);},setLabel:function(_649){_640.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_649);},setDisabled:function(_64a){_640.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_64a);},_setDisabledAttr:function(_64b){this.focusNode.setAttribute("aria-disabled",_64b?"true":"false");this._set("disabled",_64b);},_setAccelKeyAttr:function(_64c){this.accelKeyNode.style.display=_64c?"":"none";this.accelKeyNode.innerHTML=_64c;_63e.set(this.containerNode,"colSpan",_64c?"1":"2");this._set("accelKey",_64c);},_setTextDirAttr:function(_64d){if(!this._created||this.textDir!=_64d){this._set("textDir",_64d);this.applyTextDir(this.focusNode,this.label);}}});});},"esriviewer/ui/measure/MeasureWindow":function(){define("esriviewer/ui/measure/MeasureWindow",["dojo/_base/declare","dojo/_base/lang","dojo/topic","../window/WindowWidget","./MeasureWidget"],function(_64e,lang,_64f,_650,_651){return _64e([_650],{defaultPositioning:{x:50,y:50},windowWidth:"300px",windowHeaderText:"Measure",windowIconAltText:"Measure",windowIconClass:"commonIcons16 triangle",positioningParamName:"measure",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/measure/MeasureWidget"],lang.hitch(this,function(_652){this.measureWidget=new _652();this.setContent(this.measureWidget.domNode);}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_64f.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.MEASURE.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_64f.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.MEASURE.TOGGLE,lang.hitch(this,this.toggle)));this.subscribes.push(_64f.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.MEASURE.HIDE,lang.hitch(this,this.hide)));},hide:function(){this.inherited(arguments);if(this.measureWidget){this.measureWidget.reset();}}});});},"esriviewer/map/geometry/GeometryServiceController":function(){define("esriviewer/map/geometry/GeometryServiceController",["dojo/_base/declare","dojo/topic","dojo/_base/lang","esri/tasks/GeometryService","esri/config","esri/tasks/AreasAndLengthsParameters","esri/tasks/LengthsParameters","esri/tasks/BufferParameters","esri/tasks/ProjectParameters","esri/geometry/webMercatorUtils","esri/SpatialReference"],function(_653,_654,lang,_655,_656,_657,_658,_659,_65a,_65b,_65c){return _653([],{constructor:function(_65d){lang.mixin(this,_65d||{});this.init();},init:function(){this.loadViewerConfigurationData();if(this.geometryService==null){return;}else{this.initListeners();}var _65e=null;_654.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_EXTENT,function(ext){_65e=ext;});if(_65e&&_65e.spatialReference&&_65e.spatialReference!=null){this.mapSpatialReference=_65e.spatialReference;}this.createMapConfigGeometryService();},loadViewerConfigurationData:function(){var _65f=null;_654.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"geometryServiceUrl",function(_660){_65f=_660;});this.geometryServiceUrl=_65f;if(this.geometryServiceUrl!=null&&this.geometryServiceUrl!=""){this.geometryService=new _655(this.geometryServiceUrl);}else{_654.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,"No Geometry Service in configuration. Service disabled");VIEWER_UTILS.log("No Geometry Service in configuration. Service disabled",VIEWER_GLOBALS.LOG_TYPE.WARNING);}},createMapConfigGeometryService:function(){if(this.geometryServiceUrl){if(_656&&_656.defaults){_656.defaults.geometryService=new _655(this.geometryServiceUrl);}}},initListeners:function(){_654.subscribe(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.PROJECT_TO_LAT_LON,lang.hitch(this,this.handleProjectGeometriesToLatLon));_654.subscribe(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.MGRS_TO_LAT_LON,lang.hitch(this,this.handleMgrsToLatLon));_654.subscribe(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.PROJECT_TO_MAP_SR,lang.hitch(this,this.handleProjectGeometriesToMapSR));_654.subscribe(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.CALCULATE_AREA,lang.hitch(this,this.handleCalculateArea));_654.subscribe(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.CALCULATE_DISTANCE,lang.hitch(this,this.handleCalculateDistance));_654.subscribe(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.EXISTS,lang.hitch(this,this.handleGeometryServiceExists));_654.subscribe(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.BUFFER_POINT,lang.hitch(this,this.handleBufferPoint));this.projectErrorDefaultCallback=lang.hitch(this,this.handleProjectionError);},handleCalculateArea:function(_661,_662,_663){if(_663!=null&&lang.isFunction(_663)){var _664=new _657();_664.areaUnit=_662;_664.polygons=[_661];this.geometryService.areasAndLengths(_664,_663,_663);}},handleCalculateDistance:function(_665,_666,_667){if(_667!=null&&lang.isFunction(_667)){var _668=new _658();_668.lengthUnit=_666;_668.polylines=[_665];_668.geodesic=true;this.geometryService.lengths(_668,_667,_667);}},handleMgrsToLatLon:function(_669,_66a){PROJECTION_UTILS.USNGtoLL(_669,_66a);},handleBufferPoint:function(pt,_66b,_66c,_66d){if(pt==null||_66b==null||_66b.distance==null||_66b.units==null){return;}if(_66c==null||!lang.isFunction(_66c)||this.mapSpatialReference==null){return;}var _66e=new _659();_66e.geometries=[pt];_66e.distances=[_66b.distance];_66e.unit=_66b.units;_66e.bufferSpatialReference=pt.spatialReference;_66e.outSpatialReference=this.mapSpatialReference;this.geometryService.buffer(_66e,_66c,_66d);},handleProjectGeometriesToLatLon:function(_66f,_670){if(_670==null||!lang.isFunction(_670)||_66f==null){return;}if(!lang.isArray(_66f)){_66f=[_66f];}if(_66f.length==0){_670([]);}var _671=false;var _672=[];if(_66f[0].spatialReference.wkid===PROJECTION_UTILS.WEB_MERCATOR_WKID||_66f[0].spatialReference.wkid===PROJECTION_UTILS.WGS_84_WKID){if(_66f[0].spatialReference.wkid===PROJECTION_UTILS.WGS_84_WKID){_670(_66f);}var _673=_65b.webMercatorToGeographic;if(lang.isFunction(_673)){for(var i=0;i<_66f.length;i++){_672.push(_673(_66f[i]));}}}if(_672.length>0){_670(_672);}else{var _674=new _65a();_674.geometries=_66f;_674.outSR=new _65c({wkid:PROJECTION_UTILS.WGS_84_WKID});this.geometryService.project(_674,_670,_670);}},handleProjectGeometriesToMapSR:function(_675,_676,_677,_678){if(_675==null){if(_678&&lang.isFunction(_678)){_678("No geometries to project");}return;}if(_676==null||!lang.isFunction(_676)||this.mapSpatialReference==null){if(_678&&lang.isFunction(_678)){_678("Cannot process project");}return;}if(!lang.isArray(_675)){_675=[_675];}if(_675.length<0){_676([]);}var _679=PROJECTION_UTILS.geometryToMapSpatialReference(_675);if(_679!=null&&lang.isArray(_679)){_676(_679);}else{this._handleServerSideProject(_675,_676,_677,_678);}},_handleServerSideProject:function(_67a,_67b,_67c,_67d){if(_67c==null){_67c={};}var _67e=new _65a();_67e.geometries=_67a;_67e.outSR=this.mapSpatialReference;if(_67c.transformation){_67e.transformation=_67c.transformation;}if(_67d==null||!lang.isFunction(_67d)){_67d=this.projectErrorDefaultCallback;}this.geometryService.project(_67e,_67b,_67d);},handleProjectionError:function(err){VIEWER_UTILS.log("Error Projecting data",VIEWER_GLOBALS.LOG_TYPE.ERROR);},handleGeometryServiceExists:function(_67f){if(_67f!=null&&lang.isFunction(_67f)){_67f(this.geometryService!=null);}}});});},"esriviewer/base/LocationServiceSupport":function(){define("esriviewer/base/LocationServiceSupport",["dojo/_base/declare","dojo/topic","dojo/_base/lang","esri/tasks/locator"],function(_680,_681,lang,_682){return _680([],{constructor:function(){this.locatorLookup={};},_initListeners:function(){_681.subscribe(VIEWER_GLOBALS.EVENTS.LOCATOR.SINGLE_LINE_ADDRESS_TO_LOCATION,lang.hitch(this,this._handleSingleAddressLineAddressToLocations));_681.subscribe(VIEWER_GLOBALS.EVENTS.LOCATOR.REVERSE_GEOCODE,lang.hitch(this,this.handleReverseGeocode));_681.subscribe(VIEWER_GLOBALS.EVENTS.LOCATOR.ADD_LOCATOR,lang.hitch(this,this.handleAddLocatorRequest));_681.subscribe(VIEWER_GLOBALS.EVENTS.LOCATOR.REMOVE_LOCATOR,lang.hitch(this,this.handleRemoveLocatorRequest));_681.subscribe(VIEWER_GLOBALS.EVENTS.LOCATOR.GET_LOCATORS,lang.hitch(this,this.handleGetLocators));},handleGetLocators:function(_683){if(_683!=null&&lang.isFunction(_683)){var _684=[];for(var key in this.locatorLookup){_684.push(this.locatorLookup[key]);}_683(_684);}},handleReverseGeocode:function(_685,_686,_687,_688){if(_687!=null&&lang.isFunction(_687)){var _689;var _68a=null;for(var key in this.locatorLookup){_689=this.locatorLookup[key];if(_689!=null&&_689.locator!=null&&lang.isFunction(_689.locator.locationToAddress)){_68a=_689.locator;break;}}if(_68a==null){if(_688!=null&&lang.isFunction(_688)){_688("Reverse Geocode Not Supported");return;}}if(_686==null){_686=VIEWER_GLOBALS.DEFAULT_REVERSE_GEOCODE_DISTANCE;}_68a.locationToAddress(_685,_686,_687,_688);}},_handleSingleAddressLineAddressToLocations:function(_68b,_68c,_68d){this.singleLineAddressToLocations(_68b,_68c,_68d);},handleRemoveLocatorRequest:function(_68e){if(this.locatorLookup[_68e]!=null){delete this.locatorLookup[_68e];_681.publish(VIEWER_GLOBALS.EVENTS.LOCATOR.LOCATOR_REMOVED,_68e);}},handleAddLocatorRequest:function(_68f,_690,_691){this.addLocator(_68f,null,function(id){if(id!=null){if(_690!=null&&lang.isFunction(_690)){_690(id,_68f);}}else{if(_691!=null&&lang.isFunction(_691)){_691("Locator Exists");}}});},addLocator:function(_692,_693,_694){var id=_692.toLowerCase();if(this.locatorLookup[id]==null){var _695=new _682(_692);var _696={locator:_695,label:(_693!=null&&_693!="")?_693:REG_EXP_UTILS.getServiceNameFromUrl(_695.url)};var _697=null;_681.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_EXTENT,function(ext){_697=ext;});if(_697&&_697.spatialReference){_695.setOutSpatialReference(_697.spatialReference);}var _698=_694;var _699=this.locatorLookup;VIEWER_UTILS.getServiceDescription(_692,function(_69a){if(_69a!=null&&lang.isObject(_69a)){if(_69a.singleLineAddressField!=null&&lang.isObject(_69a.singleLineAddressField)&&_69a.singleLineAddressField.name!=null&&_69a.singleLineAddressField.name!=""){_695.serviceDescription=_69a;_699[id]=_696;_681.publish(VIEWER_GLOBALS.EVENTS.LOCATOR.LOCATOR_ADDED,_696);if(_698!=null&&lang.isFunction(_698)){_698(id);}}else{_681.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,"Locator does not support single line address.");}}});}else{VIEWER_UTILS.log("Locator Already Exists: "+_692,VIEWER_GLOBALS.LOG_TYPE.ERROR);_681.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,"Locator already exists.");return null;}},singleLineAddressToLocations:function(_69b,_69c,_69d){if(_69d!=null){var _69e={};_69e[_69d.serviceDescription.singleLineAddressField.name]=VIEWER_UTILS.trim(_69b);var _69f=lang.hitch(this,this._handleLocatorResponse,_69d.url.toLowerCase(),_69c);var _6a0=lang.hitch(this,this._handleLocatorError,_69d.url.toLowerCase(),_69c);_69d.addressToLocations(_69e,["*"],_69f,_6a0);}},_handleLocatorResponse:function(_6a1,_6a2,_6a3){_681.publish(VIEWER_GLOBALS.EVENTS.LOCATOR.LOCATOR_REQUEST_COMPLETE,{addressCandidates:_6a3,locatorId:_6a1,requestId:_6a2});},_handleLocatorError:function(_6a4,_6a5,_6a6){_681.publish(VIEWER_GLOBALS.EVENTS.LOCATOR.LOCATOR_REQUEST_ERROR,{error:_6a6,locatorId:_6a4,requestId:_6a5});VIEWER_UTILS.log("Could not perform locate",VIEWER_GLOBALS.LOG_TYPE.ERROR);_681.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,"Could not perform locate");}});});},"esriviewer/ui/zoomto/ZoomToWidgetWindow":function(){define("esriviewer/ui/zoomto/ZoomToWidgetWindow",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojo/dom-style","../window/WindowWidget"],function(_6a7,_6a8,lang,_6a9,_6aa,_6ab){return _6a7([_6aa],{defaultPositioning:{x:10,y:240},windowWidth:"275px",windowHeaderText:"Zoom To",windowIconAltText:"Zoom To",windowIconClass:"commonIcons16 magnifyingGlass",positioningParamName:"zoomTo",initListeners:function(){this.inherited(arguments);this.subscribes.push(_6a8.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.ZOOM_TO.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_6a8.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.ZOOM_TO.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_6a8.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.ZOOM_TO.TOGGLE,lang.hitch(this,this.toggle)));this.firstShowListener=this.on("firstWindowShow",lang.hitch(this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/zoomto/ZoomToWidget"],lang.hitch(this,function(_6ac){this.zoomToWidget=new _6ac();this.setContent(this.zoomToWidget.domNode);}));}});});},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_6ad,_6ae,_6af,_6b0,_6b1,_6b2,_6b3,_6b4){return _6b1("dijit.layout._LayoutWidget",[_6ad,_6ae,_6af],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_6b2.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _6b5=this.getParent&&this.getParent();if(!(_6b5&&_6b5.isLayoutContainer)){this.resize();this.own(_6b0.on("resize",lang.hitch(this,"resize")));}},resize:function(_6b6,_6b7){var node=this.domNode;if(_6b6){_6b3.setMarginBox(node,_6b6);}var mb=_6b7||{};lang.mixin(mb,_6b6||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_6b3.getMarginBox(node),mb);}var cs=_6b4.getComputedStyle(node);var me=_6b3.getMarginExtents(node,cs);var be=_6b3.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_6b3.getPadExtents(node,cs);this._contentBox={l:_6b4.toPixelValue(node,cs.paddingLeft),t:_6b4.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_6b8){var cls=this.baseClass+"-child "+(_6b8.baseClass?this.baseClass+"-"+_6b8.baseClass:"");_6b2.add(_6b8.domNode,cls);},addChild:function(_6b9,_6ba){this.inherited(arguments);if(this._started){this._setupChild(_6b9);}},removeChild:function(_6bb){var cls=this.baseClass+"-child"+(_6bb.baseClass?" "+this.baseClass+"-"+_6bb.baseClass:"");_6b2.remove(_6bb.domNode,cls);this.inherited(arguments);}});});},"dojox/uuid/_base":function(){define("dojox/uuid/_base",["dojo/_base/kernel","dojo/_base/lang"],function(dojo){dojo.getObject("uuid",true,dojox);dojox.uuid.NIL_UUID="00000000-0000-0000-0000-000000000000";dojox.uuid.version={UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};dojox.uuid.variant={NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};dojox.uuid.assert=function(_6bc,_6bd){if(!_6bc){if(!_6bd){_6bd="An assert statement failed.\n"+"The method dojox.uuid.assert() was called with a 'false' value.\n";}throw new Error(_6bd);}};dojox.uuid.generateNilUuid=function(){return dojox.uuid.NIL_UUID;};dojox.uuid.isValid=function(_6be){_6be=_6be.toString();var _6bf=(dojo.isString(_6be)&&(_6be.length==36)&&(_6be==_6be.toLowerCase()));if(_6bf){var _6c0=_6be.split("-");_6bf=((_6c0.length==5)&&(_6c0[0].length==8)&&(_6c0[1].length==4)&&(_6c0[2].length==4)&&(_6c0[3].length==4)&&(_6c0[4].length==12));var _6c1=16;for(var i in _6c0){var part=_6c0[i];var _6c2=parseInt(part,_6c1);_6bf=_6bf&&isFinite(_6c2);}}return _6bf;};dojox.uuid.getVariant=function(_6c3){if(!dojox.uuid._ourVariantLookupTable){var _6c4=dojox.uuid.variant;var _6c5=[];_6c5[0]=_6c4.NCS;_6c5[1]=_6c4.NCS;_6c5[2]=_6c4.NCS;_6c5[3]=_6c4.NCS;_6c5[4]=_6c4.NCS;_6c5[5]=_6c4.NCS;_6c5[6]=_6c4.NCS;_6c5[7]=_6c4.NCS;_6c5[8]=_6c4.DCE;_6c5[9]=_6c4.DCE;_6c5[10]=_6c4.DCE;_6c5[11]=_6c4.DCE;_6c5[12]=_6c4.MICROSOFT;_6c5[13]=_6c4.MICROSOFT;_6c5[14]=_6c4.UNKNOWN;_6c5[15]=_6c4.UNKNOWN;dojox.uuid._ourVariantLookupTable=_6c5;}_6c3=_6c3.toString();var _6c6=_6c3.charAt(19);var _6c7=16;var _6c8=parseInt(_6c6,_6c7);dojox.uuid.assert((_6c8>=0)&&(_6c8<=16));return dojox.uuid._ourVariantLookupTable[_6c8];};dojox.uuid.getVersion=function(_6c9){var _6ca="dojox.uuid.getVersion() was not passed a DCE Variant UUID.";dojox.uuid.assert(dojox.uuid.getVariant(_6c9)==dojox.uuid.variant.DCE,_6ca);_6c9=_6c9.toString();var _6cb=_6c9.charAt(14);var _6cc=16;var _6cd=parseInt(_6cb,_6cc);return _6cd;};dojox.uuid.getNode=function(_6ce){var _6cf="dojox.uuid.getNode() was not passed a TIME_BASED UUID.";dojox.uuid.assert(dojox.uuid.getVersion(_6ce)==dojox.uuid.version.TIME_BASED,_6cf);_6ce=_6ce.toString();var _6d0=_6ce.split("-");var _6d1=_6d0[4];return _6d1;};dojox.uuid.getTimestamp=function(_6d2,_6d3){var _6d4="dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.";dojox.uuid.assert(dojox.uuid.getVersion(_6d2)==dojox.uuid.version.TIME_BASED,_6d4);_6d2=_6d2.toString();if(!_6d3){_6d3=null;}switch(_6d3){case "string":case String:return dojox.uuid.getTimestamp(_6d2,Date).toUTCString();break;case "hex":var _6d5=_6d2.split("-");var _6d6=_6d5[0];var _6d7=_6d5[1];var _6d8=_6d5[2];_6d8=_6d8.slice(1);var _6d9=_6d8+_6d7+_6d6;dojox.uuid.assert(_6d9.length==15);return _6d9;break;case null:case "date":case Date:var _6da=3394248;var _6db=16;var _6dc=_6d2.split("-");var _6dd=parseInt(_6dc[0],_6db);var _6de=parseInt(_6dc[1],_6db);var _6df=parseInt(_6dc[2],_6db);var _6e0=_6df&4095;_6e0<<=16;_6e0+=_6de;_6e0*=4294967296;_6e0+=_6dd;var _6e1=_6e0/10000;var _6e2=60*60;var _6e3=_6da;var _6e4=_6e3*_6e2;var _6e5=_6e4*1000;var _6e6=_6e1-_6e5;var _6e7=new Date(_6e6);return _6e7;break;default:dojox.uuid.assert(false,"dojox.uuid.getTimestamp was not passed a valid returnType: "+_6d3);break;}};return dojox.uuid;});},"esriviewer/ui/user/location/UserLocationWidget":function(){define("esriviewer/ui/user/location/UserLocationWidget",["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/topic","../../base/UIWidget","esri/geometry/Point","esri/SpatialReference"],function(_6e8,_6e9,_6ea,lang,on,_6eb,_6ec,_6ed,_6ee){return _6e8([_6ec],{defaultPositioning:{x:20,y:205},browserLocationWkid:4326,isPositionedByConfig:true,positioningParamName:"zoomToUserLocation",maximumAge:0,timeout:6000,enableHighAccuracy:true,postCreate:function(){this.inherited(arguments);_6ea.add(this.domNode,"userLocationCrosshairContainer fivePixelBorderRadius defaultTwoPixelBorder defaultBackground");var _6ef=_6e9.create("div",{className:"commonIcons32 locationCrosshair"});_6e9.place(_6ef,this.domNode);on(_6ef,"click",lang.hitch(this,this.handleZoomToCurrentLocation));this.handleProjectResponse=lang.hitch(this,this._handleProjectResponse);this.zoomToCurrentLocation=lang.hitch(this,this._zoomToCurrentLocation);this.zoomToCurrentLocationError=lang.hitch(this,this._zoomToCurrentLocationError);},handleZoomToCurrentLocation:function(){if(navigator&&navigator.geolocation){navigator.geolocation.getCurrentPosition(this.zoomToCurrentLocation,this.zoomToCurrentLocationError,{maximumAge:this.maximumAge,timeout:this.timeout,enableHighAccuracy:this.enableHighAccuracy});}},_zoomToCurrentLocation:function(_6f0){if(_6f0!=null&&lang.isObject(_6f0)&&_6f0.coords){var pt=new _6ed(_6f0.coords.longitude,_6f0.coords.latitude,new _6ee({wkid:this.browserLocationWkid}));_6eb.publish(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.PROJECT_TO_MAP_SR,pt,this.handleProjectResponse);}},_handleProjectResponse:function(_6f1){if(_6f1!=null&&lang.isArray(_6f1)&&_6f1.length>0){_6eb.publish(VIEWER_GLOBALS.EVENTS.MAP.FLASH.POINT,_6f1[0]);_6eb.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.PAN_TO,_6f1[0],{deepest:true});}},_zoomToCurrentLocationError:function(){_6eb.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,"Could not zoom to current location");VIEWER_UTILS.log("Could not get users current location");}});});},"esriviewer/ui/geocode/ReverseGeocodeWindowWidget":function(){define("esriviewer/ui/geocode/ReverseGeocodeWindowWidget",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojo/dom-style","../window/WindowWidget"],function(_6f2,_6f3,lang,_6f4,_6f5){return _6f2([_6f5],{defaultPositioning:{x:600,y:150},windowWidth:"310px",windowHeaderText:"Find Address By Point",windowIconAltText:"Find Address By Point",positioningParamName:"reverseGeocode",windowIconClass:"commonIcons16 binoculars",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/geocode/ReverseGeocodeWidget"],lang.hitch(this,function(_6f6){this.reverseGeocodeWidget=new _6f6();this.setContent(this.reverseGeocodeWidget.domNode);}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_6f3.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.REVERSE_GEOCODE.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_6f3.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.REVERSE_GEOCODE.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_6f3.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.REVERSE_GEOCODE.TOGGLE,lang.hitch(this,this.toggle)));},hide:function(){this.inherited(arguments);if(this.reverseGeocodeWidget){this.reverseGeocodeWidget.reset();}}});});},"esriviewer/ui/logging/LoggingWidget":function(){require({cache:{"url:esriviewer/ui/logging/template/LoggingWidgetTemplate.html":"<div class=\"loggingWidgetContainer\">\r\n    <div class=\"windowActions\">\r\n        <div class=\"loggingWidgetActionContainerToggleEntry\">\r\n            <div class=\"commonIcons16 information loggingWidgetActionDisplayToggleIcon\"></div>\r\n            <input type=\"checkbox\" data-bind=\"checked:infoDisplayed\"\r\n                   title=\"Toggle Info Messages\"\r\n                   class=\"loggingWidgetActionDisplayCheckbox\"/>\r\n        </div>\r\n        <div class=\"loggingWidgetActionContainerToggleEntry\">\r\n            <div class=\"commonIcons16 warning loggingWidgetActionDisplayToggleIcon\"></div>\r\n            <input type=\"checkbox\" data-bind=\"checked:warningDisplayed\"\r\n                   title=\"Toggle Warning Messages\"\r\n                   class=\"loggingWidgetActionDisplayCheckbox\"/>\r\n        </div>\r\n        <div class=\"loggingWidgetActionContainerToggleEntry\">\r\n            <div class=\"commonIcons16 error loggingWidgetActionDisplayToggleIcon\"></div>\r\n            <input type=\"checkbox\" data-bind=\"checked:errorDisplayed\"\r\n                   title=\"Toggle Error Messages\"\r\n                   class=\"loggingWidgetActionDisplayCheckbox\"/>\r\n\r\n        </div>\r\n        <div class=\"commonIcons16 deleteCross loggingWidgetActionClearIcon\" data-bind=\"visible: hasLogEntries\"\r\n             data-dojo-attach-point=\"clearLogIcon\"\r\n             data-dojo-attach-event=\"onclick: _showConfirmLogTooltip\"></div>\r\n    </div>\r\n    <ul class=\"loggingWidgetEntryList\"\r\n        data-bind=\"foreach: filteredEntries\">\r\n        <li class=\"loggingInfoMessage\" data-bind=\"css: $data.messageStyleClass\">\r\n            <span class=\"loggingMessageTimestamp\"><span>(</span><span\r\n                data-bind=\"text: $data.time\"></span><span>)</span></span>\r\n            <div class=\"loggingWidgetTypeIcon commonIcons16\" data-bind=\"css: $data.iconClass\" style=\"cursor: default\"></div>\r\n            <span class=\"loggingMessageText\" data-bind=\"text:$data.message\"></span>\r\n        </li>\r\n    </ul>\r\n</div>"}});define("esriviewer/ui/logging/LoggingWidget",["dojo/_base/declare","dojo/text!./template/LoggingWidgetTemplate.html","dojo/topic","../base/UITemplatedWidget","dojo/_base/lang","dojo/on","../tooltip/ConfirmTooltip","./model/LoggingViewModel"],function(_6f7,_6f8,_6f9,_6fa,lang,on,_6fb,_6fc){return _6f7([_6fa],{templateString:_6f8,initListeners:function(){this.inherited(arguments);this.subscribes.push(_6f9.subscribe(VIEWER_GLOBALS.EVENTS.LOGGING.ADD,lang.hitch(this,this._addLogging)));this.subscribes.push(_6f9.subscribe(VIEWER_GLOBALS.EVENTS.LOGGING.CLEAR,lang.hitch(this,this._clearLogging)));},postCreate:function(){this.inherited(arguments);this.viewModel=new _6fc();ko.applyBindings(this.viewModel,this.domNode);},_addLogging:function(_6fd,type){if(type!=null&&type!=""){type=type.toLowerCase();}if(type===VIEWER_GLOBALS.LOG_TYPE.WARNING){this._createWarningMessage(_6fd);}else{if(type===VIEWER_GLOBALS.LOG_TYPE.ERROR){this._createErrorMessage(_6fd);}else{this._createInfoMessage(_6fd);}}},_createErrorMessage:function(_6fe){this._createMessage(_6fe,"commonIcons16 error","loggingErrorMessage",VIEWER_GLOBALS.LOG_TYPE.ERROR);},_createInfoMessage:function(_6ff){this._createMessage(_6ff,"commonIcons16 information","loggingInfoMessage",VIEWER_GLOBALS.LOG_TYPE.INFO);},_createWarningMessage:function(_700){this._createMessage(_700,"commonIcons16 warning","loggingWarningMessage",VIEWER_GLOBALS.LOG_TYPE.WARNING);},_createMessage:function(_701,_702,_703,type){this.viewModel.logEntries.push({message:_701,messageStyleClass:_703,iconClass:_702,time:VIEWER_UTILS.getTimeStamp(),type:type});},_clearLogging:function(){this.viewModel.logEntries.removeAll();},_createDeleteAllMessagesTooltip:function(){this.confirmClearLogTooltip=new _6fb({confirmCallback:lang.hitch(this,this._clearLogging),aroundNode:this.clearLogIcon,displayText:"Clear Log? "});},_showConfirmLogTooltip:function(){if(this.confirmClearLogTooltip==null){this._createDeleteAllMessagesTooltip();}if(this.confirmClearLogTooltip){this.confirmClearLogTooltip.show();}},hidePopups:function(){if(this.confirmClearLogTooltip){this.confirmClearLogTooltip.hide();}}});});},"dijit/layout/StackController":function(){define("dijit/layout/StackController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/i18n!../nls/common"],function(_704,_705,_706,_707,keys,lang,on,_708,_709,_70a,_70b,_70c,_70d){var _70e=_705("dijit.layout._StackButton",_70d,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab");}});var _70f=_705("dijit.layout.StackController",[_70a,_70b,_70c],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeypress'></span>",containerId:"",buttonWidget:_70e,buttonWidgetCloseClass:"dijitStackCloseButton",constructor:function(_710){this.pane2button={};},postCreate:function(){this.inherited(arguments);this.subscribe(this.containerId+"-startup","onStartup");this.subscribe(this.containerId+"-addChild","onAddChild");this.subscribe(this.containerId+"-removeChild","onRemoveChild");this.subscribe(this.containerId+"-selectChild","onSelectChild");this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");this.connect(this.containerNode,"click",function(evt){var _711=_709.getEnclosingWidget(evt.target);if(_711!=this.containerNode&&!_711.disabled&&_711.page){for(var _712=evt.target;_712!==this.containerNode;_712=_712.parentNode){if(_706.contains(_712,this.buttonWidgetCloseClass)){this.onCloseButtonClick(_711.page);break;}else{if(_712==_711.domNode){this.onButtonClick(_711.page);break;}}}}});},onStartup:function(info){_704.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}var _713=_709.byId(this.containerId).containerNode,_714=this.pane2button,_715={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled"},_716=function(attr,_717){return on(_713,"attrmodified-"+attr,function(evt){var _718=_714[evt.detail&&evt.detail.widget&&evt.detail.widget.id];if(_718){_718.set(_717,evt.detail.newValue);}});};for(var attr in _715){this.own(_716(attr,_715[attr]));}},destroy:function(){for(var pane in this.pane2button){this.onRemoveChild(_709.byId(pane));}this.inherited(arguments);},onAddChild:function(page,_719){var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;var _71a=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});this.addChild(_71a,_719);this.pane2button[page.id]=_71a;page.controlButton=_71a;if(!this._currentChild){this.onSelectChild(page);}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _71b=this.pane2button[page.id];if(_71b){this.removeChild(_71b);delete this.pane2button[page.id];_71b.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _71c=this.pane2button[this._currentChild.id];_71c.set("checked",false);_71c.focusNode.setAttribute("tabIndex","-1");}var _71d=this.pane2button[page.id];_71d.set("checked",true);this._currentChild=page;_71d.focusNode.setAttribute("tabIndex","0");var _71e=_709.byId(this.containerId);_71e.containerNode.setAttribute("aria-labelledby",_71d.id);},onButtonClick:function(page){var _71f=this.pane2button[page.id];_708.focus(_71f.focusNode);if(this._currentChild&&this._currentChild.id===page.id){_71f.set("checked",true);}var _720=_709.byId(this.containerId);_720.selectChild(page);},onCloseButtonClick:function(page){var _721=_709.byId(this.containerId);_721.closeChild(page);if(this._currentChild){var b=this.pane2button[this._currentChild.id];if(b){_708.focus(b.focusNode||b.domNode);}}},adjacent:function(_722){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_722=!_722;}var _723=this.getChildren();var idx=_704.indexOf(_723,this.pane2button[this._currentChild.id]),_724=_723[idx];var _725;do{idx=(idx+(_722?1:_723.length-1))%_723.length;_725=_723[idx];}while(_725.disabled&&_725!=_724);return _725;},onkeypress:function(e){if(this.disabled||e.altKey){return;}var _726=null;if(e.ctrlKey||!e._djpage){switch(e.charOrCode){case keys.LEFT_ARROW:case keys.UP_ARROW:if(!e._djpage){_726=false;}break;case keys.PAGE_UP:if(e.ctrlKey){_726=false;}break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:if(!e._djpage){_726=true;}break;case keys.PAGE_DOWN:if(e.ctrlKey){_726=true;}break;case keys.HOME:var _727=this.getChildren();for(var idx=0;idx<_727.length;idx++){var _728=_727[idx];if(!_728.disabled){this.onButtonClick(_728.page);break;}}_707.stop(e);break;case keys.END:var _727=this.getChildren();for(var idx=_727.length-1;idx>=0;idx--){var _728=_727[idx];if(!_728.disabled){this.onButtonClick(_728.page);break;}}_707.stop(e);break;case keys.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_707.stop(e);break;default:if(e.ctrlKey){if(e.charOrCode===keys.TAB){this.onButtonClick(this.adjacent(!e.shiftKey).page);_707.stop(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_707.stop(e);}}}}if(_726!==null){this.onButtonClick(this.adjacent(_726).page);_707.stop(e);}}},onContainerKeyPress:function(info){info.e._djpage=info.page;this.onkeypress(info.e);}});_70f.StackButton=_70e;return _70f;});},"esriviewer/ui/header/model/HeaderLogoViewModel":function(){define("esriviewer/ui/header/model/HeaderLogoViewModel",["dojo/_base/declare"],function(_729){return _729([],{constructor:function(){this.showHeaderIcon=ko.observable(true);this.headerIconUrl=ko.observable();this.headerMainText=ko.observable("Esri Map Viewer");this.helpUrl=ko.observable("http://www.esri.com");this.contactUrl=ko.observable("http://www.esri.com/about-esri/contact");this.contactText=ko.observable("Contact Esri");this.helpText=ko.observable("Help");}});});},"esriviewer/ui/basemap/BasemapGalleryWidget":function(){require({cache:{"url:esriviewer/ui/basemap/template/BasemapGalleryTemplate.html":"<div data-bind=\"visible: visible\" class=\"defaultBackground basemapGalleryContainer\">\r\n    <div data-dojo-attach-point=\"basemapGalleryContents\"></div>\r\n</div>"}});define("esriviewer/ui/basemap/BasemapGalleryWidget",["dojo/_base/declare","dojo/text!./template/BasemapGalleryTemplate.html","dojo/_base/lang","dojo/_base/connect","dojo/topic","dojo/_base/window","dojo/dom-class","dojo/dom-construct","../base/UITemplatedWidget","./model/BasemapGalleryViewModel","esri/dijit/BasemapGallery","esri/arcgis/utils"],function(_72a,_72b,lang,con,_72c,_72d,_72e,_72f,_730,_731,_732,_733){return _72a([_730],{animateOnPlace:false,usePortalBasemaps:false,animate:true,templateString:_72b,constructor:function(){this.animation=VIEWER_GLOBALS.ANIMATIONS.FADE.IN;},initListeners:function(){_72c.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.TOGGLE,lang.hitch(this,this.handleToggleBasemapGallery));_72c.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.SHOW,lang.hitch(this,this.handleShowBasemapGallery));_72c.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.HIDE,lang.hitch(this,this.handleHideBasemapGallery));_72c.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.IS_HIDDEN,lang.hitch(this,this.handleBasemapGalleryIsHidden));_72c.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.GALLERY.GET,lang.hitch(this,this.handleGetBasemapGallery));},handleGetBasemapGallery:function(_734){if(_734!=null&&lang.isFunction(_734)){_734(this.basemapGallery);}},loadViewerConfigurationData:function(){var _735;_72c.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"map",function(_736){_735=_736;});if(_735){if(_735.useConfiguredPortalBasemaps!=null){this.usePortalBasemaps=_735.useConfiguredPortalBasemaps;}}var _737=null;_72c.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"animationsEnabled",function(_738){_737=_738;});if(_737!=null){this.animate=_737;}},handleBasemapGalleryIsHidden:function(_739){if(_739!=null&&lang.isFunction(_739)){_739(!this.viewModel.visible());}},handleHideBasemapGallery:function(){if(this.viewModel.visible()){this.viewModel.visible(false);if(this.animate){this._removeAnimationClasses();}}},handleShowBasemapGallery:function(){if(!this.viewModel.visible()){this.viewModel.visible(true);if(this.animate){this._animateWidget();}}},handleToggleBasemapGallery:function(){if(!this.viewModel.visible()){this.handleShowBasemapGallery();}else{this.handleHideBasemapGallery();}},postCreate:function(){this.inherited(arguments);this.viewModel=new _731();ko.applyBindings(this.viewModel,this.domNode);_72c.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.BASEMAP_GALLERY,this);var map;dojo.publish(VIEWER_GLOBALS.EVENTS.MAP.GET,function(_73a){map=_73a;});var _73b={map:map,showArcGISBasemaps:true};var _73c;_72c.publish(VIEWER_GLOBALS.EVENTS.PORTAL.GET_INSTANCE,function(_73d){_73c=_73d;});if(this.usePortalBasemaps&&_73c){var _73e;_72c.publish(VIEWER_GLOBALS.EVENTS.PORTAL.GET_BASEMAPS,lang.hitch(this,function(_73f){_73e=_73f;if(_73e&&_73e.length>0){_73b.showArcGISBasemaps=false;_73b.basemaps=_73e;}this._initGallery(_73b);}));}else{this._initGallery(_73b);}},_initGallery:function(_740){this.basemapGallery=new _732(_740,this.basemapGalleryContents);this.basemapGallery.on("load",lang.hitch(this,this.handleBasemapGalleryLoaded));con.connect(this.basemapGallery,"onSelectionChange",lang.hitch(this,this.handleBasemapSelectionChanged));this.basemapGallery.startup();},handleBasemapSelectionChanged:function(){this.handleHideBasemapGallery();_72c.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.CHANGED);},handleBasemapGalleryLoaded:function(){}});});},"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","url:esriviewer/ui/throbber/template/ThrobberTemplate.html":"<div class=\"loadingThrobber\"\r\n     style=\"display:none\">\r\n    <div class=\"loadingThrobberInner\">\r\n        <div class=\"loadingIcon\"></div>\r\n    </div>\r\n</div>","dojo/dnd/Avatar":function(){define("dojo/dnd/Avatar",["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_741,win,dom,_742,_743,_744,has,_745){return _741("dojo.dnd.Avatar",null,{constructor:function(_746){this.manager=_746;this.construct();},construct:function(){var a=_744.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_747=this.manager.source,node,b=_744.create("tbody",null,a),tr=_744.create("tr",null,b),td=_744.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;if(has("highcontrast")){_744.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);}_744.create("span",{innerHTML:_747.generateText?this._generateText():""},td);_742.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_747.creator){node=_747._normalizedCreator(_747.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _748=_744.create("table"),_749=_744.create("tbody",null,_748);_749.appendChild(node);node=_748;}}node.id="";tr=_744.create("tr",null,b);td=_744.create("td",null,tr);td.appendChild(node);_742.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){_744.destroy(this.node);this.node=false;},update:function(){_743.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(has("highcontrast")){var icon=dom.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}_745(("tr.dojoDndAvatarHeader td span"+(has("highcontrast")?" span":"")),this.node).forEach(function(node){node.innerHTML=this.manager.source.generateText?this._generateText():"";},this);},_generateText:function(){return this.manager.nodes.length.toString();}});});},"dojo/dnd/move":function(){define("dojo/dnd/move",["../_base/declare","../dom-geometry","../dom-style","./common","./Mover","./Moveable"],function(_74a,_74b,_74c,dnd,_74d,_74e){var _74f=_74a("dojo.dnd.move.constrainedMoveable",_74e,{constraints:function(){},within:false,constructor:function(node,_750){if(!_750){_750={};}this.constraints=_750.constraints;this.within=_750.within;},onFirstMove:function(_751){var c=this.constraintBox=this.constraints.call(this,_751);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=_74b.getMarginSize(_751.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_752,_753){var c=this.constraintBox,s=_752.node.style;this.onMoving(_752,_753);_753.l=_753.l<c.l?c.l:c.r<_753.l?c.r:_753.l;_753.t=_753.t<c.t?c.t:c.b<_753.t?c.b:_753.t;s.left=_753.l+"px";s.top=_753.t+"px";this.onMoved(_752,_753);}});var _754=_74a("dojo.dnd.move.boxConstrainedMoveable",_74f,{box:{},constructor:function(node,_755){var box=_755&&_755.box;this.constraints=function(){return box;};}});var _756=_74a("dojo.dnd.move.parentConstrainedMoveable",_74f,{area:"content",constructor:function(node,_757){var area=_757&&_757.area;this.constraints=function(){var n=this.node.parentNode,s=_74c.getComputedStyle(n),mb=_74b.getMarginBox(n,s);if(area=="margin"){return mb;}var t=_74b.getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=_74b.getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=_74b.getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});return {constrainedMoveable:_74f,boxConstrainedMoveable:_754,parentConstrainedMoveable:_756};});},"url:esriviewer/ui/layers/base/template/UserPersistedLayersListingTemplate.html":"<div>\r\n    <div class=\"userPersistsedLayersClearContainer\" data-bind=\"visible: hasEntries\">\r\n        <div class=\"userPersistsedLayersClearLbl\" data-bind=\"click:clearEntries\">Clear Entries</div>\r\n    </div>\r\n    <div class=\"addedUserPersistedLayersListContainer\" data-dojo-attach-point=\"addedUserPersistedGraphicsListContainer\">\r\n        <ul class=\"viewerList\" data-bind=\"foreach: addedUserPersistedLayers\">\r\n            <li class=\"graphicsListEntry\">\r\n                <div title=\"Delete Layer\" class=\"viewerListEntryRemoveIcon commonIcons16 remove\"\r\n                     data-bind=\"click:$parent.removeUserPersistedLayer\"></div>\r\n                <div title=\"Add Layer To Map\" class=\"viewerListGenericIcon commonIcons16 layerShow\"\r\n                     data-bind=\"click:$parent.addPersistedLayerToMap\"></div>\r\n                <span class=\"graphicsListEntryLabel\" data-bind=\"text: $data.name\"></span>\r\n\r\n                <div data-bind=\"css: $parent.persistedLayerInfoIconClass, attr:{title:$data.url}\"></div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>","esriviewer/portal/PortalSupport":function(){define("esriviewer/portal/PortalSupport",["dojo/_base/declare","dojo/topic","dojo/_base/connect","dojo/_base/lang","esri/arcgis/Portal","../base/ConfigurationEntryMixin","./PortalSearcher","../base/DataLoaderSupport","esri/dijit/Basemap","esri/dijit/BasemapLayer"],function(_758,_759,con,lang,_75a,_75b,_75c,_75d,_75e,_75f){return _758([_75b,_75d],{constructor:function(){this.portalConfiguration=null;this.loadViewerConfigurationData();if(this.portalConfiguration!=null&&lang.isObject(this.portalConfiguration)&&this.portalConfiguration.url!=null&&this.portalConfiguration.url!=""){this.initPortal();}else{VIEWER_UTILS.log("Portal Configuration not found",VIEWER_GLOBALS.LOG_TYPE.ERROR);_759.publish(VIEWER_GLOBALS.EVENTS.PORTAL.INITIALIZED);}},initPortal:function(){this.portal=new _75a.Portal(this.portalConfiguration.url);con.connect(this.portal,"onLoad",lang.hitch(this,this._handlePortalLoaded));},_handlePortalLoaded:function(_760){this._createPortalSearcher();this.initListeners();_759.publish(VIEWER_GLOBALS.EVENTS.PORTAL.INITIALIZED);},initListeners:function(){_759.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.GET_INSTANCE,lang.hitch(this,this.handleGetPortalInstance));_759.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.LOG_IN,lang.hitch(this,this.handlePortalLogIn));_759.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.LOG_OUT,lang.hitch(this,this.handlePortalLogOut));_759.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.IS_USER_LOGGED_IN,lang.hitch(this,this.handleIsUserLoggedIn));_759.subscribe(VIEWER_GLOBALS.EVENTS.PORTAL.GET_BASEMAPS,lang.hitch(this,this.getBasemaps));},getBasemaps:function(_761){if(_761!=null&&lang.isFunction(_761)){var self=this;var _762=[];if(this.portal&&this.portal.basemapGalleryGroupQuery){var _763=this.portal.basemapGalleryGroupQuery.replace("id:","group:");_759.publish(VIEWER_GLOBALS.EVENTS.PORTAL.SEARCH_WEBMAPS,_763,null,null,null,function(_764){if(_764&&_764.results){var _765;var _766={f:"json"};for(var i=0;i<_764.results.length;i++){_765=_764.results[i];self.loadJsonP(_765.itemDataUrl,_766,lang.partial(function(item,_767){var _768=[];for(var j=0;j<_767.baseMap.baseMapLayers.length;j++){var _769=new _75f({url:_767.baseMap.baseMapLayers[j].url});_768.push(_769);}var _76a=new _75e({thumbnailUrl:item.thumbnailUrl,title:item.title,layers:_768});_762.push(_76a);if(_762.length==_764.results.length){_761(_762);}},_765));}}});}}},handleIsUserLoggedIn:function(_76b){if(_76b!=null&&lang.isFunction(_76b)){_76b(this.portal&&this.portal.getPortalUser()!=null);}},handlePortalLogOut:function(){this.portal.signOut();_759.publish(VIEWER_GLOBALS.EVENTS.PORTAL.USER_LOGGED_OUT);},handlePortalLogIn:function(_76c){this.portal.signIn().then(lang.hitch(this,function(user){_759.publish(VIEWER_GLOBALS.EVENTS.PORTAL.USER_LOGGED_IN,user);if(_76c!=null&&lang.isFunction(_76c)){_76c(user);}}));},loadViewerConfigurationData:function(){var _76d;_759.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"portal",function(_76e){_76d=_76e;});this.portalConfiguration=_76d;},handleGetPortalInstance:function(_76f){if(_76f!=null&&lang.isFunction(_76f)){_76f(this.portal);}},_createPortalSearcher:function(){this.portalSearcher=new _75c();}});});},"dojox/sql/_crypto":function(){define("dojox/sql/_crypto",["dijit","dojo","dojox"],function(_770,dojo,_771){dojo.provide("dojox.sql._crypto");dojo.mixin(_771.sql._crypto,{_POOL_SIZE:100,encrypt:function(_772,_773,_774){this._initWorkerPool();var msg={plaintext:_772,password:_773};msg=dojo.toJson(msg);msg="encr:"+String(msg);this._assignWork(msg,_774);},decrypt:function(_775,_776,_777){this._initWorkerPool();var msg={ciphertext:_775,password:_776};msg=dojo.toJson(msg);msg="decr:"+String(msg);this._assignWork(msg,_777);},_initWorkerPool:function(){if(!this._manager){try{this._manager=google.gears.factory.create("beta.workerpool","1.0");this._unemployed=[];this._employed={};this._handleMessage=[];var self=this;this._manager.onmessage=function(msg,_778){var _779=self._employed["_"+_778];self._employed["_"+_778]=undefined;self._unemployed.push("_"+_778);if(self._handleMessage.length){var _77a=self._handleMessage.shift();self._assignWork(_77a.msg,_77a.callback);}_779(msg);};var _77b="function _workerInit(){"+"gearsWorkerPool.onmessage = "+String(this._workerHandler)+";"+"}";var code=_77b+" _workerInit();";for(var i=0;i<this._POOL_SIZE;i++){this._unemployed.push("_"+this._manager.createWorker(code));}}catch(exp){throw exp.message||exp;}}},_assignWork:function(msg,_77c){if(!this._handleMessage.length&&this._unemployed.length){var _77d=this._unemployed.shift().substring(1);this._employed["_"+_77d]=_77c;this._manager.sendMessage(msg,parseInt(_77d,10));}else{this._handleMessage={msg:msg,callback:_77c};}},_workerHandler:function(msg,_77e){var Sbox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];var Rcon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]];function _77f(_780,w){var Nb=4;var Nr=w.length/Nb-1;var _781=[[],[],[],[]];for(var i=0;i<4*Nb;i++){_781[i%4][Math.floor(i/4)]=_780[i];}_781=_782(_781,w,0,Nb);for(var _783=1;_783<Nr;_783++){_781=_784(_781,Nb);_781=_785(_781,Nb);_781=_786(_781,Nb);_781=_782(_781,w,_783,Nb);}_781=_784(_781,Nb);_781=_785(_781,Nb);_781=_782(_781,w,Nr,Nb);var _787=new Array(4*Nb);for(var i=0;i<4*Nb;i++){_787[i]=_781[i%4][Math.floor(i/4)];}return _787;};function _784(s,Nb){for(var r=0;r<4;r++){for(var c=0;c<Nb;c++){s[r][c]=Sbox[s[r][c]];}}return s;};function _785(s,Nb){var t=new Array(4);for(var r=1;r<4;r++){for(var c=0;c<4;c++){t[c]=s[r][(c+r)%Nb];}for(var c=0;c<4;c++){s[r][c]=t[c];}}return s;};function _786(s,Nb){for(var c=0;c<4;c++){var a=new Array(4);var b=new Array(4);for(var i=0;i<4;i++){a[i]=s[i][c];b[i]=s[i][c]&128?s[i][c]<<1^283:s[i][c]<<1;}s[0][c]=b[0]^a[1]^b[1]^a[2]^a[3];s[1][c]=a[0]^b[1]^a[2]^b[2]^a[3];s[2][c]=a[0]^a[1]^b[2]^a[3]^b[3];s[3][c]=a[0]^b[0]^a[1]^a[2]^b[3];}return s;};function _782(_788,w,rnd,Nb){for(var r=0;r<4;r++){for(var c=0;c<Nb;c++){_788[r][c]^=w[rnd*4+c][r];}}return _788;};function _789(key){var Nb=4;var Nk=key.length/4;var Nr=Nk+6;var w=new Array(Nb*(Nr+1));var temp=new Array(4);for(var i=0;i<Nk;i++){var r=[key[4*i],key[4*i+1],key[4*i+2],key[4*i+3]];w[i]=r;}for(var i=Nk;i<(Nb*(Nr+1));i++){w[i]=new Array(4);for(var t=0;t<4;t++){temp[t]=w[i-1][t];}if(i%Nk==0){temp=_78a(_78b(temp));for(var t=0;t<4;t++){temp[t]^=Rcon[i/Nk][t];}}else{if(Nk>6&&i%Nk==4){temp=_78a(temp);}}for(var t=0;t<4;t++){w[i][t]=w[i-Nk][t]^temp[t];}}return w;};function _78a(w){for(var i=0;i<4;i++){w[i]=Sbox[w[i]];}return w;};function _78b(w){w[4]=w[0];for(var i=0;i<4;i++){w[i]=w[i+1];}return w;};function _78c(_78d,_78e,_78f){if(!(_78f==128||_78f==192||_78f==256)){return "";}var _790=_78f/8;var _791=new Array(_790);for(var i=0;i<_790;i++){_791[i]=_78e.charCodeAt(i)&255;}var key=_77f(_791,_789(_791));key=key.concat(key.slice(0,_790-16));var _792=16;var _793=new Array(_792);var _794=(new Date()).getTime();for(var i=0;i<4;i++){_793[i]=(_794>>>i*8)&255;}for(var i=0;i<4;i++){_793[i+4]=(_794/4294967296>>>i*8)&255;}var _795=_789(key);var _796=Math.ceil(_78d.length/_792);var _797=new Array(_796);for(var b=0;b<_796;b++){for(var c=0;c<4;c++){_793[15-c]=(b>>>c*8)&255;}for(var c=0;c<4;c++){_793[15-c-4]=(b/4294967296>>>c*8);}var _798=_77f(_793,_795);var _799=b<_796-1?_792:(_78d.length-1)%_792+1;var ct="";for(var i=0;i<_799;i++){var _79a=_78d.charCodeAt(b*_792+i);var _79b=_79a^_798[i];ct+=String.fromCharCode(_79b);}_797[b]=_79c(ct);}var _79d="";for(var i=0;i<8;i++){_79d+=String.fromCharCode(_793[i]);}_79d=_79c(_79d);return _79d+"-"+_797.join("-");};function _79e(_79f,_7a0,_7a1){if(!(_7a1==128||_7a1==192||_7a1==256)){return "";}var _7a2=_7a1/8;var _7a3=new Array(_7a2);for(var i=0;i<_7a2;i++){_7a3[i]=_7a0.charCodeAt(i)&255;}var _7a4=_789(_7a3);var key=_77f(_7a3,_7a4);key=key.concat(key.slice(0,_7a2-16));var _7a5=_789(key);_79f=_79f.split("-");var _7a6=16;var _7a7=new Array(_7a6);var _7a8=_7a9(_79f[0]);for(var i=0;i<8;i++){_7a7[i]=_7a8.charCodeAt(i);}var _7aa=new Array(_79f.length-1);for(var b=1;b<_79f.length;b++){for(var c=0;c<4;c++){_7a7[15-c]=((b-1)>>>c*8)&255;}for(var c=0;c<4;c++){_7a7[15-c-4]=((b/4294967296-1)>>>c*8)&255;}var _7ab=_77f(_7a7,_7a5);_79f[b]=_7a9(_79f[b]);var pt="";for(var i=0;i<_79f[b].length;i++){var _7ac=_79f[b].charCodeAt(i);var _7ad=_7ac^_7ab[i];pt+=String.fromCharCode(_7ad);}_7aa[b-1]=pt;}return _7aa.join("");};function _79c(str){return str.replace(/[\0\t\n\v\f\r\xa0!-]/g,function(c){return "!"+c.charCodeAt(0)+"!";});};function _7a9(str){return str.replace(/!\d\d?\d?!/g,function(c){return String.fromCharCode(c.slice(1,-1));});};function _7ae(_7af,_7b0){return _78c(_7af,_7b0,256);};function _7b1(_7b2,_7b3){return _79e(_7b2,_7b3,256);};var cmd=msg.substr(0,4);var arg=msg.substr(5);if(cmd=="encr"){arg=eval("("+arg+")");var _7b4=arg.plaintext;var _7b5=arg.password;var _7b6=_7ae(_7b4,_7b5);gearsWorkerPool.sendMessage(String(_7b6),_77e);}else{if(cmd=="decr"){arg=eval("("+arg+")");var _7b7=arg.ciphertext;var _7b5=arg.password;var _7b6=_7b1(_7b7,_7b5);gearsWorkerPool.sendMessage(String(_7b6),_77e);}}}});});},"esriviewer/ui/layers/base/model/UserPersistedLayersListViewModel":function(){define("esriviewer/ui/layers/base/model/UserPersistedLayersListViewModel",["dojo/_base/declare","dojo/topic","dojo/Evented","dojo/has"],function(_7b8,_7b9,_7ba,has){return _7b8([_7ba],{persistedInfoIconDefaultClasses:"commonIcons16 information",CLEAR_USER_PERSISTED_LAYERS:"clearUserPersistedLayers",REMOVE_USER_PERSISTED_LAYER:"removeUserPersistedLayer",ADD_USER_PERSISTED_LAYER_TO_MAP:"addUserPersistedLayerToMap",constructor:function(){this.persistedLayerInfoIconClass=ko.observable();if((has("ie")<8)){this.persistedLayerInfoIconClass(this.persistedInfoIconDefaultClasses+" userPersistedLayersInfoIconIEHack");}else{this.persistedLayerInfoIconClass(this.persistedInfoIconDefaultClasses+" userPersistedLayersInfoIcon");}var self=this;this.addedUserPersistedLayers=ko.observableArray();this.removeUserPersistedLayer=function(_7bb){if(_7bb==null){return;}self.emit(self.REMOVE_USER_PERSISTED_LAYER,_7bb);self.addedUserPersistedLayers.remove(_7bb);};this.addPersistedLayerToMap=function(_7bc){if(_7bc==null){return;}self.emit(self.ADD_USER_PERSISTED_LAYER_TO_MAP,_7bc);};this.hasEntries=ko.computed(function(){return self.addedUserPersistedLayers().length>0;});},sort:function(){this.addedUserPersistedLayers.sort(function(left,_7bd){var _7be=left.name.toLowerCase();var _7bf=_7bd.name.toLowerCase();return _7be==_7bf?0:(_7be<_7bf?-1:1);});},clearEntries:function(){this.addedUserPersistedLayers.removeAll();this.emit(this.CLEAR_USER_PERSISTED_LAYERS);}});});},"esriviewer/manager/base/ViewerManagerUI":function(){define("esriviewer/manager/base/ViewerManagerUI",["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/topic","./../../ui/user/location/UserLocationWidget","../../ui/footer/FooterTogglerWidget","../../ui/header/HeaderLogo","../../ui/messaging/MessagingWidget","../../ui/navigation/NavigationWidget","../../ui/throbber/ThrobberWidget","dojo/Evented"],function(_7c0,lang,on,_7c1,_7c2,_7c3,_7c4,_7c5,_7c6,_7c7,_7c8){return _7c0([_7c8],{FINALIZE_UI_LOAD_COMPLETE:"finalizeUILoadComplete",loadUI:function(){var _7c9=true;if(lang.isObject(this.viewerConfig.header)){if(this.viewerConfig.header.display!=null){_7c9=!(String(this.viewerConfig.header.display).toLowerCase()=="false");}}if(_7c9){this._createHeaderLogo();}this._createIdentifyWidget();this._createMeasureWidget();this._createQueryBuilderWidget();this._createReverseGeocodeWidget();this.createFooterWidget();this._createConfigureViewerWidget();this._createDrawWidget();this._createLegendWidget();this._createReflectivityWidget();this._createViewerMainToolbar();this.createViewerDefaultTools();this._createNavigationToolbar();this._createWeatherWidget();this._createTimeSliderWidget();if(VIEWER_UTILS.isHtml5FileUploadSupported()){this._createPointUploadWidget();}else{VIEWER_UTILS.log("Point upload widget disabled. HTML 5 not supported",VIEWER_GLOBALS.LOG_TYPE.WARNING);}this._createFeatureEditorWidget();this._createSocialMediaWidget();this._createPrintWidget();this._createZoomToWidget();this._createZoomToUserLocationWidget();this._createLayersTransparencyWidget();this._createViewerAccordion();this._createPortalPublisherWidget();this._createPlottingWidget();this.finalizeUILoad();},finalizeUILoad:function(){if(this.viewerAccordion!=null){this.viewerAccordion.startup();var _7ca=true;}if(this.bookmarkController!=null){this._loadBookmarks();}this.createThrobberWidget();this.emit(this.FINALIZE_UI_LOAD_COMPLETE);},_createHeaderLogo:function(){this.headerLogo=new _7c4();_7c1.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.HEADER,this.headerLogo);},_createIdentifyWidget:function(){if(this.viewerConfig.identifyWidget!=null&&lang.isObject(this.viewerConfig.identifyWidget)&&this.viewerConfig.identifyWidget.create!=null&&this.viewerConfig.identifyWidget.create==true){this.createIdentifyWidget();}},createIdentifyWidget:function(){},_createMeasureWidget:function(){if(this.viewerConfig.geometryServiceUrl!=null&&this.viewerConfig.geometryServiceUrl){if(this.viewerConfig.measureWidget==null||(lang.isObject(this.viewerConfig.measureWidget)&&this.viewerConfig.measureWidget.create!=false)){this.createMeasureWidget();}}},createMeasureWidget:function(){},_createPrintWidget:function(){if(this.viewerConfig.printWidget==null||(lang.isObject(this.viewerConfig.printWidget)&&this.viewerConfig.printWidget.create!=null&&this.viewerConfig.printWidget.create&&this.viewerConfig.printWidget.printTaskUrl!=null)){this.createPrintWidget();}},createPrintWidget:function(){},_createSocialMediaWidget:function(){if(this.viewerConfig.socialMediaWidget==null||(lang.isObject(this.viewerConfig.socialMediaWidget)&&this.viewerConfig.socialMediaWidget.create!=null&&this.viewerConfig.socialMediaWidget.create)){this.createSocialMediaWidget();}},createSocialMediaWidget:function(){},_createFeatureEditorWidget:function(){if(this.viewerConfig.featureEditorWidget!=null&&this.viewerConfig.featureEditorWidget.service!=null&&this.viewerConfig.featureEditorWidget.service.url!=""){this.createFeatureEditorWidget();}},createFeatureEditorWidget:function(){},_createZoomToUserLocationWidget:function(){if(navigator&&navigator.geolocation&&this.viewerConfig.zoomToUserLocationWidget!=null&&lang.isObject(this.viewerConfig.zoomToUserLocationWidget)&&this.viewerConfig.zoomToUserLocationWidget.create===true){this.createZoomToUserLocationWidget();}},createZoomToUserLocationWidget:function(){this.userLocationWidget=new _7c2();_7c1.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.USER_LOCATION,this.userLocationWidget);},_createZoomToWidget:function(){if(this.viewerConfig.zoomToWidget==null||(lang.isObject(this.viewerConfig.zoomToWidget)&&this.viewerConfig.zoomToWidget.create!=null&&this.viewerConfig.zoomToWidget.create)){this.createZoomToWidget();}},createZoomToWidget:function(){},_createPointUploadWidget:function(){if(this.viewerConfig.pointUploadWidget!=null&&this.viewerConfig.pointUploadWidget.create==true){this.createPointUploadWidget();}},createPointUploadWidget:function(){},_createTimeSliderWidget:function(){if(!this.forceHideCoreTimeSlider&&(this.viewerConfig.timeSliderWidget!=null&&this.viewerConfig.timeSliderWidget.create!=false)){this.createTimeSliderWidget();}},createTimeSliderWidget:function(){},_createLayersTransparencyWidget:function(){if(this.viewerConfig.layersTransparencyWidget==null||(lang.isObject(this.viewerConfig.layersTransparencyWidget)&&this.viewerConfig.layersTransparencyWidget.create!=null&&this.viewerConfig.layersTransparencyWidget.create)){this.createLayersTransparencyWidget();}},createLayersTransparencyWidget:function(){},_createConfigureViewerWidget:function(){if(this.viewerConfig.configureWidget==null||this.viewerConfig.configureWidget.create==null||this.viewerConfig.configureWidget.create==true){this.createConfigureViewerWidget();}},createConfigureViewerWidget:function(){},_createReverseGeocodeWidget:function(){if(this.viewerConfig.reverseGeocodeWidget==null||this.viewerConfig.reverseGeocodeWidget.create==null||this.viewerConfig.reverseGeocodeWidget.create==true){if(this.viewerConfig.locators!=null&&lang.isArray(this.viewerConfig.locators)&&this.viewerConfig.locators.length>0){this.createReverseGeocodeWidget();}}},createReverseGeocodeWidget:function(){},_createQueryBuilderWidget:function(){if(this.viewerConfig.queryBuilder&&this.viewerConfig.queryBuilder.create!=null&&this.viewerConfig.queryBuilder.create){this.createQueryBuilderWidget();}},createQueryBuilderWidget:function(){},_createWeatherWidget:function(){if(lang.isObject(this.viewerConfig.weatherWidget)&&this.viewerConfig.weatherWidget.create!=null&&this.viewerConfig.weatherWidget.create==true){this.createWeatherWidget();}},createWeatherWidget:function(){},_createPlottingWidget:function(){if(lang.isObject(this.viewerConfig.plottingWidget)&&this.viewerConfig.plottingWidget.create!=null&&this.viewerConfig.plottingWidget.create==true){this.createPlottingWidget();}},createPlottingWidget:function(){},_createPortalPublisherWidget:function(){if(this.viewerConfig.portal!=null&&lang.isObject(this.viewerConfig.portal)&&this.viewerConfig.portal.url){if(this.viewerConfig.portalPublisher&&this.viewerConfig.portalPublisher.window&&this.viewerConfig.portalPublisher.window.create){this.createPortalPublisherWidget();}}},createPortalPublisherWidget:function(){},createFooterWidget:function(){var _7cb=false;if(lang.isObject(this.viewerConfig.footerTogglerWidget)){if(this.viewerConfig.footerTogglerWidget.create!=null){_7cb=!(String(this.viewerConfig.footerTogglerWidget.create).toLowerCase()=="false");}}if(_7cb){this.footerTogglerWidget=new _7c3();this.footerTogglerWidget.on("firstFooterShow",lang.hitch(this,this.handleFirstFooterShow));_7c1.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.FOOTER,this.footerTogglerWidget);}},handleFirstFooterShow:function(){},_createLoggingWidget:function(){if(this.viewerConfig.logging&&this.viewerConfig.logging.window&&this.viewerConfig.logging.window.create){this.createLoggingWidget();}},createLoggingWidget:function(){},_createMessagingWidget:function(){this.messagingWidget=new _7c5();_7c1.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.MESSAGING,this.messagingWidget);},createThrobberWidget:function(){this.loadingThrobber=new _7c7();_7c1.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.THROBBER,this.loadingThrobber);},_createReflectivityWidget:function(){if(this.viewerConfig.reflectivityWidget!=null&&lang.isObject(this.viewerConfig.reflectivityWidget)&&this.viewerConfig.reflectivityWidget.create==true){this.createReflectivityWidget();}},createReflectivityWidget:function(){},_createLegendWidget:function(){if(this.viewerConfig.map.legend==null||this.viewerConfig.map.legend.create==true){this.createLegendWidget();}},createLegendWidget:function(){},_createNavigationToolbar:function(){this.createNavigationToolbar();if(this.navigationToolbar){_7c1.publish(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.NAVIGATION_TOOLBAR,this.navigationToolbar);}this.processNavigationToolbarAddons();},createNavigationToolbar:function(){this.navigationToolbar=new _7c6();},_createDrawWidget:function(){if(this.viewerConfig.drawWidget==null||!lang.isObject(this.viewerConfig.drawWidget)||this.viewerConfig.drawWidget.create==null||this.viewerConfig.drawWidget.create!=false){this.createDrawWidget();}},createDrawWidget:function(){}});});},"esriviewer/ui/measure/model/MeasureWidgetViewModel":function(){define("esriviewer/ui/measure/model/MeasureWidgetViewModel",["dojo/_base/declare","esri/tasks/GeometryService"],function(_7cc,_7cd){return _7cc([],{constructor:function(){this.areaMeasurementUnits=ko.observableArray([{label:"Acres",value:_7cd.UNIT_ACRES},{label:"Sq Miles",value:_7cd.UNIT_SQUARE_MILES},{label:"Sq Kilometers",value:_7cd.UNIT_SQUARE_KILOMETERS},{label:"Hectares",value:_7cd.UNIT_HECTARES},{label:"Sq Yards",value:_7cd.UNIT_SQUARE_YARDS},{label:"Sq Feet",value:_7cd.UNIT_SQUARE_FEET},{label:"Sq Meters",value:_7cd.UNIT_SQUARE_METERS}]);this.distanceMeasurementUnits=ko.observableArray([{label:"Miles",value:_7cd.UNIT_STATUTE_MILE},{label:"Kilometers",value:_7cd.UNIT_KILOMETER},{label:"Feet",value:_7cd.UNIT_FOOT},{label:"Meters",value:_7cd.UNIT_METER}]);this.locationUnits=ko.observableArray([{label:"Degrees",value:VIEWER_GLOBALS.ESRI_UNITS.DECIMAL_DEGREES},{label:"DMS",value:VIEWER_GLOBALS.ESRI_UNITS.DEGREE_MINUTE_SECONDS}]);this.measureMethodText=ko.observable("");this.unitsText=ko.observable("");this.resultsText=ko.observable("");this.selectedAreaUnits=ko.observable("");this.selectedDistanceUnits=ko.observable("");this.selectedLocationUnits=ko.observable("");this.areaActive=ko.observable(false);this.distanceActive=ko.observable(false);this.locationActive=ko.observable(false);this.measurementResult=ko.observable("");},handleAreaButtonClick:function(){var _7ce=this.areaActive();this.areaActive(!_7ce);this.distanceActive(false);this.locationActive(false);},handleDistanceButtonClick:function(){var _7cf=this.distanceActive();this.distanceActive(!_7cf);this.areaActive(false);this.locationActive(false);},handleLocationButtonClick:function(){var _7d0=this.locationActive();this.locationActive(!_7d0);this.areaActive(false);this.distanceActive(false);},getLabelForDistanceValue:function(_7d1){var _7d2=this.distanceMeasurementUnits();for(var i=0;i<_7d2.length;i++){if(_7d2[i].value==_7d1){return _7d2[i].label;}}return "Unknown";},getLabelForLocationValue:function(_7d3){var _7d4=this.locationUnits();for(var i=0;i<_7d4.length;i++){if(_7d4[i].value==_7d3){return _7d4[i].label;}}return "Unknown";},getLabelForAreaValue:function(_7d5){var _7d6=this.areaMeasurementUnits();for(var i=0;i<_7d6.length;i++){if(_7d6[i].value==_7d5){return _7d6[i].label;}}return "Unknown";}});});},"esriviewer/ui/weather/reflectivity/ReflectivityWidgetWindow":function(){define("esriviewer/ui/weather/reflectivity/ReflectivityWidgetWindow",["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/window","dojo/dom-style","../../window/WindowWidget"],function(_7d7,lang,_7d8,_7d9,_7da,_7db){return _7d7([_7db],{defaultPositioning:{x:400,y:125},windowWidth:"300px",windowHeaderText:"NEXRAD Reflectance",windowIconAltText:"Alt Text",windowIconClass:"commonIcons16 weather",positioningParamName:"reflectance",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/weather/reflectivity/ReflectivityWidget"],lang.hitch(this,function(_7dc){this.reflectivityWidget=new _7dc();this.setContent(this.reflectivityWidget.domNode);if(this.reflectivityWidget){this.reflectivityWidget.showWmsLayer();}}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_7d8.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.REFLECTIVITY.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_7d8.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.REFLECTIVITY.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_7d8.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.REFLECTIVITY.TOGGLE,lang.hitch(this,this.toggle)));},hide:function(){this.inherited(arguments);if(this.reflectivityWidget&&this.reflectivityWidget){this.reflectivityWidget.hideWmsLayer();}},show:function(){this.inherited(arguments);if(this.reflectivityWidget){this.reflectivityWidget.showWmsLayer();}}});});},"esri/dijit/Scalebar":function(){define("esri/dijit/Scalebar",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/query","esri/kernel","esri/lang","esri/domUtils","esri/units","esri/SpatialReference","esri/WKIDUnitConversion","esri/geometry/Point","esri/geometry/ScreenPoint","esri/geometry/Polyline","esri/geometry/geodesicUtils","esri/geometry/webMercatorUtils","esri/geometry/screenUtils","esri/geometry/normalizeUtils"],function(_7dd,lang,_7de,conn,_7df,_7e0,_7e1,_7e2,has,_7e3,_7e4,_7e5,_7e6,_7e7,_7e8,_7e9,_7ea,_7eb,_7ec,_7ed,_7ee,_7ef,_7f0){var _7f1=_7dd(null,{declaredClass:"esri.dijit.Scalebar",map:null,mapUnit:null,scalebarUnit:null,unitsDictionary:[],domNode:null,screenPt1:null,screenPt2:null,constructor:function(_7f2,_7f3){this.metricScalebar=_7e0.create("div",{innerHTML:"<div class='esriScaleLabelDiv'><div class='esriScalebarLabel esriScalebarLineLabel esriScalebarSecondNumber'></div></div><div class='esriScalebarLine esriScalebarMetricLine'></div>"});this.englishScalebar=_7e0.create("div",{innerHTML:"<div class='esriScalebarLine esriScalebarEnglishLine'></div><div class='esriScaleLabelDiv'><div class='esriScalebarLabel esriScalebarLineLabel esriScalebarSecondNumber'></div></div>"});this.domNode=_7e0.create("div");_7f2=_7f2||{};if(!_7f2.map){return;}if(!_7f2.scalebarUnit){this.scalebarUnit="english";}else{if(_7f2.scalebarUnit!=="english"&&_7f2.scalebarUnit!=="metric"&&_7f2.scalebarUnit!=="dual"){return;}else{this.scalebarUnit=_7f2.scalebarUnit;}}if(!_7f2.scalebarStyle){this.scalebarStyle="ruler";}else{if(_7f2.scalebarStyle!=="ruler"&&_7f2.scalebarStyle!=="line"){return;}else{this.scalebarStyle=_7f2.scalebarStyle;}}this.background=_7f2.background;switch(this.scalebarUnit){case "english":if(this.scalebarStyle==="ruler"){this.englishScalebar.innerHTML="<div class='esriScalebarRuler'><div class='esriScalebarRulerBlock upper_firstpiece'></div><div class='esriScalebarRulerBlock upper_secondpiece'></div><div class='esriScalebarRulerBlock lower_firstpiece'></div><div class='esriScalebarRulerBlock lower_secondpiece'></div></div><div class='scaleLabelDiv'><div class='esriScalebarLabel' style='left: -3%'>0</div><div class='esriScalebarLabel esriScalebarFirstNumber'></div><div class='esriScalebarLabel esriScalebarSecondNumber'></div></div>";}this.domNode.appendChild(this.englishScalebar);break;case "metric":if(this.scalebarStyle==="ruler"){this.metricScalebar.innerHTML="<div class='esriScalebarRuler'><div class='esriScalebarRulerBlock upper_firstpiece'></div><div class='esriScalebarRulerBlock upper_secondpiece'></div><div class='esriScalebarRulerBlock lower_firstpiece'></div><div class='esriScalebarRulerBlock lower_secondpiece'></div></div><div class='scaleLabelDiv'><div class='esriScalebarLabel' style='left: -3%'>0</div><div class='esriScalebarLabel esriScalebarFirstNumber'></div><div class='esriScalebarLabel esriScalebarSecondNumber'></div></div>";}this.domNode.appendChild(this.metricScalebar);break;case "dual":this.domNode.appendChild(this.metricScalebar);this.domNode.appendChild(this.englishScalebar);break;}this.map=_7f2.map;if(_7f3){_7f3.appendChild(this.domNode);}else{this.map.container.appendChild(this.domNode);if(_7f2.attachTo){_7df.add(this.domNode,"scalebar_"+_7f2.attachTo);}else{_7df.add(this.domNode,"scalebar_bottom-left");}}_7df.add(this.domNode,"esriScalebar");if(this.map.loaded){this._getDistance(this.map.extent);this._checkBingMaps();}else{var _7f4=conn.connect(this.map,"onLoad",this,function(){conn.disconnect(_7f4);_7f4=null;this._getDistance(this.map.extent);this._checkBingMaps();});}this._mapOnPan=conn.connect(this.map,"onPan",this,this._getDistance);this._mapOnExtentChange=conn.connect(this.map,"onExtentChange",this,this._getDistance);_7de.forEach(this.map.layerIds,function(_7f5,idx){if(this.map.getLayer(_7f5).declaredClass==="esri.virtualearth.VETiledLayer"){conn.connect(this.map.getLayer(_7f5),"onVisibilityChange",lang.hitch(this,function(_7f6){this._checkBingMaps();}));}},this);this._mapOnLayerAdd=conn.connect(this.map,"onLayerAdd",lang.hitch(this,function(_7f7){if(_7f7.declaredClass==="esri.virtualearth.VETiledLayer"){conn.connect(_7f7,"onVisibilityChange",lang.hitch(this,function(_7f8){this._checkBingMaps();}));}this._checkBingMaps();}));this._mapOnLayerRemove=conn.connect(this.map,"onLayerRemove",lang.hitch(this,this._checkBingMaps));},hide:function(){this._hidden=true;_7e6.hide(this.domNode);},show:function(){this._hidden=false;_7e6.show(this.domNode);},destroy:function(){conn.disconnect(this._mapOnPan);conn.disconnect(this._mapOnExtentChange);conn.disconnect(this._mapOnLayerAdd);conn.disconnect(this._mapOnLayerRemove);this.hide();this.map=null;_7e0.destroy(this.domNode);},_checkBingMaps:function(){if(_7df.contains(this.domNode,"scalebar_bottom-left")){_7e2.set(this.domNode,"left","25px");_7de.forEach(this.map.layerIds,function(_7f9,idx){if(this.map.getLayer(_7f9).declaredClass==="esri.virtualearth.VETiledLayer"&&this.map.getLayer(_7f9).visible){var _7fa="95px";if(this.map._mapParams.nav){_7fa="115px";}_7e2.set(this.domNode,"left",_7fa);}},this);}},_getDistance:function(_7fb){var _7fc=_7e1.position(this.domNode,true);var _7fd=_7fc.y-this.map.position.y;_7fd=(_7fd>this.map.height)?this.map.height:_7fd;_7fd=(_7fd<0)?0:_7fd;var _7fe=new _7eb(0,_7fd);var _7ff=new _7eb(this.map.width,_7fd);var _800,_801,_802,_803;this.mapUnit="esriDecimalDegrees";var pt1=_7ef.toMapPoint(_7fb,this.map.width,this.map.height,_7fe);var pt2=_7ef.toMapPoint(_7fb,this.map.width,this.map.height,_7ff);var _804=new _7ea(_7fb.xmin,(_7fb.ymin+_7fb.ymax)/2,this.map.spatialReference);var _805=new _7ea(_7fb.xmax,(_7fb.ymin+_7fb.ymax)/2,this.map.spatialReference);if(this.map.spatialReference.wkid===3857||this.map.spatialReference.wkid===102100||this.map.spatialReference.wkid===102113||(this.map.spatialReference.wkt&&this.map.spatialReference.wkt.indexOf("WGS_1984_Web_Mercator")!=-1)){pt1=_7ee.webMercatorToGeographic(pt1,true);pt2=_7ee.webMercatorToGeographic(pt2,true);_804=_7ee.webMercatorToGeographic(_804,true);_805=_7ee.webMercatorToGeographic(_805,true);}else{if(_7e5.isDefined(_7e9[this.map.spatialReference.wkid])||(this.map.spatialReference.wkt&&this.map.spatialReference.wkt.indexOf("PROJCS")===0)){this.mapUnit="linearUnit";_800=Math.abs(_7fb.xmax-_7fb.xmin);var _806;if(_7e5.isDefined(_7e9[this.map.spatialReference.wkid])){_806=_7e9.values[_7e9[this.map.spatialReference.wkid]];}else{var wkt=this.map.spatialReference.wkt;var _807=wkt.lastIndexOf(",")+1;var end=wkt.lastIndexOf("]]");_806=parseFloat(wkt.substring(_807,end));}_800*=_806;_803=_800/1609;_802=_800/1000;_800/=1000;}}if(this.mapUnit==="esriDecimalDegrees"){var line=new _7ec(new _7e8({wkid:4326}));line.addPath([pt1,pt2]);var _808=_7f0._straightLineDensify(line,10);_800=_7ed.geodesicLengths([_808],_7e7.KILOMETERS)[0];var _809=new _7ec(new _7e8({wkid:4326}));_809.addPath([_804,_805]);var _80a=_7f0._straightLineDensify(_809,10);_801=_7ed.geodesicLengths([_80a],_7e7.KILOMETERS)[0];_803=_800/1.609;_801/=1.609;_802=_800;}if(this.scalebarUnit==="english"){this._getScaleBarLength(_803,"mi");}else{if(this.scalebarUnit==="metric"){this._getScaleBarLength(_802,"km");}else{if(this.scalebarUnit==="dual"){this._getScaleBarLength(_803,"mi");this._getScaleBarLength(_802,"km");}}}},_getScaleBarLength:function(_80b,unit){var _80c=50;var _80d=_80c*_80b/this.map.width;var i=0;var _80e=unit;if(_80d<0.1){if(unit==="mi"){_80d*=5280;_80e="ft";}else{if(unit==="km"){_80d*=1000;_80e="m";}}}while(_80d>=1){_80d/=10;i++;}var _80f,_810;if(_80d>0.5){_80f=1;_810=0.5;}else{if(_80d>0.3){_80f=0.5;_810=0.3;}else{if(_80d>0.2){_80f=0.3;_810=0.2;}else{if(_80d>0.15){_80f=0.2;_810=0.15;}else{if(_80d>0.1){_80f=0.15;_810=0.1;}}}}}var _811=((_80f/_80d)>=(_80d/_810))?_810:_80f;var _812=_811/_80d;var _813=_80c*_812;var _814=Math.pow(10,i)*_811;this._drawScaleBar(_813,_814,_80e);},_drawScaleBar:function(_815,_816,_817){var _818=2*Math.round(_815),_819,_81a,_81b;if(_817==="mi"||_817==="ft"){this.englishScalebar.style.width=_818+"px";_819=_7e3(".esriScalebarFirstNumber",this.englishScalebar);_81a=_7e3(".esriScalebarSecondNumber",this.englishScalebar);_81b=_7e3(".esriScalebarMetricLineBackground",this.englishScalebar);}else{this.metricScalebar.style.width=_818+"px";_819=_7e3(".esriScalebarFirstNumber",this.metricScalebar);_81a=_7e3(".esriScalebarSecondNumber",this.metricScalebar);_81b=_7e3(".esriScalebarMetricLineBackground",this.metricScalebar);}_7de.forEach(_81b,function(_81c,idx){_81c.style.width=_818-2+"px";},this);_7de.forEach(_819,function(_81d,idx){_81d.innerHTML=_816;},this);_7de.forEach(_81a,function(_81e,idx){if(this.mapUnit!=="esriUnknown"){_81e.innerHTML=2*_816+_817;}else{_81e.innerHTML=2*_816+"Unknown Unit";}},this);}});if(has("extend-esri")){lang.setObject("dijit.Scalebar",_7f1,_7e4);}return _7f1;});},"dijit/layout/StackContainer":function(){define("dijit/layout/StackContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/ready","dojo/topic","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(_81f,_820,_821,_822,has,lang,_823,_824,_825,_826,_827){if(has("dijit-legacy-requires")){_823(0,function(){var _828=["dijit/layout/StackController"];require(_828);});}var _829=_821("dijit.layout.StackContainer",_827,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_822.add(this.domNode,"dijitLayoutContainer");this.containerNode.setAttribute("role","tabpanel");},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function(){if(this._started){return;}var _82a=this.getChildren();_81f.forEach(_82a,this._setupChild,this);if(this.persist){this.selectedChildWidget=_825.byId(_820(this.id+"_selectedChild"));}else{_81f.some(_82a,function(_82b){if(_82b.selected){this.selectedChildWidget=_82b;}return _82b.selected;},this);}var _82c=this.selectedChildWidget;if(!_82c&&_82a[0]){_82c=this.selectedChildWidget=_82a[0];_82c.selected=true;}_824.publish(this.id+"-startup",{children:_82a,selected:_82c});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _82d=this.selectedChildWidget;if(_82d){this._showChild(_82d);}}this.inherited(arguments);},_setupChild:function(_82e){this.inherited(arguments);_822.replace(_82e.domNode,"dijitHidden","dijitVisible");_82e.domNode.title="";},addChild:function(_82f,_830){this.inherited(arguments);if(this._started){_824.publish(this.id+"-addChild",_82f,_830);this.layout();if(!this.selectedChildWidget){this.selectChild(_82f);}}},removeChild:function(page){this.inherited(arguments);if(this._started){_824.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _831=this.getChildren();if(_831.length){this.selectChild(_831[0]);}}}if(this._started){this.layout();}},selectChild:function(page,_832){page=_825.byId(page);if(this.selectedChildWidget!=page){var d=this._transition(page,this.selectedChildWidget,_832);this._set("selectedChildWidget",page);_824.publish(this.id+"-selectChild",page);if(this.persist){_820(this.id+"_selectedChild",this.selectedChildWidget.id);}}return d;},_transition:function(_833,_834){if(_834){this._hideChild(_834);}var d=this._showChild(_833);if(_833.resize){if(this.doLayout){_833.resize(this._containerContentBox||this._contentBox);}else{_833.resize();}}return d;},_adjacent:function(_835){var _836=this.getChildren();var _837=_81f.indexOf(_836,this.selectedChildWidget);_837+=_835?1:_836.length-1;return _836[_837%_836.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyPress:function(e){_824.publish(this.id+"-containerKeyPress",{e:e,page:this});},layout:function(){var _838=this.selectedChildWidget;if(_838&&_838.resize){if(this.doLayout){_838.resize(this._containerContentBox||this._contentBox);}else{_838.resize();}}},_showChild:function(page){var _839=this.getChildren();page.isFirstChild=(page==_839[0]);page.isLastChild=(page==_839[_839.length-1]);page._set("selected",true);_822.replace(page.domNode,"dijitVisible","dijitHidden");return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);_822.replace(page.domNode,"dijitHidden","dijitVisible");page.onHide&&page.onHide();},closeChild:function(page){var _83a=page.onClose(this,page);if(_83a){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_83b){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;_81f.forEach(this.getChildren(),function(_83c){if(!_83b){this.removeChild(_83c);}_83c.destroyRecursive(_83b);},this);this._descendantsBeingDestroyed=false;}});_829.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_826,_829.ChildWidgetProperties);return _829;});},"esriviewer/ui/window/WindowWidget":function(){require({cache:{"url:esriviewer/ui/window/template/WindowWidgetTemplate.html":"<div class=\"windowContainer defaultBorder fivePixelBorderRadius defaultBoxShadow\">\r\n    <div data-dojo-attach-point=\"windowHeader\" class=\"windowHeader\">\r\n        <div class=\"windowCloseImg windowAction close\" data-dojo-attach-point=\"windowCloseImg\"\r\n             title=\"Close\"></div>\r\n        <div class=\"windowMinimizeImg windowAction minimize\" data-dojo-attach-point=\"windowMinimizeImg\"\r\n             title=\"Minimize\"></div>\r\n        <div data-dojo-attach-point=\"headerMoverContainer\" class=\"headerMoverContainer\">\r\n            <div class=\"windowIcon ${windowIconClass}\" title=\"${windowIconAltText}\"></div>\r\n            <span class=\"windowHeaderText\">${windowHeaderText}</span>\r\n        </div>\r\n    </div>\r\n    <div class=\"windowContentOuter\" data-dojo-attach-point=\"windowContentOuter\">\r\n        <div data-dojo-attach-point=\"windowContent\" class=\"windowContent\">\r\n            <div data-dojo-attach-point=\"windowLoadingThrobber\" class=\"windowLoadingThrobber\"></div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>"}});define("esriviewer/ui/window/WindowWidget",["dojo/_base/declare","dojo/text!./template/WindowWidgetTemplate.html","dojo/topic","dojo/_base/window","dojo/_base/lang","dojo/on","dojo/dom-construct","dojo/dom-class","dojo/dom-style","../base/UITemplatedWidget","dojo/dnd/Moveable","dojox/layout/ResizeHandle","dojo/_base/connect","dojo/dom-geometry"],function(_83d,_83e,_83f,_840,lang,on,_841,_842,_843,_844,_845,_846,con,_847){return _83d([_844],{resizeAxis:"xy",animate:true,resizable:false,isPositionedByConfig:true,firstShow:true,showOnLoad:false,visible:false,movable:true,canMinimize:true,windowHeight:null,windowWidth:"35%",positioningParamName:"",windowHeaderText:"Window",windowIconClass:"commonIcons16 application",templateString:_83e,closeWindowTitle:"Close Window",windowIconAltText:"Window",constructor:function(){this.animation=VIEWER_GLOBALS.ANIMATIONS.FADE.IN;this.windowTopOffset=(VIEWER_GLOBALS.WINDOW&&VIEWER_GLOBALS.WINDOW.TOP_POSITION_MOVE_OFFSET)?(VIEWER_GLOBALS.WINDOW.TOP_POSITION_MOVE_OFFSET):3;},postCreate:function(){this.inherited(arguments);_841.place(this.domNode,_840.body());this.visible=false;_842.add(this.domNode,"windowHidden");if(this.movable){this._initMover();}else{_843.set(this.windowHeader,"cursor","default");}if(this.windowHeight!=null){_843.set(this.domNode,"height",this.windowHeight);}if(this.windowWidth!=null){_843.set(this.domNode,"width",this.windowWidth);}if(this.resizable){var _848={targetId:this.id,activeResize:true};if(this.minWidth!=null){_848["minWidth"]=this.minWidth;}if(this.minHeight!=null){_848["minHeight"]=this.minHeight;}if(this.resizeAxis){_848["resizeAxis"]=this.resizeAxis;}this.handle=new _846(_848).placeAt(this.domNode);}if(!this.canMinimize){_843.set(this.windowMinimizeImg,"display","none");}if(!this.showOnLoad){this.hide();}else{this.show();}},initListeners:function(){this.inherited(arguments);this.connects.push(on(this.windowCloseImg,"click",lang.hitch(this,this.hide,0)));this.connects.push(on(this.windowMinimizeImg,"click",lang.hitch(this,this.toggleContent)));this.subscribes.push(_83f.subscribe("/dojo/resize/stop",lang.hitch(this,this.handleGlobalResizeFired)));this.subscribes.push(_83f.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.REPOSITION_ALL,lang.hitch(this,this.handleReposition)));},loadViewerConfigurationData:function(){var _849=null;_83f.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"animationsEnabled",function(_84a){_849=_84a;});if(_849!=null){this.animate=_849;}},handleReposition:function(){var pos=_847.position(this.domNode);if(pos.y<this.windowTopOffset){_843.set(this.domNode,"top",this.windowTopOffset+"px");}},handleGlobalResizeFired:function(_84b){if(this.handle){if(_84b.id===this.handle.id){this.onWindowResize();}}},setContent:function(_84c){_841.empty(this.windowContent);_841.place(_84c,this.windowContent);},toggle:function(){if(this.visible){this.hide();}else{this.show();}},show:function(){if(!this.visible){this.onBeforeWindowShow();_842.remove(this.domNode,"windowHidden");if(this.animate){this._animateWidget();}this.visible=true;if(this.firstShow){this.firstShow=false;this.onFirstWindowShow();}this.onAfterWindowShow();}},hide:function(){if(this.visible){this.onBeforeWindowHide();_842.add(this.domNode,"windowHidden");if(this.animate){this._removeAnimationClasses();}this.visible=false;this.hidePopups();this.onAfterWindowHide();}},_initMover:function(){this.mover=new _845(this.domNode,{handle:this.headerMoverContainer});con.connect(this.mover,"onMove",VIEWER_UTILS,VIEWER_UTILS.handleContainerMoved);},toggleContent:function(){var _84d=_843.get(this.windowContentOuter,"display");if(_84d=="none"){this._expand();}else{this._collapse();}},_expand:function(){_842.remove(this.windowHeader,"windowHeaderCollapsed");_843.set(this.windowContentOuter,"display","block");_842.add(this.windowHeader,"windowHeader");if(this.windowHeight!=null){_843.set(this.domNode,"height",this.windowHeight);}this.onWindowExpanded();if(this.handle&&this.handle.resizeHandle){this.handle.resizeHandle.style.display="block";}},_collapse:function(){_842.add(this.windowHeader,"windowHeaderCollapsed");_842.remove(this.windowHeader,"windowHeader");_843.set(this.windowContentOuter,"display","none");if(this.windowHeight!=null){_843.set(this.domNode,"height",null);}this.hidePopups();this.onWindowCollapsed();if(this.handle&&this.handle.resizeHandle){this.handle.resizeHandle.style.display="none";}},hidePopups:function(){},setWindowWidthFromInt:function(_84e){_843.set(this.domNode,"width",_84e+"px");},onWindowExpanded:function(){},onWindowCollapsed:function(){},onWindowResize:function(){},onBeforeWindowShow:function(){},onBeforeWindowHide:function(){},onAfterWindowShow:function(){},onAfterWindowHide:function(){},onFirstWindowShow:function(){}});});},"url:esriviewer/ui/accordion/template/ToolsAccordionTemplate.html":"<div class=\"toolsAccordionContainer fivePixelBorderRadius defaultBoxShadow\">\r\n\r\n</div>","esriviewer/ui/toolbar/base/model/BookmarkListingViewModel":function(){define("esriviewer/ui/toolbar/base/model/BookmarkListingViewModel",["dojo/_base/declare","dojo/topic","dojo/Evented","dojo/dom-construct","dojo/dom-class","dojox/timing"],function(_84f,_850,_851,_852,_853,_854){return _84f([_851],{animate:true,SHOW_CREATE_BOOKMARK:"showCreateBookmark",REMOVE_BOOKMARK_REQUEST:"removeBookmarkRequest",ignoreAddAnimation:true,constructor:function(){this.loadViewerConfigurationData();var self=this;this.showCreateBookmarkIcon=ko.observable(true);this.visible=ko.observable(false);this._removableBookmarks=ko.observableArray();this._bookmarks=ko.observableArray();this.removeClick=function(item,evt){self._removeClick(item,evt);};this.handleBeforeRemoveBookmark=function(_855){if(self.animate){_853.add(_855,VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.OUT);var _856=new _854.Timer(VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.DURATION);_856.onTick=function(){_852.destroy(_855);_856.stop();_856=null;};_856.start();}else{_852.destroy(_855);}};this.handleAfterAddBookmark=function(e){if(!self.ignoreAddAnimation&&self.animate){_853.add(e,VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.IN);var _857=new _854.Timer(VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.DURATION);_857.onTick=function(){_853.remove(e,VIEWER_GLOBALS.ANIMATIONS.LIGHT_SPEED.IN);_857.stop();_857=null;};_857.start();}};},loadViewerConfigurationData:function(){var _858=null;_850.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"animationsEnabled",function(_859){_858=_859;});if(_858!=null){this.animate=_858;}},handleBookmarkClick:function(_85a){if(_85a==null){return;}_850.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.PAN_TO,_85a.point,{zoomLevel:_85a.zoomLevel});},addRemovableBookmark:function(_85b){if(this._removableBookmarks.indexOf(_85b)>-1){return;}this._removableBookmarks.push(_85b);this._removableBookmarks.sort(this._bookmarkSorter);},addBookmark:function(_85c){if(this._bookmarks.indexOf(_85c)>-1){return;}this._bookmarks.push(_85c);this._bookmarks.sort(this._bookmarkSorter);},_bookmarkSorter:function(left,_85d){return left.label==_85d.label?0:(left.label<_85d.label?-1:1);},showCreateBookmark:function(){this.emit(this.SHOW_CREATE_BOOKMARK);},_removeClick:function(_85e,evt){if(_85e!=null){this.emit(this.REMOVE_BOOKMARK_REQUEST,_85e,evt);}},removeBookmark:function(_85f){this._removableBookmarks.remove(_85f);},sortStatic:function(){this._bookmarks.sort(function(left,_860){var _861=left.label.toLowerCase();var _862=_860.label.toLowerCase();return _861==_862?0:(_861<_862?-1:1);});},sortRemovable:function(){this._removableBookmarks.sort(function(left,_863){var _864=left.label.toLowerCase();var _865=_863.label.toLowerCase();return _864==_865?0:(_864<_865?-1:1);});},sortAll:function(){this.sortRemovable();this.sortStatic();}});});},"url:esriviewer/ui/draw/configure/geometry/template/ConfigureTextTemplate.html":"<div class=\"configureDrawGeometryContainer\">\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Font Face</span>\r\n        <select data-bind=\"options: fontFaces ,value:selectedFontFace, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Text Align</span>\r\n        <select data-bind=\"options: textAligns ,value:selectedTextAlign, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Weight</span>\r\n        <select data-bind=\"options: textWeights ,value:selectedTextWeight, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Size</span>\r\n        <select data-bind=\"options: textSizes ,value:selectedTextSize, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Angle</span>\r\n        <select data-bind=\"options: angles ,value:selectedAngle\"></select>\r\n    </div>\r\n    <div class=\"configureDrawColorPickerContainer\" data-dojo-attach-point=\"colorPickerContainer\"></div>\r\n\r\n</div>","esriviewer/ui/layers/base/UserPersistedLayersListWidget":function(){require({cache:{"url:esriviewer/ui/layers/base/template/UserPersistedLayersListingTemplate.html":"<div>\r\n    <div class=\"userPersistsedLayersClearContainer\" data-bind=\"visible: hasEntries\">\r\n        <div class=\"userPersistsedLayersClearLbl\" data-bind=\"click:clearEntries\">Clear Entries</div>\r\n    </div>\r\n    <div class=\"addedUserPersistedLayersListContainer\" data-dojo-attach-point=\"addedUserPersistedGraphicsListContainer\">\r\n        <ul class=\"viewerList\" data-bind=\"foreach: addedUserPersistedLayers\">\r\n            <li class=\"graphicsListEntry\">\r\n                <div title=\"Delete Layer\" class=\"viewerListEntryRemoveIcon commonIcons16 remove\"\r\n                     data-bind=\"click:$parent.removeUserPersistedLayer\"></div>\r\n                <div title=\"Add Layer To Map\" class=\"viewerListGenericIcon commonIcons16 layerShow\"\r\n                     data-bind=\"click:$parent.addPersistedLayerToMap\"></div>\r\n                <span class=\"graphicsListEntryLabel\" data-bind=\"text: $data.name\"></span>\r\n\r\n                <div data-bind=\"css: $parent.persistedLayerInfoIconClass, attr:{title:$data.url}\"></div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/layers/base/UserPersistedLayersListWidget",["dojo/_base/declare","dojo/text!./template/UserPersistedLayersListingTemplate.html","dojo/topic","../../base/UITemplatedWidget","dojo/_base/lang","./model/UserPersistedLayersListViewModel"],function(_866,_867,_868,_869,lang,_86a){return _866([_869],{bindingsApplied:false,templateString:_867,constructor:function(){this.userPersistedGraphics={};},postCreate:function(){this.inherited(arguments);this.viewModel=new _86a();this.viewModel.on(this.viewModel.REMOVE_USER_PERSISTED_LAYER,lang.hitch(this,this.handleRemoveUserPersistedLayer));this.viewModel.on(this.viewModel.ADD_USER_PERSISTED_LAYER_TO_MAP,lang.hitch(this,this.handleAddUserPersistedLayerToMap));this.viewModel.on(this.viewModel.CLEAR_USER_PERSISTED_LAYERS,lang.hitch(this,this.handleClearUserPersistedLayers));},applyBindings:function(){if(!this.bindingsApplied){this.bindingsApplied=true;ko.applyBindings(this.viewModel,this.domNode);}},handleAddUserPersistedLayerToMap:function(_86b){if(_86b==null||!lang.isObject(_86b)||_86b.url==null||_86b.url==""){return;}this.onAddUserPersistedLayerToMap(_86b.url,_86b.name);},onAddUserPersistedLayerToMap:function(_86c,_86d){},handleClearUserPersistedLayers:function(){this.onRemoveAllUserPersistedGraphics();},handleRemoveUserPersistedLayer:function(_86e){if(_86e&&lang.isObject(_86e)){var id=VIEWER_UTILS.getLayerUniqueId(_86e);if(id==null){return;}this.onRemoveUserPersistedGraphics(id);}},onRemoveAllUserPersistedGraphics:function(){},onRemoveUserPersistedGraphics:function(_86f){},addExistingPersistedLayerItems:function(_870){for(var key in _870){this.viewModel.addedUserPersistedLayers.push(_870[key]);}this.viewModel.sort();this.applyBindings();},addPersistedLayer:function(_871){this.viewModel.addedUserPersistedLayers.push(_871);this.viewModel.sort();}});});},"dijit/DropDownMenu":function(){require({cache:{"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n"}});define("dijit/DropDownMenu",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_872,_873,keys,_874,_875,_876){return _872("dijit.DropDownMenu",[_876,_875],{templateString:_874,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);var l=this.isLeftToRight();this._openSubMenuKey=l?keys.RIGHT_ARROW:keys.LEFT_ARROW;this._closeSubMenuKey=l?keys.LEFT_ARROW:keys.RIGHT_ARROW;this.connectKeyNavHandlers([keys.UP_ARROW],[keys.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);_873.stop(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{_873.stop(evt);}break;}}});});},"dijit/Menu":function(){define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_877,_878,_879,_87a,dom,_87b,_87c,_87d,keys,lang,on,has,win,_87e,pm,_87f,_880){if(has("dijit-legacy-requires")){_880(0,function(){var _881=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_877(_881);});}return _879("dijit.Menu",_87f,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_878.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_882){return _87e.get(this._iframeContentDocument(_882))||this._iframeContentDocument(_882)["__parent__"]||(_882.name&&win.doc.frames[_882.name])||null;},_iframeContentDocument:function(_883){return _883.contentDocument||(_883.contentWindow&&_883.contentWindow.document)||(_883.name&&win.doc.frames[_883.name]&&win.doc.frames[_883.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _884=node,_885=this._iframeContentWindow(_884);cn=win.body(_885.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _886={node:node,iframe:_884};_87b.set(node,"_dijitMenu"+this.id,this._bindings.push(_886));var _887=lang.hitch(this,function(cn){var _888=this.selector,_889=_888?function(_88a){return on.selector(_888,_88a);}:function(_88b){return _88b;},self=this;return [on(cn,_889(this.leftClickToOpen?"click":"contextmenu"),function(evt){_87a.stop(evt);self._scheduleOpen(this,_884,{x:evt.pageX,y:evt.pageY});}),on(cn,_889("keydown"),function(evt){if(evt.shiftKey&&evt.keyCode==keys.F10){_87a.stop(evt);self._scheduleOpen(this,_884);}})];});_886.connects=cn?_887(cn):[];if(_884){_886.onloadHandler=lang.hitch(this,function(){var _88c=this._iframeContentWindow(_884);cn=win.body(_88c.document);_886.connects=_887(cn);});if(_884.addEventListener){_884.addEventListener("load",_886.onloadHandler,false);}else{_884.attachEvent("onload",_886.onloadHandler);}}},unBindDomNode:function(_88d){var node;try{node=dom.byId(_88d,this.ownerDocument);}catch(e){return;}var _88e="_dijitMenu"+this.id;if(node&&_87b.has(node,_88e)){var bid=_87b.get(node,_88e)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _88f=b.iframe;if(_88f){if(_88f.removeEventListener){_88f.removeEventListener("load",b.onloadHandler,false);}else{_88f.detachEvent("onload",b.onloadHandler);}}_87b.remove(node,_88e);delete this._bindings[bid];}},_scheduleOpen:function(_890,_891,_892){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_890,iframe:_891,coords:_892});},1);}},_openMyself:function(args){var _893=args.target,_894=args.iframe,_895=args.coords;this.currentTarget=_893;if(_895){if(_894){var ifc=_87c.position(_894,true),_896=this._iframeContentWindow(_894),_897=_87c.docScroll(_896.document);var cs=_87d.getComputedStyle(_894),tp=_87d.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_894,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_894,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_894,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_894,cs.borderTopWidth):0);_895.x+=ifc.x+left-_897.x;_895.y+=ifc.y+top-_897.y;}}else{_895=_87c.position(_893,true);_895.x+=10;_895.y+=10;}var self=this;var _898=this._focusManager.get("prevNode");var _899=this._focusManager.get("curNode");var _89a=!_899||(dom.isDescendant(_899,this.domNode))?_898:_899;function _89b(){if(self.refocus&&_89a){_89a.focus();}pm.close(self);};pm.open({popup:this,x:_895.x,y:_895.y,onExecute:_89b,onCancel:_89b,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_878.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"dijit/form/_CheckBoxMixin":function(){define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(_89c,_89d,_89e){return _89c("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_89f){this._set("readOnly",_89f);_89d.set(this.focusNode,"readOnly",_89f);},_setLabelAttr:undefined,_getSubmitValue:function(_8a0){return !_8a0&&_8a0!==0?"on":_8a0;},_setValueAttr:function(_8a1){_8a1=this._getSubmitValue(_8a1);this._set("value",_8a1);_89d.set(this.focusNode,"value",_8a1);},reset:function(){this.inherited(arguments);this._set("value",this.params.value||"on");_89d.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){_89e.stop(e);return false;}return this.inherited(arguments);}});});},"esriviewer/ui/footer/model/FooterTogglerViewModel":function(){define("esriviewer/ui/footer/model/FooterTogglerViewModel",["dojo/_base/declare"],function(_8a2){return _8a2([],{constructor:function(){this.expanded=ko.observable(false);}});});},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(_8a3,_8a4){return _8a3("dijit._Contained",null,{_getSibling:function(_8a5){var node=this.domNode;do{node=node[_8a5+"Sibling"];}while(node&&node.nodeType!=1);return node&&_8a4.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/_KeyNavContainer":function(){define("dijit/_KeyNavContainer",["dojo/_base/kernel","./_Container","./_FocusMixin","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/event","dojo/dom-attr","dojo/_base/lang"],function(_8a6,_8a7,_8a8,_8a9,keys,_8aa,_8ab,_8ac,lang){return _8aa("dijit._KeyNavContainer",[_8a8,_8a7],{tabIndex:"0",connectKeyNavHandlers:function(_8ad,_8ae){var _8af=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_8a9.forEach(_8ad,function(code){_8af[code]=prev;});_8a9.forEach(_8ae,function(code){_8af[code]=next;});_8af[keys.HOME]=lang.hitch(this,"focusFirstChild");_8af[keys.END]=lang.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){_8a6.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_8a9.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_8b0,_8b1){this.inherited(arguments);this._startupChild(_8b0);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},focusChild:function(_8b2,last){if(!_8b2){return;}if(this.focusedChild&&_8b2!==this.focusedChild){this._onChildBlur(this.focusedChild);}_8b2.set("tabIndex",this.tabIndex);_8b2.focus(last?"end":"start");this._set("focusedChild",_8b2);},_startupChild:function(_8b3){_8b3.set("tabIndex","-1");this.connect(_8b3,"_onFocus",function(){_8b3.set("tabIndex",this.tabIndex);});this.connect(_8b3,"_onBlur",function(){_8b3.set("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focusFirstChild();_8ac.set(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){_8ac.set(this.domNode,"tabIndex",this.tabIndex);}this.focusedChild=null;this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();_8ab.stop(evt);}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(_8b4,dir){if(_8b4){_8b4=this._getSiblingOfChild(_8b4,dir);}var _8b5=this.getChildren();for(var i=0;i<_8b5.length;i++){if(!_8b4){_8b4=_8b5[(dir>0)?0:(_8b5.length-1)];}if(_8b4.isFocusable()){return _8b4;}_8b4=this._getSiblingOfChild(_8b4,dir);}return null;}});});},"esriviewer/ui/draw/configure/model/ConfigureDrawViewModel":function(){define("esriviewer/ui/draw/configure/model/ConfigureDrawViewModel",["dojo/_base/declare"],function(_8b6){return _8b6([],{constructor:function(){this.showConfigureGeometryIcons=ko.observable(true);this.showEnvelopeIcon=ko.observable(true);this.showTextIcon=ko.observable(true);this.pointConfigurationActive=ko.observable(true);this.lineConfigurationActive=ko.observable(false);this.rectangleConfigurationActive=ko.observable(false);this.polygonConfigurationActive=ko.observable(false);this.textConfigurationActive=ko.observable(false);},showPointConfiguration:function(){this.pointConfigurationActive(true);this.lineConfigurationActive(false);this.rectangleConfigurationActive(false);this.polygonConfigurationActive(false);this.textConfigurationActive(false);},showLineConfiguration:function(){this.lineConfigurationActive(true);this.pointConfigurationActive(false);this.rectangleConfigurationActive(false);this.polygonConfigurationActive(false);this.textConfigurationActive(false);},showRectangleConfiguration:function(){this.rectangleConfigurationActive(true);this.lineConfigurationActive(false);this.pointConfigurationActive(false);this.polygonConfigurationActive(false);this.textConfigurationActive(false);},showPolygonConfiguration:function(){this.polygonConfigurationActive(true);this.rectangleConfigurationActive(false);this.lineConfigurationActive(false);this.pointConfigurationActive(false);this.textConfigurationActive(false);},showTextConfiguration:function(){this.textConfigurationActive(true);this.polygonConfigurationActive(false);this.rectangleConfigurationActive(false);this.lineConfigurationActive(false);this.pointConfigurationActive(false);}});});},"url:esriviewer/ui/measure/template/MeasureWidgetTemplate.html":"<div class=\"measurementWidget\">\r\n    <div class=\"measureIcon areaIcon\"\r\n         title=\"Area\"\r\n         data-bind=\"click:handleAreaButtonClick, css: {measurementIconSelected: areaActive}\"></div>\r\n    <div class=\"measureIcon distanceIcon\"\r\n         title=\"Distance\"\r\n         data-bind=\"click:handleDistanceButtonClick, css: {measurementIconSelected: distanceActive}\"></div>\r\n    <div class=\"measureIcon locationIcon\"\r\n         title=\"Location\"\r\n         data-bind=\"click:handleLocationButtonClick, css: {measurementIconSelected: locationActive}\"></div>\r\n    <div class=\"measurementSpacer\">|</div>\r\n    <select data-bind=\"visible: areaActive, options: areaMeasurementUnits ,value:selectedAreaUnits, optionsText: 'label', optionsValue: 'value'\">\r\n    </select>\r\n    <select data-bind=\"visible: distanceActive, options: distanceMeasurementUnits ,value:selectedDistanceUnits, optionsText: 'label', optionsValue: 'value'\">\r\n    </select>\r\n    <select data-bind=\"visible: locationActive, options: locationUnits ,value:selectedLocationUnits, optionsText: 'label', optionsValue: 'value'\">\r\n    </select>\r\n\r\n\r\n    <div class=\"measurementResultsContainer\">\r\n        <span data-bind=\"text: measureMethodText\" class=\"measureMethodText\"></span>\r\n        <span data-bind=\"text: resultsText\" class=\"measureResultsText\"></span>\r\n        <span data-bind=\"text: unitsText\"  class=\"measureUnitsText\"></span>\r\n    </div>\r\n</div>","esriviewer/ui/layers/model/LayersWidgetViewModel":function(){define("esriviewer/ui/layers/model/LayersWidgetViewModel",["dojo/_base/declare","dojo/topic","dojo/Evented"],function(_8b7,_8b8,_8b9){return _8b7([_8b9],{ADD_LAYERS_VISIBLE:"addLayersVisible",constructor:function(){this.firstAddLayersDisplay=true;this.layersListVisible=ko.observable(true);this.addlayersVisible=ko.observable(false);this.persistedLayersVisible=ko.observable(false);this.showWKIDInAddLayers=ko.observable(true);this.showUserPersistedLayersIcon=ko.observable(true);this.viewerWKID=ko.observable("");},showLayersList:function(){this.layersListVisible(true);this.addlayersVisible(false);this.persistedLayersVisible(false);},showAddLayers:function(){if(this.addlayersVisible()){return;}if(this.firstAddLayersDisplay){var _8ba=null;_8b8.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_EXTENT,function(ext){_8ba=ext;});if(_8ba&&_8ba.spatialReference&&_8ba.spatialReference.wkid!=null){this.viewerWKID(_8ba.spatialReference.wkid.toString());}this.firstAddLayersDisplay=false;}this.layersListVisible(false);this.addlayersVisible(true);this.persistedLayersVisible(false);this.emit(this.ADD_LAYERS_VISIBLE);},showUserPersistedLayers:function(){this.layersListVisible(false);this.addlayersVisible(false);this.persistedLayersVisible(true);}});});},"dojox/sql/_base":function(){define("dojox/sql/_base",["dijit","dojo","dojox","dojo/require!dojox/sql/_crypto"],function(_8bb,dojo,_8bc){dojo.provide("dojox.sql._base");dojo.require("dojox.sql._crypto");dojo.mixin(_8bc.sql,{dbName:null,debug:(dojo.exists("dojox.sql.debug")?_8bc.sql.debug:false),open:function(_8bd){if(this._dbOpen&&(!_8bd||_8bd==this.dbName)){return;}if(!this.dbName){this.dbName="dot_store_"+window.location.href.replace(/[^0-9A-Za-z_]/g,"_");if(this.dbName.length>63){this.dbName=this.dbName.substring(0,63);}}if(!_8bd){_8bd=this.dbName;}try{this._initDb();this.db.open(_8bd);this._dbOpen=true;}catch(exp){throw exp.message||exp;}},close:function(_8be){if(dojo.isIE){return;}if(!this._dbOpen&&(!_8be||_8be==this.dbName)){return;}if(!_8be){_8be=this.dbName;}try{this.db.close(_8be);this._dbOpen=false;}catch(exp){throw exp.message||exp;}},_exec:function(_8bf){try{this._initDb();if(!this._dbOpen){this.open();this._autoClose=true;}var sql=null;var _8c0=null;var _8c1=null;var args=dojo._toArray(_8bf);sql=args.splice(0,1)[0];if(this._needsEncrypt(sql)||this._needsDecrypt(sql)){_8c0=args.splice(args.length-1,1)[0];_8c1=args.splice(args.length-1,1)[0];}if(this.debug){this._printDebugSQL(sql,args);}var _8c2;if(this._needsEncrypt(sql)){_8c2=new _8bc.sql._SQLCrypto("encrypt",sql,_8c1,args,_8c0);return null;}else{if(this._needsDecrypt(sql)){_8c2=new _8bc.sql._SQLCrypto("decrypt",sql,_8c1,args,_8c0);return null;}}var rs=this.db.execute(sql,args);rs=this._normalizeResults(rs);if(this._autoClose){this.close();}return rs;}catch(exp){exp=exp.message||exp;if(this._autoClose){try{this.close();}catch(e){}}throw exp;}return null;},_initDb:function(){if(!this.db){try{this.db=google.gears.factory.create("beta.database","1.0");}catch(exp){dojo.setObject("google.gears.denied",true);if(_8bc.off){_8bc.off.onFrameworkEvent("coreOperationFailed");}throw "Google Gears must be allowed to run";}}},_printDebugSQL:function(sql,args){var msg="dojox.sql(\""+sql+"\"";for(var i=0;i<args.length;i++){if(typeof args[i]=="string"){msg+=", \""+args[i]+"\"";}else{msg+=", "+args[i];}}msg+=")";},_normalizeResults:function(rs){var _8c3=[];if(!rs){return [];}while(rs.isValidRow()){var row={};for(var i=0;i<rs.fieldCount();i++){var _8c4=rs.fieldName(i);var _8c5=rs.field(i);row[_8c4]=_8c5;}_8c3.push(row);rs.next();}rs.close();return _8c3;},_needsEncrypt:function(sql){return /encrypt\([^\)]*\)/i.test(sql);},_needsDecrypt:function(sql){return /decrypt\([^\)]*\)/i.test(sql);}});dojo.declare("dojox.sql._SQLCrypto",null,{constructor:function(_8c6,sql,_8c7,args,_8c8){if(_8c6=="encrypt"){this._execEncryptSQL(sql,_8c7,args,_8c8);}else{this._execDecryptSQL(sql,_8c7,args,_8c8);}},_execEncryptSQL:function(sql,_8c9,args,_8ca){var _8cb=this._stripCryptoSQL(sql);var _8cc=this._flagEncryptedArgs(sql,args);var self=this;this._encrypt(_8cb,_8c9,args,_8cc,function(_8cd){var _8ce=false;var _8cf=[];var exp=null;try{_8cf=_8bc.sql.db.execute(_8cb,_8cd);}catch(execError){_8ce=true;exp=execError.message||execError;}if(exp!=null){if(_8bc.sql._autoClose){try{_8bc.sql.close();}catch(e){}}_8ca(null,true,exp.toString());return;}_8cf=_8bc.sql._normalizeResults(_8cf);if(_8bc.sql._autoClose){_8bc.sql.close();}if(_8bc.sql._needsDecrypt(sql)){var _8d0=self._determineDecryptedColumns(sql);self._decrypt(_8cf,_8d0,_8c9,function(_8d1){_8ca(_8d1,false,null);});}else{_8ca(_8cf,false,null);}});},_execDecryptSQL:function(sql,_8d2,args,_8d3){var _8d4=this._stripCryptoSQL(sql);var _8d5=this._determineDecryptedColumns(sql);var _8d6=false;var _8d7=[];var exp=null;try{_8d7=_8bc.sql.db.execute(_8d4,args);}catch(execError){_8d6=true;exp=execError.message||execError;}if(exp!=null){if(_8bc.sql._autoClose){try{_8bc.sql.close();}catch(e){}}_8d3(_8d7,true,exp.toString());return;}_8d7=_8bc.sql._normalizeResults(_8d7);if(_8bc.sql._autoClose){_8bc.sql.close();}this._decrypt(_8d7,_8d5,_8d2,function(_8d8){_8d3(_8d8,false,null);});},_encrypt:function(sql,_8d9,args,_8da,_8db){this._totalCrypto=0;this._finishedCrypto=0;this._finishedSpawningCrypto=false;this._finalArgs=args;for(var i=0;i<args.length;i++){if(_8da[i]){var _8dc=args[i];var _8dd=i;this._totalCrypto++;_8bc.sql._crypto.encrypt(_8dc,_8d9,dojo.hitch(this,function(_8de){this._finalArgs[_8dd]=_8de;this._finishedCrypto++;if(this._finishedCrypto>=this._totalCrypto&&this._finishedSpawningCrypto){_8db(this._finalArgs);}}));}}this._finishedSpawningCrypto=true;},_decrypt:function(_8df,_8e0,_8e1,_8e2){this._totalCrypto=0;this._finishedCrypto=0;this._finishedSpawningCrypto=false;this._finalResultSet=_8df;for(var i=0;i<_8df.length;i++){var row=_8df[i];for(var _8e3 in row){if(_8e0=="*"||_8e0[_8e3]){this._totalCrypto++;var _8e4=row[_8e3];this._decryptSingleColumn(_8e3,_8e4,_8e1,i,function(_8e5){_8e2(_8e5);});}}}this._finishedSpawningCrypto=true;},_stripCryptoSQL:function(sql){sql=sql.replace(/DECRYPT\(\*\)/ig,"*");var _8e6=sql.match(/ENCRYPT\([^\)]*\)/ig);if(_8e6!=null){for(var i=0;i<_8e6.length;i++){var _8e7=_8e6[i];var _8e8=_8e7.match(/ENCRYPT\(([^\)]*)\)/i)[1];sql=sql.replace(_8e7,_8e8);}}_8e6=sql.match(/DECRYPT\([^\)]*\)/ig);if(_8e6!=null){for(i=0;i<_8e6.length;i++){var _8e9=_8e6[i];var _8ea=_8e9.match(/DECRYPT\(([^\)]*)\)/i)[1];sql=sql.replace(_8e9,_8ea);}}return sql;},_flagEncryptedArgs:function(sql,args){var _8eb=new RegExp(/([\"][^\"]*\?[^\"]*[\"])|([\'][^\']*\?[^\']*[\'])|(\?)/ig);var _8ec;var _8ed=0;var _8ee=[];while((_8ec=_8eb.exec(sql))!=null){var _8ef=RegExp.lastMatch+"";if(/^[\"\']/.test(_8ef)){continue;}var _8f0=false;if(/ENCRYPT\([^\)]*$/i.test(RegExp.leftContext)){_8f0=true;}_8ee[_8ed]=_8f0;_8ed++;}return _8ee;},_determineDecryptedColumns:function(sql){var _8f1={};if(/DECRYPT\(\*\)/i.test(sql)){_8f1="*";}else{var _8f2=/DECRYPT\((?:\s*\w*\s*\,?)*\)/ig;var _8f3=_8f2.exec(sql);while(_8f3){var _8f4=new String(RegExp.lastMatch);var _8f5=_8f4.replace(/DECRYPT\(/i,"");_8f5=_8f5.replace(/\)/,"");_8f5=_8f5.split(/\s*,\s*/);dojo.forEach(_8f5,function(_8f6){if(/\s*\w* AS (\w*)/i.test(_8f6)){_8f6=_8f6.match(/\s*\w* AS (\w*)/i)[1];}_8f1[_8f6]=true;});_8f3=_8f2.exec(sql);}}return _8f1;},_decryptSingleColumn:function(_8f7,_8f8,_8f9,_8fa,_8fb){_8bc.sql._crypto.decrypt(_8f8,_8f9,dojo.hitch(this,function(_8fc){this._finalResultSet[_8fa][_8f7]=_8fc;this._finishedCrypto++;if(this._finishedCrypto>=this._totalCrypto&&this._finishedSpawningCrypto){_8fb(this._finalResultSet);}}));}});(function(){var _8fd=_8bc.sql;_8bc.sql=new Function("return dojox.sql._exec(arguments);");dojo.mixin(_8bc.sql,_8fd);})();});},"dojox/timing/_base":function(){define("dojox/timing/_base",["dojo/_base/kernel","dojo/_base/lang"],function(dojo){dojo.experimental("dojox.timing");dojo.getObject("timing",true,dojox);dojox.timing.Timer=function(_8fe){this.timer=null;this.isRunning=false;this.interval=_8fe;this.onStart=null;this.onStop=null;};dojo.extend(dojox.timing.Timer,{onTick:function(){},setInterval:function(_8ff){if(this.isRunning){window.clearInterval(this.timer);}this.interval=_8ff;if(this.isRunning){this.timer=window.setInterval(dojo.hitch(this,"onTick"),this.interval);}},start:function(){if(typeof this.onStart=="function"){this.onStart();}this.isRunning=true;this.timer=window.setInterval(dojo.hitch(this,"onTick"),this.interval);},stop:function(){if(typeof this.onStop=="function"){this.onStop();}this.isRunning=false;window.clearInterval(this.timer);}});return dojox.timing;});},"dijit/form/CheckBox":function(){require({cache:{"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n"}});define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom"],function(_900,_901,_902,has,_903,_904,_905,_906,_907){if(has("dijit-legacy-requires")){_904(0,function(){var _908=["dijit/form/RadioButton"];_900(_908);});}return _901("dijit.form.CheckBox",[_905,_906],{templateString:_907,baseClass:"dijitCheckBox",_setValueAttr:function(_909,_90a){if(typeof _909=="string"){this.inherited(arguments);_909=true;}if(this._created){this.set("checked",_909,_90a);}},_getValueAttr:function(){return (this.checked?this.value:false);},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=this.checked?"checked":"";},_fillContent:function(){},_onFocus:function(){if(this.id){_903("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_903("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dojox/storage/manager":function(){define("dojox/storage/manager",["dijit","dojo","dojox"],function(_90b,dojo,_90c){dojo.provide("dojox.storage.manager");_90c.storage.manager=new function(){this.currentProvider=null;this.available=false;this.providers=[];this._initialized=false;this._onLoadListeners=[];this.initialize=function(){this.autodetect();};this.register=function(name,_90d){this.providers.push(_90d);this.providers[name]=_90d;};this.setProvider=function(_90e){};this.autodetect=function(){if(this._initialized){return;}var _90f=dojo.config["forceStorageProvider"]||false;var _910;for(var i=0;i<this.providers.length;i++){_910=this.providers[i];if(_90f&&_90f==_910.declaredClass){_910.isAvailable();break;}else{if(!_90f&&_910.isAvailable()){break;}}}if(!_910){this._initialized=true;this.available=false;this.currentProvider=null;this.loaded();return;}this.currentProvider=_910;dojo.mixin(_90c.storage,this.currentProvider);_90c.storage.initialize();this._initialized=true;this.available=true;};this.isAvailable=function(){return this.available;};this.addOnLoad=function(func){this._onLoadListeners.push(func);if(this.isInitialized()){this._fireLoaded();}};this.removeOnLoad=function(func){for(var i=0;i<this._onLoadListeners.length;i++){if(func==this._onLoadListeners[i]){this._onLoadListeners.splice(i,1);break;}}};this.isInitialized=function(){if(this.currentProvider!=null&&this.currentProvider.declaredClass=="dojox.storage.FlashStorageProvider"&&_90c.flash.ready==false){return false;}else{return this._initialized;}};this.supportsProvider=function(_911){try{var _912=eval("new "+_911+"()");var _913=_912.isAvailable();if(!_913){return false;}return _913;}catch(e){return false;}};this.getProvider=function(){return this.currentProvider;};this.loaded=function(){this._fireLoaded();};this._fireLoaded=function(){dojo.forEach(this._onLoadListeners,function(i){try{i();}catch(e){}});};this.getResourceList=function(){var _914=[];dojo.forEach(_90c.storage.manager.providers,function(_915){_914=_914.concat(_915.getResourceList());});return _914;};};});},"dijit/tree/_dndSelector":function(){define("dijit/tree/_dndSelector",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/cookie","dojo/mouse","dojo/on","dojo/touch","./_dndContainer"],function(_916,_917,_918,_919,_91a,lang,_91b,_91c,on,_91d,_91e){return _918("dijit.tree._dndSelector",_91e,{constructor:function(){this.selection={};this.anchor=null;if(!this.cookieName&&this.tree.id){this.cookieName=this.tree.id+"SaveSelectedCookie";}this.events.push(on(this.tree.domNode,_91d.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_91d.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_91d.move,lang.hitch(this,"onMouseMove")));},singular:false,getSelectedTreeNodes:function(){var _91f=[],sel=this.selection;for(var i in sel){_91f.push(sel[i]);}return _91f;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_920){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_920){this.anchor=node;}return node;},removeTreeNode:function(node){this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[node]));return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_921){var _922=this.getSelectedTreeNodes();_916.forEach(this._setDifference(_922,_921),lang.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));_916.forEach(this._setDifference(_921,_922),lang.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_916.forEach(ys,function(y){y.__exclude__=true;});var ret=_916.filter(xs,function(x){return !x.__exclude__;});_916.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _923=this.getSelectedTreeNodes();var _924=[],_925=[],_926=[];_916.forEach(_923,function(node){var ary=node.getTreePath(),_927=this.tree.model;_925.push(node);_924.push(ary);ary=_916.map(ary,function(item){return _927.getIdentity(item);},this);_926.push(ary.join("/"));},this);var _928=_916.map(_925,function(node){return node.item;});this.tree._set("paths",_924);this.tree._set("path",_924[0]||[]);this.tree._set("selectedNodes",_925);this.tree._set("selectedNode",_925[0]||null);this.tree._set("selectedItems",_928);this.tree._set("selectedItem",_928[0]||null);if(this.tree.persist&&_926.length>0){_91b(this.cookieName,_926.join(","),{expires:365});}},_getSavedPaths:function(){var tree=this.tree;if(tree.persist&&tree.dndController.cookieName){var oreo,_929=[];oreo=_91b(tree.dndController.cookieName);if(oreo){_929=_916.map(oreo.split(","),function(path){return path.split("/");});}return _929;}},onMouseDown:function(e){if(!this.current||this.tree.isExpandoNode(e.target,this.current)){return;}if(_91c.isLeft(e)){e.preventDefault();}else{if(e.type!="touchstart"){return;}}var _92a=this.current,copy=_917.isCopyKey(e),id=_92a.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_92a,copy,e.shiftKey);},onMouseUp:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(this.current,_917.isCopyKey(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(node,_92b,_92c){if(this.singular){if(this.anchor==node&&_92b){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_92c&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_92d,end,_92e=this.anchor;if(cr<0){_92d=_92e;end=node;}else{_92d=node;end=_92e;}var _92f=[];while(_92d!=end){_92f.push(_92d);_92d=this.tree._getNextNode(_92d);}_92f.push(end);this.setSelection(_92f);}else{if(this.selection[node.id]&&_92b){this.removeTreeNode(node);}else{if(_92b){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},getItem:function(key){var _930=this.selection[key];return {data:_930,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||_91a.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"dojox/flash/_base":function(){define("dojox/flash/_base",["dijit","dojo","dojox","dojo/require!dojo/window"],function(_931,dojo,_932){dojo.provide("dojox.flash._base");dojo.experimental("dojox.flash");dojo.require("dojo.window");_932.flash={ready:false,url:null,_visible:true,_loadedListeners:[],_installingListeners:[],setSwf:function(url,_933){this.url=url;this._visible=true;if(_933!==null&&_933!==undefined){this._visible=_933;}this._initialize();},addLoadedListener:function(_934){this._loadedListeners.push(_934);},addInstallingListener:function(_935){this._installingListeners.push(_935);},loaded:function(){_932.flash.ready=true;if(_932.flash._loadedListeners.length){for(var i=0;i<_932.flash._loadedListeners.length;i++){_932.flash._loadedListeners[i].call(null);}}},installing:function(){if(_932.flash._installingListeners.length){for(var i=0;i<_932.flash._installingListeners.length;i++){_932.flash._installingListeners[i].call(null);}}},_initialize:function(){var _936=new _932.flash.Install();_932.flash.installer=_936;if(_936.needed()){_936.install();}else{_932.flash.obj=new _932.flash.Embed(this._visible);_932.flash.obj.write();_932.flash.comm=new _932.flash.Communicator();}}};_932.flash.Info=function(){this._detectVersion();};_932.flash.Info.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,installing:false,isVersionOrAbove:function(_937,_938,_939){_939=parseFloat("."+_939);if(this.versionMajor>=_937&&this.versionMinor>=_938&&this.versionRevision>=_939){return true;}else{return false;}},_detectVersion:function(){var _93a;for(var _93b=25;_93b>0;_93b--){if(dojo.isIE){var axo;try{if(_93b>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_93b);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(_93b==6){axo.AllowScriptAccess="always";}_93a=axo.GetVariable("$version");}}catch(e){continue;}}else{_93a=this._JSFlashInfo(_93b);}if(_93a==-1){this.capable=false;return;}else{if(_93a!=0){var _93c;if(dojo.isIE){var _93d=_93a.split(" ");var _93e=_93d[1];_93c=_93e.split(",");}else{_93c=_93a.split(".");}this.versionMajor=_93c[0];this.versionMinor=_93c[1];this.versionRevision=_93c[2];var _93f=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(_93f);this.capable=true;break;}}}},_JSFlashInfo:function(_940){if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var _941=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var _942=navigator.plugins["Shockwave Flash"+_941].description;var _943=_942.split(" ");var _944=_943[2].split(".");var _945=_944[0];var _946=_944[1];var _947=(_943[3]||_943[4]).split("r");var _948=_947[1]>0?_947[1]:0;var _949=_945+"."+_946+"."+_948;return _949;}}return -1;}};_932.flash.Embed=function(_94a){this._visible=_94a;};_932.flash.Embed.prototype={width:215,height:138,id:"flashObject",_visible:true,protocol:function(){switch(window.location.protocol){case "https:":return "https";break;default:return "http";break;}},write:function(_94b){var _94c;var _94d=_932.flash.url;var _94e=_94d;var _94f=_94d;var _950=dojo.baseUrl;var _951=document.location.protocol+"//"+document.location.host;if(_94b){var _952=escape(window.location);document.title=document.title.slice(0,47)+" - Flash Player Installation";var _953=escape(document.title);_94e+="?MMredirectURL="+_952+"&MMplayerType=ActiveX"+"&MMdoctitle="+_953+"&baseUrl="+escape(_950)+"&xdomain="+escape(_951);_94f+="?MMredirectURL="+_952+"&MMplayerType=PlugIn"+"&baseUrl="+escape(_950)+"&xdomain="+escape(_951);}else{_94e+="?cachebust="+new Date().getTime();_94e+="&baseUrl="+escape(_950);_94e+="&xdomain="+escape(_951);}if(_94f.indexOf("?")==-1){_94f+="?baseUrl="+escape(_950);}else{_94f+="&baseUrl="+escape(_950);}_94f+="&xdomain="+escape(_951);_94c="<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" "+"codebase=\""+this.protocol()+"://fpdownload.macromedia.com/pub/shockwave/cabs/flash/"+"swflash.cab#version=8,0,0,0\"\n "+"width=\""+this.width+"\"\n "+"height=\""+this.height+"\"\n "+"id=\""+this.id+"\"\n "+"name=\""+this.id+"\"\n "+"align=\"middle\">\n "+"<param name=\"allowScriptAccess\" value=\"always\"></param>\n "+"<param name=\"movie\" value=\""+_94e+"\"></param>\n "+"<param name=\"quality\" value=\"high\"></param>\n "+"<param name=\"bgcolor\" value=\"#ffffff\"></param>\n "+"<embed src=\""+_94f+"\" "+"quality=\"high\" "+"bgcolor=\"#ffffff\" "+"width=\""+this.width+"\" "+"height=\""+this.height+"\" "+"id=\""+this.id+"Embed"+"\" "+"name=\""+this.id+"\" "+"swLiveConnect=\"true\" "+"align=\"middle\" "+"allowScriptAccess=\"always\" "+"type=\"application/x-shockwave-flash\" "+"pluginspage=\""+this.protocol()+"://www.macromedia.com/go/getflashplayer\" "+"></embed>\n"+"</object>\n";dojo.connect(dojo,"loaded",dojo.hitch(this,function(){var _954=this.id+"Container";if(dojo.byId(_954)){return;}var div=document.createElement("div");div.id=this.id+"Container";div.style.width=this.width+"px";div.style.height=this.height+"px";if(!this._visible){div.style.position="absolute";div.style.zIndex="10000";div.style.top="-1000px";}div.innerHTML=_94c;var body=document.getElementsByTagName("body");if(!body||!body.length){throw new Error("No body tag for this page");}body=body[0];body.appendChild(div);}));},get:function(){if(dojo.isIE||dojo.isWebKit){return dojo.byId(this.id);}else{return document[this.id+"Embed"];}},setVisible:function(_955){var _956=dojo.byId(this.id+"Container");if(_955){_956.style.position="absolute";_956.style.visibility="visible";}else{_956.style.position="absolute";_956.style.y="-1000px";_956.style.visibility="hidden";}},center:function(){var _957=this.width;var _958=this.height;var _959=dojo.window.getBox();var x=_959.l+(_959.w-_957)/2;var y=_959.t+(_959.h-_958)/2;var _95a=dojo.byId(this.id+"Container");_95a.style.top=y+"px";_95a.style.left=x+"px";}};_932.flash.Communicator=function(){};_932.flash.Communicator.prototype={_addExternalInterfaceCallback:function(_95b){var _95c=dojo.hitch(this,function(){var _95d=new Array(arguments.length);for(var i=0;i<arguments.length;i++){_95d[i]=this._encodeData(arguments[i]);}var _95e=this._execFlash(_95b,_95d);_95e=this._decodeData(_95e);return _95e;});this[_95b]=_95c;},_encodeData:function(data){if(!data||typeof data!="string"){return data;}data=data.replace("\\","&custom_backslash;");data=data.replace(/\0/g,"&custom_null;");return data;},_decodeData:function(data){if(data&&data.length&&typeof data!="string"){data=data[0];}if(!data||typeof data!="string"){return data;}data=data.replace(/\&custom_null\;/g,"\x00");data=data.replace(/\&custom_lt\;/g,"<").replace(/\&custom_gt\;/g,">").replace(/\&custom_backslash\;/g,"\\");return data;},_execFlash:function(_95f,_960){var _961=_932.flash.obj.get();_960=(_960)?_960:[];for(var i=0;i<_960;i++){if(typeof _960[i]=="string"){_960[i]=this._encodeData(_960[i]);}}var _962=function(){return eval(_961.CallFunction("<invoke name=\""+_95f+"\" returntype=\"javascript\">"+__flash__argumentsToXML(_960,0)+"</invoke>"));};var _963=_962.call(_960);if(typeof _963=="string"){_963=this._decodeData(_963);}return _963;}};_932.flash.Install=function(){};_932.flash.Install.prototype={needed:function(){if(!_932.flash.info.capable){return true;}if(!_932.flash.info.isVersionOrAbove(8,0,0)){return true;}return false;},install:function(){var _964;_932.flash.info.installing=true;_932.flash.installing();if(_932.flash.info.capable==false){_964=new _932.flash.Embed(false);_964.write();}else{if(_932.flash.info.isVersionOrAbove(6,0,65)){_964=new _932.flash.Embed(false);_964.write(true);_964.setVisible(true);_964.center();}else{alert("This content requires a more recent version of the Macromedia "+" Flash Player.");window.location.href=+_932.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer";}}},_onInstallStatus:function(msg){if(msg=="Download.Complete"){_932.flash._initialize();}else{if(msg=="Download.Cancelled"){alert("This content requires a more recent version of the Macromedia "+" Flash Player.");window.location.href=_932.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer";}else{if(msg=="Download.Failed"){alert("There was an error downloading the Flash Player update. "+"Please try again later, or visit macromedia.com to download "+"the latest version of the Flash plugin.");}}}}};_932.flash.info=new _932.flash.Info();});},"esriviewer/ui/basemap/model/BasemapGalleryViewModel":function(){define("esriviewer/ui/basemap/model/BasemapGalleryViewModel",["dojo/_base/declare"],function(_965){return _965([],{constructor:function(){this.visible=ko.observable(false);}});});},"dojo/data/ItemFileReadStore":function(){define("dojo/data/ItemFileReadStore",["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","./util/filter","./util/simpleFetch","../date/stamp"],function(_966,lang,_967,_968,xhr,_969,_96a,_96b,_96c){var _96d=_967("dojo.data.ItemFileReadStore",[_969],{constructor:function(_96e){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_96e.url;this._ccUrl=_96e.url;this.url=_96e.url;this._jsonData=_96e.data;this.data=null;this._datatypeMap=_96e.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_96f){return _96c.fromISOString(_96f);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_96e.urlPreventCache!==undefined){this.urlPreventCache=_96e.urlPreventCache?true:false;}if(_96e.hierarchical!==undefined){this.hierarchical=_96e.hierarchical?true:false;}if(_96e.clearOnClose){this.clearOnClose=true;}if("failOk" in _96e){this.failOk=_96e.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error(this.declaredClass+": Invalid item argument.");}},_assertIsAttribute:function(_970){if(typeof _970!=="string"){throw new Error(this.declaredClass+": Invalid attribute argument.");}},getValue:function(item,_971,_972){var _973=this.getValues(item,_971);return (_973.length>0)?_973[0]:_972;},getValues:function(item,_974){this._assertIsItem(item);this._assertIsAttribute(_974);return (item[_974]||[]).slice(0);},getAttributes:function(item){this._assertIsItem(item);var _975=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_975.push(key);}}return _975;},hasAttribute:function(item,_976){this._assertIsItem(item);this._assertIsAttribute(_976);return (_976 in item);},containsValue:function(item,_977,_978){var _979=undefined;if(typeof _978==="string"){_979=_96a.patternToRegExp(_978,false);}return this._containsValue(item,_977,_978,_979);},_containsValue:function(item,_97a,_97b,_97c){return _968.some(this.getValues(item,_97a),function(_97d){if(_97d!==null&&!lang.isObject(_97d)&&_97c){if(_97d.toString().match(_97c)){return true;}}else{if(_97b===_97d){return true;}}});},isItem:function(_97e){if(_97e&&_97e[this._storeRefPropName]===this){if(this._arrayOfAllItems[_97e[this._itemNumPropName]]===_97e){return true;}}return false;},isItemLoaded:function(_97f){return this.isItem(_97f);},loadItem:function(_980){this._assertIsItem(_980.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},filter:function(_981,_982,_983){var _984=[],i,key;if(_981.query){var _985,_986=_981.queryOptions?_981.queryOptions.ignoreCase:false;var _987={};for(key in _981.query){_985=_981.query[key];if(typeof _985==="string"){_987[key]=_96a.patternToRegExp(_985,_986);}else{if(_985 instanceof RegExp){_987[key]=_985;}}}for(i=0;i<_982.length;++i){var _988=true;var _989=_982[i];if(_989===null){_988=false;}else{for(key in _981.query){_985=_981.query[key];if(!this._containsValue(_989,key,_985,_987[key])){_988=false;}}}if(_988){_984.push(_989);}}_983(_984,_981);}else{for(i=0;i<_982.length;++i){var item=_982[i];if(item!==null){_984.push(item);}}_983(_984,_981);}},_fetchItems:function(_98a,_98b,_98c){var self=this;if(this._loadFinished){this.filter(_98a,this._getItemsArray(_98a.queryOptions),_98b);}else{if(this._jsonFileUrl!==this._ccUrl){_966.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_98a,filter:lang.hitch(self,"filter"),findCallback:lang.hitch(self,_98b)});}else{this._loadInProgress=true;var _98d={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _98e=xhr.get(_98d);_98e.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;self.filter(_98a,self._getItemsArray(_98a.queryOptions),_98b);self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_98c(e,_98a);}});_98e.addErrback(function(_98f){self._loadInProgress=false;_98c(_98f,_98a);});var _990=null;if(_98a.abort){_990=_98a.abort;}_98a.abort=function(){var df=_98e;if(df&&df.fired===-1){df.cancel();df=null;}if(_990){_990.call(_98a);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;self.filter(_98a,this._getItemsArray(_98a.queryOptions),_98b);}catch(e){_98c(e,_98a);}}else{_98c(new Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),_98a);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _991=this._queuedFetches[i],_992=_991.args,_993=_991.filter,_994=_991.findCallback;if(_993){_993(_992,this._getItemsArray(_992.queryOptions),_994);}else{this.fetchItemByIdentity(_992);}}this._queuedFetches=[];}},_getItemsArray:function(_995){if(_995&&_995.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_996){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_997){var _998=false,self=this;function _999(_99a){return (_99a!==null)&&(typeof _99a==="object")&&(!lang.isArray(_99a)||_998)&&(!lang.isFunction(_99a))&&(_99a.constructor==Object||lang.isArray(_99a))&&(typeof _99a._reference==="undefined")&&(typeof _99a._type==="undefined")&&(typeof _99a._value==="undefined")&&self.hierarchical;};function _99b(_99c){self._arrayOfAllItems.push(_99c);for(var _99d in _99c){var _99e=_99c[_99d];if(_99e){if(lang.isArray(_99e)){var _99f=_99e;for(var k=0;k<_99f.length;++k){var _9a0=_99f[k];if(_999(_9a0)){_99b(_9a0);}}}else{if(_999(_99e)){_99b(_99e);}}}}};this._labelAttr=_997.label;var i,item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_997.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(lang.isArray(item)){_998=true;}_99b(item);item[this._rootItemPropName]=true;}var _9a1={},key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _9a2=item[key];if(_9a2!==null){if(!lang.isArray(_9a2)){item[key]=[_9a2];}}else{item[key]=[null];}}_9a1[key]=key;}}while(_9a1[this._storeRefPropName]){this._storeRefPropName+="_";}while(_9a1[this._itemNumPropName]){this._itemNumPropName+="_";}while(_9a1[this._reverseRefMap]){this._reverseRefMap+="_";}var _9a3;var _9a4=_997.identifier;if(_9a4){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_9a4;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_9a3=item[_9a4];var _9a5=_9a3[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_9a5)){this._itemsByIdentity[_9a5]=item;}else{if(this._jsonFileUrl){throw new Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_9a4+"].  Value collided: ["+_9a5+"]");}else{if(this._jsonData){throw new Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_9a4+"].  Value collided: ["+_9a5+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_9a3=item[key];for(var j=0;j<_9a3.length;++j){_9a2=_9a3[j];if(_9a2!==null&&typeof _9a2=="object"){if(("_type" in _9a2)&&("_value" in _9a2)){var type=_9a2._type;var _9a6=this._datatypeMap[type];if(!_9a6){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(lang.isFunction(_9a6)){_9a3[j]=new _9a6(_9a2._value);}else{if(lang.isFunction(_9a6.deserialize)){_9a3[j]=_9a6.deserialize(_9a2._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_9a2._reference){var _9a7=_9a2._reference;if(!lang.isObject(_9a7)){_9a3[j]=this._getItemByIdentity(_9a7);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _9a8=this._arrayOfAllItems[k],_9a9=true;for(var _9aa in _9a7){if(_9a8[_9aa]!=_9a7[_9aa]){_9a9=false;}}if(_9a9){_9a3[j]=_9a8;}}}if(this.referenceIntegrity){var _9ab=_9a3[j];if(this.isItem(_9ab)){this._addReferenceToMap(_9ab,item,key);}}}else{if(this.isItem(_9a2)){if(this.referenceIntegrity){this._addReferenceToMap(_9a2,item,key);}}}}}}}},_addReferenceToMap:function(_9ac,_9ad,_9ae){},getIdentity:function(item){var _9af=this._features["dojo.data.api.Identity"];if(_9af===Number){return item[this._itemNumPropName];}else{var _9b0=item[_9af];if(_9b0){return _9b0[0];}}return null;},fetchItemByIdentity:function(_9b1){var item,_9b2;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){_966.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_9b1});}else{this._loadInProgress=true;var _9b3={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _9b4=xhr.get(_9b3);_9b4.addCallback(function(data){var _9b5=_9b1.scope?_9b1.scope:_966.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_9b1.identity);if(_9b1.onItem){_9b1.onItem.call(_9b5,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_9b1.onError){_9b1.onError.call(_9b5,error);}}});_9b4.addErrback(function(_9b6){self._loadInProgress=false;if(_9b1.onError){var _9b7=_9b1.scope?_9b1.scope:_966.global;_9b1.onError.call(_9b7,_9b6);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_9b1.identity);if(_9b1.onItem){_9b2=_9b1.scope?_9b1.scope:_966.global;_9b1.onItem.call(_9b2,item);}}}}else{item=this._getItemByIdentity(_9b1.identity);if(_9b1.onItem){_9b2=_9b1.scope?_9b1.scope:_966.global;_9b1.onItem.call(_9b2,item);}}},_getItemByIdentity:function(_9b8){var item=null;if(this._itemsByIdentity){if(Object.hasOwnProperty.call(this._itemsByIdentity,_9b8)){item=this._itemsByIdentity[_9b8];}}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_9b8)){item=this._arrayOfAllItems[_9b8];}}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _9b9=this._features["dojo.data.api.Identity"];if(_9b9===Number){return null;}else{return [_9b9];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){_966.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _9ba={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _9bb=xhr.get(_9ba);_9bb.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){throw e;}});_9bb.addErrback(function(_9bc){throw _9bc;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});lang.extend(_96d,_96b);return _96d;});},"url:esriviewer/ui/draw/base/template/GraphicsListingTemplate.html":"<div>\r\n    <div class=\"addGraphicsActionsContainer\" data-dojo-attach-point=\"addGraphicsActionsContainer\">\r\n        <div class=\"graphicsListRightIcon commonIcons16 disk\" title=\"Save Graphics\"\r\n             data-bind=\"click:toggleSaveGraphics, visible:saveGraphicsIconVisible\"></div>\r\n        <div class=\"graphicsListLeftIcon commonIcons16 layerHide\" title=\"Toggle Graphics\"\r\n             data-bind=\"click:toggleAllGraphics, css:{layerShow: allGraphicsVisible}\"></div>\r\n        <div class=\"graphicsListLeftIcon commonIcons16 trash\" title=\"Remove All Graphics\"\r\n             data-dojo-attach-event=\"onclick:showConfirmRemoveAllTooltip\"\r\n             data-dojo-attach-point=\"removeAllGraphicsIcon\"\r\n                ></div>\r\n    </div>\r\n    <div class=\"saveGraphicsInputContainer\" data-bind=\"visible: saveGraphicsInputVisible\">\r\n        <input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-event=\"onKeyUp: handleSaveGraphicsKeyUp\" data-dojo-attach-point=\"userSaveGraphicsNameInput\" placeholder=\"Enter A Label...\"/>\r\n        <span data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:handleSaveGraphics\">Save</span>\r\n    </div>\r\n\r\n    <div class=\"addedGraphicsListContainer\" data-dojo-attach-point=\"addedGraphicsListContainer\">\r\n        <ul data-dojo-attach-point=\"addedGraphicsList\" class=\"viewerList\" data-bind=\"foreach: addedGraphics\">\r\n            <li class=\"graphicsListEntry\">\r\n                <div title=\"Pan And Flash Graphic\"\r\n                     class=\"viewerListGenericIcon commonIcons16 magnifyingGlass\"\r\n                     data-bind=\"click:$parent.zoomToGraphic\"></div>\r\n                <div title=\"Remove Graphic\" class=\"viewerListEntryRemoveIcon commonIcons16 remove\"\r\n                     data-bind=\"click:$parent.removeGraphic\"></div>\r\n                <span class=\"graphicsListEntryLabel\" data-bind=\"text: $data.label\"></span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>","dijit/_PaletteMixin":function(){define("dijit/_PaletteMixin",["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/_base/event","dojo/keys","dojo/_base/lang","./_CssStateMixin","./focus","./typematic"],function(_9bd,_9be,_9bf,_9c0,_9c1,keys,lang,_9c2,_9c3,_9c4){return _9bd("dijit._PaletteMixin",[_9c2],{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,summary:"",_setSummaryAttr:"paletteTableNode",_dyeFactory:function(_9c5){var _9c6=typeof this.dyeClass=="string"?lang.getObject(this.dyeClass):this.dyeClass;return new _9c6(_9c5);},_preparePalette:function(_9c7,_9c8){this._cells=[];var url=this._blankGif;this.connect(this.gridNode,"ondijitclick","_onCellClick");for(var row=0;row<_9c7.length;row++){var _9c9=_9c0.create("tr",{tabIndex:"-1"},this.gridNode);for(var col=0;col<_9c7[row].length;col++){var _9ca=_9c7[row][col];if(_9ca){var _9cb=this._dyeFactory(_9ca,row,col,_9c8[_9ca]);var _9cc=_9c0.create("td",{"class":this.cellClass,tabIndex:"-1",title:_9c8[_9ca],role:"gridcell"},_9c9);_9cb.fillCell(_9cc,url);_9cc.idx=this._cells.length;this._cells.push({node:_9cc,dye:_9cb});}}}this._xDim=_9c7[0].length;this._yDim=_9c7.length;var _9cd={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1};for(var key in _9cd){this.own(_9c4.addKeyListener(this.domNode,{charOrCode:keys[key],ctrlKey:false,altKey:false,shiftKey:false},this,function(){var _9ce=_9cd[key];return function(_9cf){this._navigateByKey(_9ce,_9cf);};}(),this.timeoutChangeRate,this.defaultTimeout));}},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node);},focus:function(){_9c3.focus(this._currentFocus);},_onCellClick:function(evt){var _9d0=evt.target;while(_9d0.tagName!="TD"){if(!_9d0.parentNode||_9d0==this.gridNode){return;}_9d0=_9d0.parentNode;}var _9d1=this._getDye(_9d0).getValue();this._setCurrent(_9d0);_9c3.focus(_9d0);this._setValueAttr(_9d1,true);_9c1.stop(evt);},_setCurrent:function(node){if("_currentFocus" in this){_9be.set(this._currentFocus,"tabIndex","-1");}this._currentFocus=node;if(node){_9be.set(node,"tabIndex",this.tabIndex);}},_setValueAttr:function(_9d2,_9d3){if(this._selectedCell>=0){_9bf.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected");}this._selectedCell=-1;if(_9d2){for(var i=0;i<this._cells.length;i++){if(_9d2==this._cells[i].dye.getValue()){this._selectedCell=i;_9bf.add(this._cells[i].node,this.cellClass+"Selected");break;}}}this._set("value",this._selectedCell>=0?_9d2:null);if(_9d3||_9d3===undefined){this.onChange(_9d2);}},onChange:function(){},_navigateByKey:function(_9d4,_9d5){if(_9d5==-1){return;}var _9d6=this._currentFocus.idx+_9d4;if(_9d6<this._cells.length&&_9d6>-1){var _9d7=this._cells[_9d6].node;this._setCurrent(_9d7);this.defer(lang.hitch(_9c3,"focus",_9d7));}},_getDye:function(cell){return this._cells[cell.idx].dye;}});});},"esriviewer/base/Configurable":function(){define("esriviewer/base/Configurable",["dojo/_base/declare","dojo/_base/xhr","dojo/_base/lang","./DataLoaderSupport"],function(_9d8,xhr,lang,_9d9){return _9d8([_9d9],{configUrl:"",loadConfig:function(){xhr.get({url:this.configUrl,handleAs:"json",load:lang.hitch(this,this.handleConfigLoaded),error:lang.hitch(this,this.handleConfigLoadError)});},loadProxiedConfig:function(){this.loadProxiedJson(this.configUrl,lang.hitch(this,this.handleConfigLoaded),lang.hitch(this,this.handleConfigLoadError));},handleConfigLoaded:function(_9da){},handleConfigLoadError:function(err){}});});},"url:esriviewer/ui/basemap/template/BasemapGalleryTemplate.html":"<div data-bind=\"visible: visible\" class=\"defaultBackground basemapGalleryContainer\">\r\n    <div data-dojo-attach-point=\"basemapGalleryContents\"></div>\r\n</div>","esriviewer/util/ViewerUtils":function(){define("esriviewer/util/ViewerUtils",["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/dom-style","dojox/uuid/Uuid","dojox/uuid/generateTimeBasedUuid","dojo/Deferred","dojo/topic","esri/request"],function(_9db,keys,lang,_9dc,Uuid,_9dd,_9de,_9df,_9e0){return _9db([],{isDebug:false,constructor:function(_9e1){this.html5UploadSupported=window.File&&window.FileReader&&window.FileList&&window.Blob;lang.mixin(this,_9e1||{});Uuid.setGenerator(_9dd);},isHtml5FileUploadSupported:function(){return this.html5UploadSupported;},debug:function(_9e2){if(this.isDebug){this.log(_9e2,VIEWER_GLOBALS.LOG_TYPE.INFO);}},log:function(_9e3,type){if(_9e3==null||_9e3===""){return;}_9df.publish(VIEWER_GLOBALS.EVENTS.LOGGING.ADD,_9e3,type);},handleContainerMoved:function(_9e4,_9e5){var _9e6=false;var _9e7=false;if(_9e5.l<3){_9dc.set(_9e4.node,"left","3px");_9e6=true;}var _9e8=(VIEWER_GLOBALS.WINDOW&&VIEWER_GLOBALS.WINDOW.TOP_POSITION_MOVE_OFFSET)?(VIEWER_GLOBALS.WINDOW.TOP_POSITION_MOVE_OFFSET):3;if(_9e5.t<_9e8){_9dc.set(_9e4.node,"top",_9e8+"px");_9e7=true;}if(_9e6&&_9e7){return;}var _9e9=dijit.getViewport();if(!_9e6){var _9ea=_9dc.get(_9e4.node,"width");var _9eb=_9dc.get(_9e4.node,"left");var _9ec=_9eb+_9ea;if(_9ec>(_9e9.w-3)){_9dc.set(_9e4.node,"left",(_9e9.w-_9ea-3)+"px");}}if(!_9e7){var _9ed=_9dc.get(_9e4.node,"height");var _9ee=_9dc.get(_9e4.node,"top");var _9ef=_9ee+_9ed;if(_9ef>(_9e9.h-3)){_9dc.set(_9e4.node,"top",(_9e9.h-_9ed-5)+"px");}}},generateUUID:function(){var uuid=new Uuid();return uuid.toString();},getTimeStamp:function(){var date=new Date();var _9f0=date.getHours();if(_9f0<12){if(_9f0==0){_9f0=12;}}else{if(_9f0!=12){_9f0=_9f0-12;}}_9f0=_9f0.toString();if(_9f0.length<2){_9f0="0"+_9f0;}var _9f1=date.getMinutes().toString();if(_9f1.length<2){_9f1="0"+_9f1;}var _9f2=date.getSeconds().toString();if(_9f2.length<2){_9f2="0"+_9f2;}return _9f0+":"+_9f1+":"+_9f2;},sendJsonPQuery:function(url,_9f3,_9f4,_9f5,_9f6){if(_9f5==null){_9f5=lang.hitch(this,function(_9f7){var msg="Could not resource : "+url+". Please verify URL is accessible.";VIEWER_UTILS.log(msg,VIEWER_GLOBALS.LOG_TYPE.ERROR);_9df.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,msg);});}if(_9f6==null){_9f6="callback";}var _9f8={callbackParamName:_9f6,content:_9f3,url:url};_9e0(_9f8).then(_9f4,_9f5);},isEnterKey:function(e){return e.keyCode==keys.ENTER;},joinUrl:function(url,_9f9){var _9fa=url.lastIndexOf("/")==url.length-1;if(!_9fa){url+="/";}if(_9f9[0]==="/"){_9f9=_9f9.substring(1);}return url+_9f9;},getLayerInfoFromService:function(_9fb,_9fc,_9fd,_9fe){if(_9fe==null){_9fe="callback";}var _9ff=lang.hitch(this,function(_a00){var msg="could not load layer from service: "+_a01;VIEWER_UTILS.log(msg,VIEWER_GLOBALS.LOG_TYPE.ERROR);_9df.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,msg);});if(_9fb!=null&&_9fc!=null&&_9fd){var _a01=_9fb+"/"+_9fc;}var _a02={callbackParamName:_9fe,content:{f:"json"},url:_a01};_9e0(_a02).then(_9fd,_9ff);},endsWith:function(_a03,_a04){var _a05=_a03.lastIndexOf(_a04);return (_a05!=-1)&&(_a05+_a04.length==_a03.length);},getFileExtension:function(_a06){var _a07=_a06.lastIndexOf(".");if(_a07<0||_a07===_a06.length-1){return "";}return _a06.substr(_a07+1);},getFileExtensionLower:function(_a08){return this.getFileExtension(_a08).toLowerCase();},getServiceTypeFromUrl:function(url){if(this.endsWith(url,VIEWER_GLOBALS.SERVICE_TYPES.MAP_SERVER)||this.endsWith(url,VIEWER_GLOBALS.SERVICE_TYPES.MAP_SERVER+"/")){return VIEWER_GLOBALS.SERVICE_TYPES.MAP_SERVER;}else{if(this.endsWith(url,VIEWER_GLOBALS.SERVICE_TYPES.IMAGE_SERVER)||this.endsWith(url,VIEWER_GLOBALS.SERVICE_TYPES.IMAGE_SERVER+"/")){return VIEWER_GLOBALS.SERVICE_TYPES.IMAGE_SERVER;}else{if(this.endsWith(url,VIEWER_GLOBALS.SERVICE_TYPES.GP_SERVER)||this.endsWith(url,VIEWER_GLOBALS.SERVICE_TYPES.GP_SERVER+"/")){return VIEWER_GLOBALS.SERVICE_TYPES.GP_SERVER;}else{if(this.endsWith(url,VIEWER_GLOBALS.SERVICE_TYPES.GLOBE_SERVER)||this.endsWith(url,VIEWER_GLOBALS.SERVICE_TYPES.GLOBE_SERVER+"/")){return VIEWER_GLOBALS.SERVICE_TYPES.GLOBE_SERVER;}else{if(this.endsWith(url,VIEWER_GLOBALS.SERVICE_TYPES.GEOCODE_SERVER)||this.endsWith(url,VIEWER_GLOBALS.SERVICE_TYPES.GEOCODE_SERVER+"/")){return VIEWER_GLOBALS.SERVICE_TYPES.GEOCODE_SERVER;}else{if(REG_EXP_UTILS.isKMLExtension(url)){return VIEWER_GLOBALS.SERVICE_TYPES.KML;}else{if(REG_EXP_UTILS.isFeatureLayer(url)){return VIEWER_GLOBALS.SERVICE_TYPES.FEATURE_SERVER;}else{return null;}}}}}}}},getServiceDescription:function(_a09,_a0a,_a0b,_a0c){if(_a0c==null){_a0c="callback";}if(_a0b==null){_a0b=lang.hitch(this,function(_a0d){var msg="Could not load service description for : "+_a09+". Please verify service is online.";});}if(_a09!=null&&_a0a){var _a0e={callbackParamName:_a0c,content:{f:"json"},url:_a09};_9e0(_a0e).then(_a0a,_a0b);}},getLayerNameFromLayer:function(_a0f){if(_a0f.layerAliasName!=null&&_a0f.layerAliasName!=""){return _a0f.layerAliasName;}else{if(_a0f.name!=null&&_a0f.name!=""){return _a0f.name;}else{if(_a0f.id!=null){return _a0f.id;}else{if(_a0f.url!=null){return _a0f.url;}}}}return "Layer";},getLabelForEsriUnit:function(_a10){if(_a10===VIEWER_GLOBALS.ESRI_UNITS.METERS){return "meters";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.FEET){return "feet";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.YARDS){return "yards";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.MILES){return "miles";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.NAUTICAL_MILES){return "nautical miles";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.MILLIMETERS){return "millimeters";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.CENTIMETERS){return "centimeters";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.DECIMETERS){return "decimeters";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.KILOMETERS){return "kilometers";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_MILES){return "square miles";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_METERS){return "square meters";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_KILOMETERS){return "square kilometers";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_ARES){return "square ares";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_HECTARES){return "square hectares";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_CENTIMETERS){return "square centimeters";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_DECIMETERS){return "square decimeters";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_FEET){return "square feet";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_INCHES){return "square inches";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_MILLIMETERS){return "square millimeters";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_YARDS){return "square yards";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_UNKNOWN){return "square unknown";}else{if(_a10===VIEWER_GLOBALS.ESRI_UNITS.DECIMAL_DEGREES){return "decimal degrees";}}}}}}}}}}}}}}}}}}}}}}return "unknown";},getShortLabelForEsriUnit:function(_a11){if(_a11===VIEWER_GLOBALS.ESRI_UNITS.METERS){return "m";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.FEET){return "f";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.YARDS){return "y";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.MILES){return "M";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.NAUTICAL_MILES){return "NM";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.MILLIMETERS){return "mm";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.CENTIMETERS){return "cm";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.DECIMETERS){return "dm";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.KILOMETERS){return "KM";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_MILES){return "square miles";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_METERS){return "Sq m";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_KILOMETERS){return "Sq KM";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_ARES){return "Sq Ares";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_HECTARES){return "Sq Hectares";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_CENTIMETERS){return "Sq cm";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_DECIMETERS){return "Sq dm";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_FEET){return "Sq f";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_INCHES){return "Sq in";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_MILLIMETERS){return "Sq mm";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_YARDS){return "Sq y";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.SQUARE_UNKNOWN){return "Sq unknown";}else{if(_a11===VIEWER_GLOBALS.ESRI_UNITS.DECIMAL_DEGREES){return "Dec. Deg.";}}}}}}}}}}}}}}}}}}}}}}return "Unknown";},getFieldTypeFromLayer:function(_a12,_a13){var _a14=_a13.fields?_a13.fields:(_a13.serviceDescription?_a13.serviceDescription.fields:[]);if(_a13&&_a14&&_a12){for(var i=0;i<_a14.length;i++){if(_a14[i].alias===_a12||_a14[i].name===_a12){return _a14[i].type;}}}return null;},getFileNameFromAtEndOfUrl:function(_a15){if(_a15==null||_a15.lastIndexOf("/")<0){return "";}_a15=_a15.substring(0,(_a15.indexOf("#")==-1)?_a15.length:_a15.indexOf("#"));_a15=_a15.substring(0,(_a15.indexOf("?")==-1)?_a15.length:_a15.indexOf("?"));return _a15.substring(_a15.lastIndexOf("/")+1,_a15.length);},getFileNameFromAtEndOfPath:function(_a16){if(_a16==null||_a16.lastIndexOf("\\")<0){return "";}return _a16.substring(_a16.lastIndexOf("\\")+1,_a16.length);},_intSorter:function(a,b){return a-b;},sortIntegerArray:function(arr){return arr.sort(this._intSorter);},validateUrl:function(url){var def=new _9de();def.resolve(true);return def;},trim:function(str){return str.replace(/^\s*/,"").replace(/\s*$/,"");},getLayerUniqueId:function(_a17){if(_a17==null){return null;}if(lang.isString(_a17)){return _a17.toLowerCase();}var id;if(_a17.url){id=_a17.url.toLowerCase();}else{if(_a17.id!=null){id=_a17.id;}else{id="lyr_"+VIEWER_UTILS.generateUUID();_a17.id=id;}}return id;}});});},"esriviewer/map/base/MapExtentTools":function(){define("esriviewer/map/base/MapExtentTools",["dojo/_base/declare","dojo/topic","dojo/_base/lang","esri/geometry/Extent","esri/geometry/Point"],function(_a18,_a19,lang,_a1a,_a1b){return _a18([],{maxClientZoom:null,extentArray:[],currentExtentIdx:0,extentActionInProgress:false,constructor:function(_a1c){lang.mixin(this,_a1c);this.initListeners();},initListeners:function(){_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.CHANGED,lang.hitch(this,this.handleBasemapChanged));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.PAN_TO,lang.hitch(this,this.panToPoint));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_CENTER,lang.hitch(this,this.handleGetCenter));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_EXTENT,lang.hitch(this,this.handleGetExtent));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GET_LEVEL,lang.hitch(this,this.handleGetLevel));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.SET_LEVEL,lang.hitch(this,this.handleSetLevel));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.DIMENSIONS.GET,lang.hitch(this,this.handleGetMapDimensions));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.SET_EXTENT,lang.hitch(this,this.setMapExtent));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LEVEL.GET_LEVEL_COUNT,lang.hitch(this,this.getZoomLevelCount));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GO_PREV_EXTENT,lang.hitch(this,this.handleGotoPrevExtent));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GO_NEXT_EXTENT,lang.hitch(this,this.handleGotoNextExtent));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.CHANGED,lang.hitch(this,this.handleRecordNewMapExtent));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GO_INITIAL_EXTENT,lang.hitch(this,this.handleGotoInitialExtent));_a19.subscribe(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.GO_LAST_EXTENT,lang.hitch(this,this.handleGotoLastExtent));},handleBasemapChanged:function(){var _a1d=this.getZoomLevelCount();_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.LEVEL.LEVEL_COUNT_CHANGED,_a1d);},getZoomLevelCount:function(_a1e){var _a1f=null;if(lang.isObject(this.map.__tileInfo)&&lang.isArray(this.map.__tileInfo.lods)){_a1f=this.map.__tileInfo.lods.length-1;}var _a20={count:_a1f,current:this.map.getLevel()};if(_a1e!=null&&lang.isFunction(_a1e)){_a1e(_a20);}else{return _a20;}return null;},setMapExtent:function(_a21){if(_a21!=null&&_a21 instanceof _a1a){if(_a21.spatialReference.wkid==this.map.spatialReference.wkid){this.map.setExtent(_a21);}else{_a19.publish(VIEWER_GLOBALS.EVENTS.GEOMETRY_SERVICE.TASKS.PROJECT_TO_MAP_SR,_a21,lang.hitch(this,function(_a22){if(lang.isArray(_a22)&&_a22.length>0){if(this.maxClientZoom!=null){this.map.setLevel(this.maxClientZoom);}this.map.setExtent(_a22[0]);}}));}}},handleGetMapDimensions:function(_a23){if(_a23!=null&&lang.isFunction(_a23)){_a23({width:this.map.width,height:this.map.height});}},handleMapExtentChanged:function(){this.mapDisplayWidgets.showScale();},panToPoint:function(_a24,_a25){var _a26;if(!(_a24 instanceof _a1b)){return;}if(_a25!=null&&lang.isObject(_a25)){if(_a25.zoomTo!=null&&_a25.zoomTo===false){this.map.centerAt(_a24);}else{if(_a25.deepest!=null&&_a25.deepest==true){if(lang.isObject(this.map.__tileInfo)&&lang.isArray(this.map.__tileInfo.lods)){_a26=this.map.__tileInfo.lods.length-1;}}else{if(_a25.zoomLevel!=null&&lang.isObject(this.map.__tileInfo)&&lang.isArray(this.map.__tileInfo.lods)){if(_a26>=this.map.__tileInfo.lods.length){_a26=this.map.__tileInfo.lods.length-1;}else{_a26=_a25.zoomLevel;}}}if(_a26!=null){this.map.centerAndZoom(_a24,_a26);}}}else{if(this.map.getLevel()<8||this.map.getLevel()>15){_a26=7;}else{_a26=this.map.getLevel();}if(this.map.getLevel()==_a26){this.map.centerAt(_a24);}else{this.map.centerAndZoom(_a24,_a26);}}},handleSetLevel:function(_a27){if(_a27<this.map.__tileInfo.lods.length){this.map.setLevel(_a27);}},handleGetLevel:function(_a28){if(_a28==null||!lang.isFunction(_a28)){return;}_a28(this.map.getLevel());},handleGetExtent:function(_a29){if(_a29==null||!lang.isFunction(_a29)){return;}_a29(this.map.extent);},handleGetCenter:function(_a2a){if(_a2a==null||!lang.isFunction(_a2a)){return;}_a2a(this.map.extent.getCenter());},handleRecordNewMapExtent:function(){if(arguments&&arguments[0]&&arguments[0].extent){if(!this.extentActionInProgress){if(this.currentExtentIdx<(this.extentArray.length-1)){this.extentArray.splice(this.currentExtentIdx+1,this.extentArray.length-(this.currentExtentIdx+1));}this.extentArray.push(arguments[0].extent);this.currentExtentIdx=this.extentArray.length-1;_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.PREV_EXTENT_EXISTS,(this.currentExtentIdx>0));_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.NEXT_EXTENT_EXISTS,(this.currentExtentIdx<(this.extentArray.length-1)));}else{this.extentActionInProgress=false;}}},handleGotoPrevExtent:function(){if(this.currentExtentIdx>0){this.currentExtentIdx-=1;this.extentActionInProgress=true;_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.SET_EXTENT,this.extentArray[this.currentExtentIdx]);_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.PREV_EXTENT_EXISTS,(this.currentExtentIdx>0));_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.NEXT_EXTENT_EXISTS,(this.currentExtentIdx<(this.extentArray.length-1)));}},handleGotoNextExtent:function(){if(this.currentExtentIdx<this.extentArray.length-1){this.currentExtentIdx+=1;this.extentActionInProgress=true;_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.SET_EXTENT,this.extentArray[this.currentExtentIdx]);_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.PREV_EXTENT_EXISTS,(this.currentExtentIdx>0));_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.NEXT_EXTENT_EXISTS,(this.currentExtentIdx<(this.extentArray.length-1)));}},handleGotoInitialExtent:function(){this.currentExtentIdx=0;this.extentActionInProgress=true;_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.SET_EXTENT,this.extentArray[this.currentExtentIdx]);_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.PREV_EXTENT_EXISTS,(this.currentExtentIdx>0));_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.NEXT_EXTENT_EXISTS,(this.currentExtentIdx<(this.extentArray.length-1)));},handleGotoLastExtent:function(){this.currentExtentIdx=this.extentArray.length-1;this.extentActionInProgress=true;_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.SET_EXTENT,this.extentArray[this.currentExtentIdx]);_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.PREV_EXTENT_EXISTS,(this.currentExtentIdx>0));_a19.publish(VIEWER_GLOBALS.EVENTS.MAP.EXTENT.NEXT_EXTENT_EXISTS,(this.currentExtentIdx<(this.extentArray.length-1)));}});});},"dojox/timing":function(){define("dojox/timing",["./timing/_base"],function(_a2b){return _a2b;});},"esriviewer/util/RegExpUtils":function(){define("esriviewer/util/RegExpUtils",["dojo/_base/declare"],function(_a2c){return _a2c([],{URLRegExp:new RegExp(/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/),xmlExtensionRegExp:new RegExp(/\.xml$/i),jsonExtensionRegExp:new RegExp(/\.json$/i),kmlExtensionRegExp:new RegExp(/\.kml/i),featureLayerRegExp:new RegExp(/\/[0-9]+$/i),dateRegexp:new RegExp(/\d+\/\d+\/\d{4}/),numberRegExp:new RegExp(/^[+-]?\d*\.?\d*$/),numericRegexp:new RegExp(/[^0-9\.]/g),unsignedNumberRegExp:new RegExp(/^\d*\.?\d*$/),mapServiceNameRegExp:new RegExp(/.*\/(.*)\/MapServer\/?$/),geocodeServiceNameRegExp:new RegExp(/.*\/(.*)\/GeocodeServer\/?$/),imageServiceNameRegExp:new RegExp(/.*\/(.*)\/ImageServer\/?$/),globeServiceNameRegExp:new RegExp(/.*\/(.*)\/GlobeServer\/?$/),gpServerServiceNameRegExp:new RegExp(/.*\/(.*)\/GPServer\/?$/),featureServerServiceNameRegExp:new RegExp(/.*\/(.*)\/FeatureServer\/?$/),numberToStringWithCommasRegexp:new RegExp(/\B(?=(\d{3})+(?!\d))/g),whitespaceRegexp:new RegExp(/\s*/g),isUrl:function(_a2d){return this.URLRegExp.test(_a2d);},isFeatureLayer:function(url){var _a2e=url.indexOf("/"+VIEWER_GLOBALS.SERVICE_TYPES.FEATURE_SERVER+"/")>-1;var _a2f=url.indexOf("/"+VIEWER_GLOBALS.SERVICE_TYPES.MAP_SERVER+"/")>-1;if(_a2e||_a2f){return this.featureLayerRegExp.test(url);}},isXmlExtension:function(_a30){return this.xmlExtensionRegExp.test(_a30);},isJsonExtension:function(_a31){return this.jsonExtensionRegExp.test(_a31);},isKMLExtension:function(_a32){return this.kmlExtensionRegExp.test(_a32);},isDate:function(_a33){return this.dateRegexp.test(_a33);},isNumber:function(_a34){return this.numberRegExp.test(_a34);},isUnsignedNumber:function(_a35){return this.unsignedNumberRegExp.test(_a35);},stripNonNumeric:function(_a36){var _a37=_a36.toString();var _a38=false;if(_a37.length>0&&_a37[0]==="-"){_a38=true;}var res=_a37.replace(this.numericRegexp,"");if(_a38){res="-"+res;}return res;},stripWhitespace:function(_a39){return _a39.toString().replace(this.whitespaceRegexp,"");},getCharacterOccurrenceCount:function(_a3a,_a3b){return this.getCharacterOccuranceCount(_a3a,_a3b);},getCharacterOccuranceCount:function(_a3c,_a3d){return _a3d.split(_a3c).length-1;},getServiceNameFromUrl:function(url){var type=VIEWER_UTILS.getServiceTypeFromUrl(url);if(type){var _a3e=null;if(type==VIEWER_GLOBALS.SERVICE_TYPES.MAP_SERVER){_a3e=this.mapServiceNameRegExp;}else{if(type==VIEWER_GLOBALS.SERVICE_TYPES.IMAGE_SERVER){_a3e=this.imageServiceNameRegExp;}else{if(type==VIEWER_GLOBALS.SERVICE_TYPES.GP_SERVER){_a3e=this.gpServerServiceNameRegExp;}else{if(type==VIEWER_GLOBALS.SERVICE_TYPES.GLOBE_SERVER){_a3e=this.globeServiceNameRegExp;}else{if(type==VIEWER_GLOBALS.SERVICE_TYPES.FEATURE_SERVER){_a3e=this.featureServerServiceNameRegExp;}else{if(type==VIEWER_GLOBALS.SERVICE_TYPES.GEOCODE_SERVER){_a3e=this.geocodeServiceNameRegExp;}else{return url;}}}}}}var res=_a3e.exec(url);if(res!=undefined&&res[1]!=undefined){return res[1].replace("_"," ");}return url;}else{return url;}},numberToStringWithCommas:function(x){var _a3f=x.toString().split(".");_a3f[0]=_a3f[0].replace(this.numberToStringWithCommasRegexp,",");return _a3f.join(".");}});});},"esriviewer/ui/draw/DrawWidget":function(){require({cache:{"url:esriviewer/ui/draw/template/DrawWidgetTemplate.html":"<div class=\"drawWindow\">\r\n    <div class=\"defaultTabContainer\">\r\n        <span  data-bind=\"click:showDraw, css: {selectedTab: drawVisible}\">Create</span>\r\n        <span data-bind=\"click:showConfiguration, css: {selectedTab: configurationVisible}\">Configure</span>\r\n        <span  data-bind=\"visible:showGraphicsListTab, click:showGraphicsList, css: {selectedTab: graphicsListVisible}\">Added</span>\r\n        <span data-bind=\"visible:showSavedGraphicsTab, click:showUserPersistedGraphics, css: {selectedTab: userPersistedGraphicsVisible}\">Saved</span>\r\n    </div>\r\n    <div class=\"drawWindowInputIconsContainer\" data-dojo-attach-point=\"drawWindowInputIconsContainer\"\r\n         data-bind=\"visible: drawVisible\">\r\n        <div class=\"threePixelBorderRadius commonIcons32 pointUnselected\"\r\n             data-bind=\"visible: showDrawPointIcon, css: {pointSelected: pointActive}\"\r\n             title=\"Draw Point\" data-dojo-attach-event=\"onclick:handlePointDrawClick\"></div>\r\n        <div class=\"threePixelBorderRadius commonIcons32 lineUnselected\"\r\n             data-bind=\"visible: showDrawLineIcon, css: {lineSelected: lineActive}\"\r\n             title=\"Draw Line\" data-dojo-attach-event=\"onclick:handleLineDrawClick\"></div>\r\n        <div class=\"threePixelBorderRadius commonIcons32 polylineUnselected\"\r\n                data-bind=\"visible: showDrawPolylineIcon, css: {polylineSelected: polylineActive}\"\r\n                title=\"Draw Polyline\" data-dojo-attach-event=\"onclick:handlePolylineDrawClick\"></div>\r\n        <div data-bind=\"visible: showDrawPolygonIcon, css: {polygonSelected: polygonActive}\"\r\n             class=\"threePixelBorderRadius commonIcons32 polygonUnselected\"\r\n             title=\"Draw Polygon\" data-dojo-attach-event=\"onclick:handlePolygonDrawClick\"></div>\r\n        <div data-bind=\"visible: showDrawRectangleIcon,css: {rectangleSelected: rectangleActive}\"\r\n             class=\"threePixelBorderRadius commonIcons32 rectangleUnselected\"\r\n             title=\"Draw Rectangle\" data-dojo-attach-event=\"onclick:handleRectangleDrawClick\"></div>\r\n        <div class=\"threePixelBorderRadius commonIcons32 textUnselected\"\r\n             data-bind=\"visible: showDrawTextIcon,css: {textSelected: textActive}\"\r\n             title=\"Draw Text\" data-dojo-attach-event=\"onclick:handleTextDrawClick\"></div>\r\n    </div>\r\n    <div class=\"drawFreehandContainer\"\r\n         data-bind=\"visible: freehandContainerVisible\">\r\n        <span data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onChange:handleFreehandToggled\"\r\n              data-dojo-attach-point=\"freeHandDrawCheckbox\"></span>\r\n        <span class=\"drawFreehandCheckboxLabel\" data-dojo-attach-event=\"onclick:toggleFreehand\">Freehand</span>\r\n    </div>\r\n    <div class=\"drawWindowConfigureContainer\" data-bind=\"visible: configurationVisible\"\r\n         data-dojo-attach-point=\"drawWindowConfigureContainer\">\r\n    </div>\r\n    <div class=\"drawWindowGraphicsListContainer\" data-dojo-attach-point=\"drawWindowGraphicsListContainer\"\r\n         data-bind=\"visible: graphicsListVisible\">\r\n    </div>\r\n    <div class=\"drawWindowUserPersistedGraphicsContainer\"\r\n         data-dojo-attach-point=\"drawWindowUserPersistedGraphicsContainer\"\r\n         data-bind=\"visible: userPersistedGraphicsVisible\">\r\n    </div>\r\n</div>"}});define("esriviewer/ui/draw/DrawWidget",["dojo/_base/declare","dojo/text!./template/DrawWidgetTemplate.html","dojo/topic","dojo/_base/lang","../base/UITemplatedWidget","./base/MapDrawSupport","./configure/ConfigureDrawWidget","./base/GraphicsListWidget","./model/DrawWidgetViewModel","./base/GraphicsLocalStorageMixin","./base/UserPersistedGraphicsListWidget","dijit/form/CheckBox","esri/layers/GraphicsLayer","esri/graphic"],function(_a40,_a41,_a42,lang,_a43,_a44,_a45,_a46,_a47,_a48,_a49,_a4a,_a4b,_a4c){return _a40([_a43,_a44,_a48],{bindingsApplied:false,templateString:_a41,constructor:function(){this.freehandActive=false;},initListeners:function(){this.inherited(arguments);_a42.subscribe(VIEWER_GLOBALS.EVENTS.DRAW.USER.GET_USER_GRAPHICS,lang.hitch(this,this.getUserGraphics));},postCreate:function(){this.viewModel=new _a47();this.viewModel.drawVisible.subscribe(lang.hitch(this,this._handleDrawVisibilityChanged));this.viewModel.configurationVisible.subscribe(lang.hitch(this,this._handleConfigurationVisibilityChanged));this.viewModel.graphicsListVisible.subscribe(lang.hitch(this,this._handleGraphicsListVisibilityChanged));this.viewModel.userPersistedGraphicsVisible.subscribe(lang.hitch(this,this._handleUserPersistedVisibilityChanged));this.viewModel.showUserPersistedGraphicsIcon(this.localStoragePersistSupported);var _a4d=false;for(var key in this.persistedUserGraphics){_a4d=true;break;}this.viewModel.showSavedGraphicsTab(_a4d);this.applyBindings();this._createConfigureDrawWidget();this._createGraphicsListWidget();if(this.localStoragePersistSupported){this._createUserPersistedGraphicsListWidget();}this.inherited(arguments);this.drawGraphicsLayer=_a4b();_a42.publish(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.ADD_EXTERNAL_MANAGED_LAYER,this.drawGraphicsLayer);_a42.publish(VIEWER_GLOBALS.EVENTS.DRAW.DRAW_GRAPHICS_LAYER_CREATED);},_handleConfigurationVisibilityChanged:function(_a4e){this._handleContentAnimation(_a4e,this.drawWindowConfigureContainer);},_handleGraphicsListVisibilityChanged:function(_a4f){this._handleContentAnimation(_a4f,this.drawWindowGraphicsListContainer);},_handleUserPersistedVisibilityChanged:function(_a50){this._handleContentAnimation(_a50,this.drawWindowUserPersistedGraphicsContainer);},_handleDrawVisibilityChanged:function(_a51){this._handleContentAnimation(_a51,this.drawWindowInputIconsContainer);},applyBindings:function(){if(!this.bindingsApplied){this._applyBindings();}},_applyBindings:function(){if(!this.bindingsApplied){ko.applyBindings(this.viewModel,this.domNode);this.bindingsApplied=true;}},_createConfigureDrawWidget:function(){if(this.configureDrawWidget==null){this.configureDrawWidget=new _a45();this.configureDrawWidget.placeAt(this.drawWindowConfigureContainer);this.configureDrawWidget.on("pointSymbolChanged",lang.hitch(this,this.handlePointSymbolChanged));this.configureDrawWidget.on("lineSymbolChanged",lang.hitch(this,this.handleLineSymbolChanged));this.configureDrawWidget.on("polygonSymbolChanged",lang.hitch(this,this.handlePolygonSymbolChanged));this.configureDrawWidget.on("rectangleSymbolChanged",lang.hitch(this,this.handleRectangleSymbolChanged));this.configureDrawWidget.on("textSymbolChanged",lang.hitch(this,this.handleTextSymbolChanged));this.pointSymbol=this.configureDrawWidget.pointConfigurationWidget.getSymbol();this.lineSymbol=this.configureDrawWidget.lineConfigurationWidget.getSymbol();this.envelopeSymbol=this.configureDrawWidget.rectangleConfigurationWidget.getSymbol();this.textSymbol=this.configureDrawWidget.configureTextWidget.getSymbol();this.polygonSymbol=this.configureDrawWidget.configurePolygonWidget.getSymbol();}},handlePointSymbolChanged:function(_a52){this.pointSymbol=_a52;},handleLineSymbolChanged:function(_a53){this.lineSymbol=_a53;},handlePolygonSymbolChanged:function(_a54){this.polygonSymbol=_a54;},handleRectangleSymbolChanged:function(_a55){this.envelopeSymbol=_a55;},handleTextSymbolChanged:function(_a56){this.textSymbol=_a56;},_createUserPersistedGraphicsListWidget:function(){if(this.userPersistedGraphicsListWidget==null){this.userPersistedGraphicsListWidget=new _a49();this.userPersistedGraphicsListWidget.placeAt(this.drawWindowUserPersistedGraphicsContainer);this.userPersistedGraphicsListWidget.on("removeUserPersistedGraphics",lang.hitch(this,this.removeUserPersistedGraphics));this.userPersistedGraphicsListWidget.on("addUserPersistedGraphicsToMap",lang.hitch(this,this.addUserPersistedGraphicsToMap));this.userPersistedGraphicsListWidget.addExistingPersistedGraphicsItems(this.persistedUserGraphics);}},_createGraphicsListWidget:function(){if(this.graphicsListWidget==null){this.graphicsListWidget=new _a46({saveSupported:this.localStoragePersistSupported});this.graphicsListWidget.placeAt(this.drawWindowGraphicsListContainer);this.graphicsListWidget.viewModel.hasGraphics.subscribe(lang.hitch(this,this._handleCheckForExistingGraphics));this.graphicsListWidget.on("removeAllGraphics",lang.hitch(this,this.removeAllGraphics));this.graphicsListWidget.on("removeGraphic",lang.hitch(this,this.removeGraphic));this.graphicsListWidget.on("saveGraphics",lang.hitch(this,this.saveUserGraphics));}},saveUserGraphics:function(_a57,_a58){var _a59=this.persistUserGraphics(_a57,_a58);if(_a59){this.userPersistedGraphicsListWidget.addUserPersistedGraphics(_a59);this.viewModel.showSavedGraphicsTab(true);}},addUserPersistedGraphicsToMap:function(_a5a){if(_a5a==null||!lang.isObject(_a5a)){return;}if(_a5a.graphics==null||!lang.isArray(_a5a.graphics)){return;}var _a5b;for(var i=0;i<_a5a.graphics.length;i++){_a5b=_a5a.graphics[i].graphic;var _a5c=new _a4c(_a5b);var _a5d={label:_a5a.graphics[i].label,graphic:_a5c};this.onAnnotationCreated(_a5d);}},removeUserPersistedGraphics:function(_a5e){var _a5f=this.deleteUserPersistedGraphics(_a5e);this.viewModel.showSavedGraphicsTab(_a5f);},removeAllGraphics:function(){this.drawGraphicsLayer.clear();},removeGraphic:function(_a60){if(_a60){this.drawGraphicsLayer.remove(_a60);}},getUserGraphics:function(_a61){if(_a61&&lang.isFunction(_a61)){_a61(this.graphicsListWidget.getGraphics());}},_handleCheckForExistingGraphics:function(_a62){if(!_a62){this.viewModel.graphicsListTabVisible(false);this.viewModel.showDraw();}else{this.viewModel.graphicsListTabVisible(true);}},handlePointDrawClick:function(){var _a63=this.viewModel.pointActive();this.clearDraw();if(!_a63){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POINT);this.viewModel.setDrawMode(this.viewModel.drawModes.point);}},handleTextDrawClick:function(){var _a64=this.viewModel.textActive();this.clearDraw();if(!_a64){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_TEXT);this.viewModel.setDrawMode(this.viewModel.drawModes.text);}},handleLineDrawClick:function(){var _a65=this.viewModel.lineActive();this.clearDraw();if(!_a65){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_LINE);this.viewModel.setDrawMode(this.viewModel.drawModes.line);}},handlePolylineDrawClick:function(){var _a66=this.viewModel.polylineActive();this.clearDraw();if(!_a66){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYLINE);this.viewModel.setDrawMode(this.viewModel.drawModes.polyline);}},handlePolygonDrawClick:function(){var _a67=this.viewModel.polygonActive();this.clearDraw();if(!_a67){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYGON);this.viewModel.setDrawMode(this.viewModel.drawModes.polygon);}},handleRectangleDrawClick:function(){var _a68=this.viewModel.rectangleActive();this.clearDraw();if(!_a68){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_RECTANGLE);this.viewModel.setDrawMode(this.viewModel.drawModes.rectangle);}},clearDraw:function(){this.inherited(arguments);this.viewModel.setDrawMode(null);_a42.publish(VIEWER_GLOBALS.EVENTS.DRAW.USER.DRAW_CANCEL);},geometryAdded:function(_a69){this.inherited(arguments);var _a6a=this.viewModel.getCurrentDrawType();this.clearDraw();if(_a6a!=null){if(_a6a===this.viewModel.drawModes.rectangle){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_RECTANGLE);this.viewModel.setDrawMode(this.viewModel.drawModes.rectangle);}if(_a6a===this.viewModel.drawModes.point){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POINT);this.viewModel.setDrawMode(this.viewModel.drawModes.point);}if(_a6a===this.viewModel.drawModes.polygon){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYGON);this.viewModel.setDrawMode(this.viewModel.drawModes.polygon);}if(_a6a===this.viewModel.drawModes.polyline){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYLINE);this.viewModel.setDrawMode(this.viewModel.drawModes.polyline);}if(_a6a===this.viewModel.drawModes.line){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_LINE);this.viewModel.setDrawMode(this.viewModel.drawModes.line);}if(_a6a===this.viewModel.drawModes.text){this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_TEXT);this.viewModel.setDrawMode(this.viewModel.drawModes.text);}}},toggleFreehand:function(){this.freeHandDrawCheckbox.set("checked",!this.freeHandDrawCheckbox.get("checked"));},handleFreehandToggled:function(){this.freehandActive=this.freeHandDrawCheckbox.get("checked");var _a6b=this.viewModel.getCurrentDrawType();if(_a6b===this.viewModel.drawModes.polygon){this.clearDraw();this.viewModel.setDrawMode(this.viewModel.drawModes.polygon);this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYGON);}if(_a6b===this.viewModel.drawModes.polyline){this.clearDraw();this.viewModel.setDrawMode(this.viewModel.drawModes.polyline);this.setDraw(VIEWER_GLOBALS.EVENTS.MAP.TOOLS.DRAW_POLYLINE);}},onAnnotationCreated:function(_a6c){this.inherited(arguments);this.graphicsListWidget.addGraphic(_a6c);this.drawGraphicsLayer.add(_a6c.graphic);},hidePopups:function(){if(this.graphicsListWidget){this.graphicsListWidget.hidePopups();}}});});},"dojo/colors":function(){define("dojo/colors",["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,_a6d,_a6e){var _a6f={};lang.setObject("dojo.colors",_a6f);var _a70=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=_a6d.fromRgb=function(_a71,obj){var m=_a71.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=_a6e.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return _a6d.fromArray(a,obj);}return _a6d.fromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_a70(m1,m2,H+1/3)*256,_a70(m1,m2,H)*256,_a70(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return _a6d.fromArray(a,obj);}}return null;};var _a72=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};_a6d.prototype.sanitize=function(){var t=this;t.r=Math.round(_a72(t.r,0,255));t.g=Math.round(_a72(t.g,0,255));t.b=Math.round(_a72(t.b,0,255));t.a=_a72(t.a,0,1);return this;};_a6f.makeGrey=_a6d.makeGrey=function(g,a){return _a6d.fromArray([g,g,g,a]);};lang.mixin(_a6d.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});return _a6d;});},"dojox/uuid/Uuid":function(){define("dojox/uuid/Uuid",["dojo/_base/lang","./_base"],function(dojo,uuid){dojox.uuid.Uuid=function(_a73){this._uuidString=dojox.uuid.NIL_UUID;if(_a73){dojox.uuid.assert(dojo.isString(_a73));this._uuidString=_a73.toLowerCase();dojox.uuid.assert(this.isValid());}else{var _a74=dojox.uuid.Uuid.getGenerator();if(_a74){this._uuidString=_a74();dojox.uuid.assert(this.isValid());}}};dojox.uuid.Uuid.compare=function(_a75,_a76){var _a77=_a75.toString();var _a78=_a76.toString();if(_a77>_a78){return 1;}if(_a77<_a78){return -1;}return 0;};dojox.uuid.Uuid.setGenerator=function(_a79){dojox.uuid.assert(!_a79||dojo.isFunction(_a79));dojox.uuid.Uuid._ourGenerator=_a79;};dojox.uuid.Uuid.getGenerator=function(){return dojox.uuid.Uuid._ourGenerator;};dojox.uuid.Uuid.prototype.toString=function(){return this._uuidString;};dojox.uuid.Uuid.prototype.compare=function(_a7a){return dojox.uuid.Uuid.compare(this,_a7a);};dojox.uuid.Uuid.prototype.isEqual=function(_a7b){return (this.compare(_a7b)==0);};dojox.uuid.Uuid.prototype.isValid=function(){return dojox.uuid.isValid(this);};dojox.uuid.Uuid.prototype.getVariant=function(){return dojox.uuid.getVariant(this);};dojox.uuid.Uuid.prototype.getVersion=function(){if(!this._versionNumber){this._versionNumber=dojox.uuid.getVersion(this);}return this._versionNumber;};dojox.uuid.Uuid.prototype.getNode=function(){if(!this._nodeString){this._nodeString=dojox.uuid.getNode(this);}return this._nodeString;};dojox.uuid.Uuid.prototype.getTimestamp=function(_a7c){if(!_a7c){_a7c=null;}switch(_a7c){case "string":case String:return this.getTimestamp(Date).toUTCString();break;case "hex":if(!this._timestampAsHexString){this._timestampAsHexString=dojox.uuid.getTimestamp(this,"hex");}return this._timestampAsHexString;break;case null:case "date":case Date:if(!this._timestampAsDate){this._timestampAsDate=dojox.uuid.getTimestamp(this,Date);}return this._timestampAsDate;break;default:dojox.uuid.assert(false,"The getTimestamp() method dojox.uuid.Uuid was passed a bogus returnType: "+_a7c);break;}};return dojox.uuid.Uuid;});},"esriviewer/ui/social/SocialMediaWidgetWindow":function(){define("esriviewer/ui/social/SocialMediaWidgetWindow",["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/window","dojo/dom-class","../window/WindowWidget"],function(_a7d,lang,_a7e,_a7f,_a80,_a81){return _a7d([_a81],{defaultPositioning:{x:400,y:125},constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/social/SocialMediaWidget"],lang.hitch(this,function(_a82){this.socialMediaWidget=new _a82();this.setContent(this.socialMediaWidget.domNode);this.socialMediaWidget.listenForMapCursor();}));},windowWidth:"400px",windowHeaderText:"Search Social Media",windowIconAltText:"Search Social Media",windowIconClass:"commonIcons16 binoculars",positioningParamName:"socialMedia",postCreate:function(){this.inherited(arguments);_a80.add(this.windowContent,"socialMediaWindowContent");},initListeners:function(){this.inherited(arguments);this.subscribes.push(_a7e.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.SOCIAL_MEDIA.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_a7e.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.SOCIAL_MEDIA.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_a7e.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.SOCIAL_MEDIA.TOGGLE,lang.hitch(this,this.toggle)));},show:function(){this.inherited(arguments);if(this.socialMediaWidget){this.socialMediaWidget.listenForMapCursor();}},hide:function(){this.inherited(arguments);if(this.socialMediaWidget){this.socialMediaWidget.stopMapCursorListener();}}});});},"esriviewer/ui/toolbar/base/model/BasemapsListingViewModel":function(){define("esriviewer/ui/toolbar/base/model/BasemapsListingViewModel",["dojo/_base/declare","dojo/_base/lang","dojo/topic"],function(_a83,lang,_a84){return _a83([],{constructor:function(){this.basemapKeyLookup={};this.visible=ko.observable(false);this.basemaps=ko.observableArray();this.handleBasemapClick=lang.hitch(this,this._handleBaseMapClick);},addBasemap:function(_a85){var _a86=lang.mixin({selected:ko.observable(false)},_a85);this.basemaps.push(_a86);this.basemapKeyLookup[_a86.key]=_a86;},_handleBaseMapClick:function(_a87){if(_a87==null){return;}this.setCurrentBasemap(_a87.key);this.visible(false);},removeBasemap:function(key){var _a88=this.basemapKeyLookup[key];if(_a88==null){return false;}delete this.basemapKeyLookup[key];this.basemaps.remove(_a88);return true;},setCurrentBasemap:function(key){var _a89=this.basemapKeyLookup[key];if(_a89==null){return;}_a89.selected(true);var _a8a=this.basemaps.indexOf(_a89);var _a8b=this.basemaps();for(var i=0;i<_a8b.length;i++){if(i!=_a8a){_a8b[i].selected(false);}}_a84.publish(VIEWER_GLOBALS.EVENTS.MAP.BASEMAP.SET,key);}});});},"dijit/tree/_dndContainer":function(){define("dijit/tree/_dndContainer",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/on","dojo/touch"],function(_a8c,_a8d,_a8e,_a8f,lang,on,_a90){return _a8d("dijit.tree._dndContainer",null,{constructor:function(tree,_a91){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_a91);this.current=null;this.containerState="";_a8e.add(this.node,"dojoDndContainer");this.events=[on(this.node,_a90.enter,lang.hitch(this,"onOverEvent")),on(this.node,_a90.leave,lang.hitch(this,"onOutEvent")),_a8c.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_a8c.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart",lang.hitch(_a8f,"stop")),on(this.node,"selectstart",lang.hitch(_a8f,"stop"))];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_a92){this.current=_a92;},onMouseOut:function(){this.current=null;},_changeState:function(type,_a93){var _a94="dojoDnd"+type;var _a95=type.toLowerCase()+"State";_a8e.replace(this.node,_a94+_a93,_a94+this[_a95]);this[_a95]=_a93;},_addItemClass:function(node,type){_a8e.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_a8e.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"url:esriviewer/ui/draw/configure/geometry/template/ConfigurePolygonTemplate.html":"<div class=\"configureDrawGeometryContainer\">\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Fill Style</span>\r\n        <select data-bind=\"options: fillStyles ,value:selectedFillStyle, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Outline Style</span>\r\n        <select data-bind=\"options: outlineStyles ,value:selectedOutlineStyle, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Outline Width</span>\r\n        <select data-bind=\"options: outlineWidths ,value:selectedOutlineWidth\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Angle</span>\r\n        <select data-bind=\"options: angles ,value:selectedAngle\"></select>\r\n    </div>\r\n    <div data-dojo-attach-point=\"transparencySliderContainer\"></div>\r\n\r\n    <div class=\"colorPickerTextContainer\">\r\n        <span class=\"colorPickerText\"\r\n              data-bind=\"click: setOutlineColorMode,css:{colorPickerTextSelected: outlineColorActive}\"> Outline Color</span>\r\n        <span class=\"colorPickerText\"\r\n              data-bind=\"click: setFillColorMode,css:{colorPickerTextSelected: fillColorActive}\"> Fill Color</span>\r\n\r\n    </div>\r\n\r\n\r\n    <div class=\"configureDrawColorPickerContainer\" data-dojo-attach-point=\"colorPickerContainer\"></div>\r\n</div>","dijit/form/_FormSelectWidget":function(){define("dijit/form/_FormSelectWidget",["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(_a96,_a97,_a98,_a99,_a9a,dom,_a9b,_a9c,lang,_a9d,when,_a9e,_a9f){var _aa0=_a9a("dijit.form._FormSelectWidget",_a9f,{multiple:false,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,onLoadDeferred:null,getOptions:function(_aa1){var _aa2=_aa1,opts=this.options||[],l=opts.length;if(_aa2===undefined){return opts;}if(lang.isArray(_aa2)){return _a96.map(_aa2,"return this.getOptions(item);",this);}if(lang.isObject(_aa1)){if(!_a96.some(this.options,function(o,idx){if(o===_aa2||(o.value&&o.value===_aa2.value)){_aa2=idx;return true;}return false;})){_aa2=-1;}}if(typeof _aa2=="string"){for(var i=0;i<l;i++){if(opts[i].value===_aa2){_aa2=i;break;}}}if(typeof _aa2=="number"&&_aa2>=0&&_aa2<l){return this.options[_aa2];}return null;},addOption:function(_aa3){if(!lang.isArray(_aa3)){_aa3=[_aa3];}_a96.forEach(_aa3,function(i){if(i&&lang.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function(_aa4){if(!lang.isArray(_aa4)){_aa4=[_aa4];}var _aa5=this.getOptions(_aa4);_a96.forEach(_aa5,function(i){if(i){this.options=_a96.filter(this.options,function(node){return (node.value!==i.value||node.label!==i.label);});this._removeOptionItem(i);}},this);this._loadChildren();},updateOption:function(_aa6){if(!lang.isArray(_aa6)){_aa6=[_aa6];}_a96.forEach(_aa6,function(i){var _aa7=this.getOptions(i),k;if(_aa7){for(k in i){_aa7[k]=i[k];}}},this);this._loadChildren();},setStore:function(_aa8,_aa9,_aaa){var _aab=this.store;_aaa=_aaa||{};if(_aab!==_aa8){var h;while((h=this._notifyConnections.pop())){h.remove();}if(!_aa8.get){lang.mixin(_aa8,{_oldAPI:true,get:function(id){var _aac=new _a97();this.fetchItemByIdentity({identity:id,onItem:function(_aad){_aac.resolve(_aad);},onError:function(_aae){_aac.reject(_aae);}});return _aac.promise;},query:function(_aaf,_ab0){var _ab1=new _a97(function(){if(_ab2.abort){_ab2.abort();}});_ab1.total=new _a97();var _ab2=this.fetch(lang.mixin({query:_aaf,onBegin:function(_ab3){_ab1.total.resolve(_ab3);},onComplete:function(_ab4){_ab1.resolve(_ab4);},onError:function(_ab5){_ab1.reject(_ab5);}},_ab0));return new _a9e(_ab1);}});if(_aa8.getFeatures()["dojo.data.api.Notification"]){this._notifyConnections=[_a98.after(_aa8,"onNew",lang.hitch(this,"_onNewItem"),true),_a98.after(_aa8,"onDelete",lang.hitch(this,"_onDeleteItem"),true),_a98.after(_aa8,"onSet",lang.hitch(this,"_onSetItem"),true)];}}this._set("store",_aa8);}if(this.options&&this.options.length){this.removeOption(this.options);}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}if(_aaa.query){this._set("query",_aaa.query);this._set("queryOptions",_aaa.queryOptions);}if(_aa8){this._loadingStore=true;this.onLoadDeferred=new _a97();this._queryRes=_aa8.query(this.query,this.queryOptions);when(this._queryRes,lang.hitch(this,function(_ab6){if(this.sortByLabel&&!_aaa.sort&&_ab6.length){if(_ab6[0].getValue){_ab6.sort(_a99.createSortFunction([{attribute:_aa8.getLabelAttributes(_ab6[0])[0]}],_aa8));}else{var _ab7=this.labelAttr;_ab6.sort(function(a,b){return a[_ab7]>b[_ab7]?1:b[_ab7]>a[_ab7]?-1:0;});}}if(_aaa.onFetch){_ab6=_aaa.onFetch.call(this,_ab6,_aaa);}_a96.forEach(_ab6,function(i){this._addOptionForItem(i);},this);if(this._queryRes.observe){this._queryRes.observe(lang.hitch(this,function(_ab8,_ab9,_aba){if(_ab9==_aba){this._onSetItem(_ab8);}else{if(_ab9!=-1){this._onDeleteItem(_ab8);}if(_aba!=-1){this._onNewItem(_ab8);}}}),true);}this._loadingStore=false;this.set("value","_pendingValue" in this?this._pendingValue:_aa9);delete this._pendingValue;if(!this.loadChildrenOnOpen){this._loadChildren();}else{this._pseudoLoadChildren(_ab6);}this.onLoadDeferred.resolve(true);this.onSetStore();}),function(err){this.onLoadDeferred.reject(err);});}return _aab;},_setValueAttr:function(_abb,_abc){if(!this._onChangeActive){_abc=null;}if(this._loadingStore){this._pendingValue=_abb;return;}var opts=this.getOptions()||[];if(!lang.isArray(_abb)){_abb=[_abb];}_a96.forEach(_abb,function(i,idx){if(!lang.isObject(i)){i=i+"";}if(typeof i==="string"){_abb[idx]=_a96.filter(opts,function(node){return node.value===i;})[0]||{value:"",label:""};}},this);_abb=_a96.filter(_abb,function(i){return i&&i.value;});if(!this.multiple&&(!_abb[0]||!_abb[0].value)&&opts.length){_abb[0]=opts[0];}_a96.forEach(opts,function(i){i.selected=_a96.some(_abb,function(v){return v.value===i.value;});});var val=_a96.map(_abb,function(i){return i.value;}),disp=_a96.map(_abb,function(i){return i.label;});if(typeof val=="undefined"||typeof val[0]=="undefined"){return;}this._setDisplay(this.multiple?disp:disp[0]);this.inherited(arguments,[this.multiple?val:val[0],_abc]);this._updateSelection();},_getDisplayedValueAttr:function(){var val=this.get("value");if(!lang.isArray(val)){val=[val];}var ret=_a96.map(this.getOptions(val),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this.multiple?ret:ret[0];},_loadChildren:function(){if(this._loadingStore){return;}_a96.forEach(this._getChildren(),function(_abd){_abd.destroyRecursive();});_a96.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function(){this._set("value",this._getValueFromOpts());var val=this.value;if(!lang.isArray(val)){val=[val];}if(val&&val[0]){_a96.forEach(this._getChildren(),function(_abe){var _abf=_a96.some(val,function(v){return _abe.option&&(v===_abe.option.value);});_a9b.toggle(_abe.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),_abf);_abe.domNode.setAttribute("aria-selected",_abf?"true":"false");},this);}},_getValueFromOpts:function(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=_a96.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this.multiple){return _a96.map(_a96.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return "";},_onNewItem:function(item,_ac0){if(!_ac0||!_ac0.parent){this._addOptionForItem(item);}},_onDeleteItem:function(item){var _ac1=this.store;this.removeOption(_ac1.getIdentity(item));},_onSetItem:function(item){this.updateOption(this._getOptionObjForItem(item));},_getOptionObjForItem:function(item){var _ac2=this.store,_ac3=(this.labelAttr&&this.labelAttr in item)?item[this.labelAttr]:_ac2.getLabel(item),_ac4=(_ac3?_ac2.getIdentity(item):null);return {value:_ac4,label:_ac3,item:item};},_addOptionForItem:function(item){var _ac5=this.store;if(_ac5.isItemLoaded&&!_ac5.isItemLoaded(item)){_ac5.loadItem({item:item,onItem:function(i){this._addOptionForItem(i);},scope:this});return;}var _ac6=this._getOptionObjForItem(item);this.addOption(_ac6);},constructor:function(_ac7){this._oValue=(_ac7||{}).value||null;this._notifyConnections=[];},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},_fillContent:function(){if(!this.options){this.options=this.srcNodeRef?_a9d("> *",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:(node.getAttribute("data-"+_a9c._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this._set("value",this.value.split(","));}}},postCreate:function(){this.inherited(arguments);this.connect(this,"onChange","_updateSelection");var _ac8=this.store;if(_ac8&&(_ac8.getIdentity||_ac8.getFeatures()["dojo.data.api.Identity"])){this.store=null;this.setStore(_ac8,this._oValue);}},startup:function(){this._loadChildren();this.inherited(arguments);},destroy:function(){var h;while((h=this._notifyConnections.pop())){h.remove();}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}this.inherited(arguments);},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return [];},_getSelectedOptionsAttr:function(){return this.getOptions(this.get("value"));},_pseudoLoadChildren:function(){},onSetStore:function(){}});return _aa0;});},"esriviewer/ui/configure/ConfigureViewerWindow":function(){define("esriviewer/ui/configure/ConfigureViewerWindow",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojo/dom-class","../window/WindowWidget"],function(_ac9,_aca,lang,_acb,_acc){return _ac9([_acc],{defaultPositioning:{x:500,y:50},constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/configure/ConfigureViewerWidget"],lang.hitch(this,function(_acd){this.configureViewerWidget=new _acd();this.setContent(this.configureViewerWidget.domNode);}));},isPositionedByConfig:true,canMinimize:false,windowHeaderText:"Configure Viewer",windowIconAltText:"Configure Viewer",windowIconClass:"commonIcons16 gear",postCreate:function(){this.inherited(arguments);_acb.add(this.windowContent,"configureWindowContent");},initListeners:function(){this.inherited(arguments);this.subscribes.push(_aca.subscribe(VIEWER_GLOBALS.EVENTS.CONFIGURE.WINDOW.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_aca.subscribe(VIEWER_GLOBALS.EVENTS.CONFIGURE.WINDOW.HIDE,lang.hitch(this,this.hide)));},hidePopups:function(){this.inherited(arguments);if(this.configureViewerWidget){this.configureViewerWidget.hidePopups();}}});});},"dijit/form/Select":function(){require({cache:{"url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode\" cellspacing='0' cellpadding='0'\n\trole=\"listbox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitInputField dijitButtonText\"  data-dojo-attach-point=\"containerNode,_popupStateNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitValidationContainer\"\n\t\t\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t/></div\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td\n\t\t><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\"\n\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\n\t\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n"}});define("dijit/form/Select",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/_base/event","dojo/i18n","dojo/_base/lang","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../Menu","../MenuItem","../MenuSeparator","../Tooltip","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(_ace,_acf,_ad0,_ad1,_ad2,_ad3,i18n,lang,has,_ad4,_ad5,Menu,_ad6,_ad7,_ad8,_ad9){var _ada=_acf("dijit.form._SelectMenu",Menu,{autoFocus:true,buildRendering:function(){this.inherited(arguments);var o=(this.menuTableNode=this.domNode);var n=(this.domNode=this.ownerDocument.createElement("div"));n.style.cssText="overflow-x: hidden; overflow-y: scroll";if(o.parentNode){o.parentNode.replaceChild(n,o);}_ad1.remove(o,"dijitMenuTable");n.className=o.className+" dijitSelectMenu";o.className="dijitReset dijitMenuTable";o.setAttribute("role","listbox");n.setAttribute("role","presentation");n.appendChild(o);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",_ad3.stop);},focus:function(){var _adb=false,val=this.parentWidget.value;if(lang.isArray(val)){val=val[val.length-1];}if(val){_ace.forEach(this.parentWidget._getChildren(),function(_adc){if(_adc.option&&(val===_adc.option.value)){_adb=true;this.focusChild(_adc,false);}},this);}if(!_adb){this.inherited(arguments);}},resize:function(mb){if(mb){_ad2.setMarginBox(this.domNode,mb);if("w" in mb){this.menuTableNode.style.width="100%";}}}});var _add=_acf("dijit.form.Select",[_ad4,_ad5],{baseClass:"dijitSelect dijitValidationTextBox",templateString:_ad9,_buttonInputDisabled:has("ie")?"disabled":"",required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:false,_childrenLoaded:false,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this.value=this.options[si>=0?si:0].value;}this.dropDown=new _ada({id:this.id+"_menu",parentWidget:this});_ad1.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "));},_getMenuItemForOption:function(_ade){if(!_ade.value&&!_ade.label){return new _ad7({ownerDocument:this.ownerDocument});}else{var _adf=lang.hitch(this,"_setValueAttr",_ade);var item=new _ad6({option:_ade,label:_ade.label||this.emptyLabel,onClick:_adf,ownerDocument:this.ownerDocument,dir:this.dir,disabled:_ade.disabled||false});item.focusNode.setAttribute("role","option");return item;}},_addOptionItem:function(_ae0){if(this.dropDown){this.dropDown.addChild(this._getMenuItemForOption(_ae0));}},_getChildren:function(){if(!this.dropDown){return [];}return this.dropDown.getChildren();},_loadChildren:function(_ae1){if(_ae1===true){if(this.dropDown){delete this.dropDown.focusedChild;}if(this.options.length){this.inherited(arguments);}else{_ace.forEach(this._getChildren(),function(_ae2){_ae2.destroyRecursive();});var item=new _ad6({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(item);}}else{this._updateSelection();}this._isLoaded=false;this._childrenLoaded=true;if(!this._loadingStore){this._setValueAttr(this.value,false);}},_refreshState:function(){if(this._started){this.validate(this.focused);}},startup:function(){this.inherited(arguments);this._refreshState();},_setValueAttr:function(_ae3){this.inherited(arguments);_ad0.set(this.valueNode,"value",this.get("value"));this._refreshState();},_setDisabledAttr:function(_ae4){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_ae5){this._set("required",_ae5);this.focusNode.setAttribute("aria-required",_ae5);this._refreshState();},_setOptionsAttr:function(_ae6){this._isLoaded=false;this._set("options",_ae6);},_setDisplay:function(_ae7){var lbl=_ae7||this.emptyLabel;this.containerNode.innerHTML="<span role=\"option\" class=\"dijitReset dijitInline "+this.baseClass.replace(/\s+|$/g,"Label ")+"\">"+lbl+"</span>";},validate:function(_ae8){var _ae9=this.disabled||this.isValid(_ae8);this._set("state",_ae9?"":(this._hasBeenBlurred?"Error":"Incomplete"));this.focusNode.setAttribute("aria-invalid",_ae9?"false":"true");var _aea=_ae9?"":this._missingMsg;if(_aea&&this.focused&&this._hasBeenBlurred){_ad8.show(_aea,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_ad8.hide(this.domNode);}this._set("message",_aea);return _ae9;},isValid:function(){return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));},reset:function(){this.inherited(arguments);_ad8.hide(this.domNode);this._refreshState();},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",_ad3.stop);this.domNode.setAttribute("aria-expanded","false");if(has("ie")<9){this.defer(function(){try{var s=domStyle.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _aeb=this.domNode.getElementsByTagName("INPUT");if(_aeb){for(var i=0;i<_aeb.length;i++){_aeb[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setStyleAttr:function(_aec){this.inherited(arguments);_ad1.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width);},isLoaded:function(){return this._isLoaded;},loadDropDown:function(_aed){this._loadChildren(true);this._isLoaded=true;_aed();},closeDropDown:function(){this.inherited(arguments);if(this.dropDown&&this.dropDown.menuTableNode){this.dropDown.menuTableNode.style.width="";}},destroy:function(_aee){if(this.dropDown&&!this.dropDown._destroyed){this.dropDown.destroyRecursive(_aee);delete this.dropDown;}this.inherited(arguments);},_onFocus:function(){this.validate(true);this.inherited(arguments);},_onBlur:function(){_ad8.hide(this.domNode);this.inherited(arguments);this.validate(false);}});_add._Menu=_ada;return _add;});},"esriviewer/loader/base/BaseViewerPlacement":function(){define("esriviewer/loader/base/BaseViewerPlacement",["dojo/_base/declare","dojo/_base/window","dojo/topic","dojo/_base/lang","dojo/dom-construct"],function(_aef,_af0,_af1,lang,_af2){return _aef([],{label:"unknown",isAbsolutePositioned:false,isWindowless:true,MAP_DIV_CLASS:"mapdiv",constructor:function(){this.initUI();this.initListeners();},initUI:function(){this.mapDiv=_af2.create("div",{className:this.MAP_DIV_CLASS});},initListeners:function(){_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.MAIN_TOOLBAR,lang.hitch(this,this.placeMainToolbar));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.MAIN_TOOLBAR_DROP_DOWN,lang.hitch(this,this.placeMainToolbarDropdown));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.NAVIGATION_TOOLBAR,lang.hitch(this,this.placeNavigationToolbar));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.HEADER,lang.hitch(this,this.placeHeader));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.VIEWER_ACCORDION,lang.hitch(this,this.placeViewerAccordion));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.FOOTER,lang.hitch(this,this.placeFooterWidget));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.MESSAGING,lang.hitch(this,this.placeMessagingWidget));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.THROBBER,lang.hitch(this,this.placeThrobberWidget));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.BASEMAP_GALLERY,lang.hitch(this,this.placeBasemapGallery));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.MAP_SCALE_AND_COORDINATES,lang.hitch(this,this.placeMapScaleAndCoordinates));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.CREATE_BOOOKMARK,lang.hitch(this,this.placeCreateBookmarkWidget));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.MENU_BAR,lang.hitch(this,this.placeMenuBarWidget));_af1.subscribe(VIEWER_GLOBALS.EVENTS.PLACEMENT.GLOBAL.PLACE.USER_LOCATION,lang.hitch(this,this.placeUserLocationWidget));_af1.subscribe(VIEWER_GLOBALS.EVENTS.MAP.GET_MAP_DIV,lang.hitch(this,this.handleGetMapDiv));},handleGetMapDiv:function(_af3){if(_af3!=null&&lang.isFunction(_af3)){_af3(this.mapDiv);}},placeMainToolbarDropdown:function(_af4){},placeMenuBarWidget:function(_af5){},placeCreateBookmarkWidget:function(_af6){},placeMapScaleAndCoordinates:function(_af7){},placeBasemapGallery:function(_af8){},placeNavigationToolbar:function(_af9){},placeHeader:function(_afa){},placeViewerAccordion:function(_afb){},placeMainToolbar:function(_afc){},placeUserLocationWidget:function(_afd){if(_afd){var _afe=this._getMapContainer();if(_afe){_afd.placeAt(_afe);}}},placeFooterWidget:function(_aff){if(_aff){_aff.placeAt(_af0.body());}},placeMessagingWidget:function(_b00){},placeThrobberWidget:function(_b01){},_getMapContainer:function(){if(this.mapContainer==null){var _b02;_af1.publish(VIEWER_GLOBALS.EVENTS.MAP.GET_MAP_DIV,function(mDiv){_b02=mDiv;});this.mapContainer=_b02;}return this.mapContainer;}});});},"esriviewer/ui/draw/configure/geometry/BaseGeometryConfigurationWidget":function(){define("esriviewer/ui/draw/configure/geometry/BaseGeometryConfigurationWidget",["dojo/_base/declare","dojo/_base/lang","dijit/form/HorizontalSlider","dojo/_base/Color","dijit/ColorPalette","dojo/dom-attr","dojo/dom-style","dojo/dom-construct","dojo/dom-class","../../../base/UITemplatedWidget"],function(_b03,lang,_b04,_b05,_b06,_b07,_b08,_b09,_b0a,_b0b){return _b03([_b0b],{defaultColor:"#ff0000",transparencySliderContainer:null,colorPickerContainer:null,defaultTransparency:75,postCreate:function(){this.inherited(arguments);if(this.transparencySliderContainer!=null){this.createTransparencySlider();}if(this.colorPickerContainer!=null){this.createColorPicker();}},createTransparencySlider:function(){this.transparencySliderLabel=_b09.create("div");_b08.set(this.transparencySliderLabel,"margin","8px 0 5px 0");_b07.set(this.transparencySliderLabel,"innerHTML","Opacity - "+this.defaultTransparency+"%");_b0a.add(this.transparencySliderLabel,"configureGeometryOpacityLabel");_b09.place(this.transparencySliderLabel,this.transparencySliderContainer);var _b0c=_b09.create("div");_b09.place(_b0c,this.transparencySliderContainer);this.transparencySlider=new _b04({value:this.defaultTransparency,maximum:100,minimum:5,showButtons:false,pageIncrement:10,style:"width:195px"},_b0c);this.transparencySlider.on("change",lang.hitch(this,this.handleTransparencyChanged));this.transparencySlider.startup();},createColorPicker:function(){var _b0d=_b09.create("div");_b09.place(_b0d,this.colorPickerContainer);this.colorPicker=new _b06({value:this.defaultColor},_b0d);this.colorPicker.on("change",lang.hitch(this,this.handleColorPickerChanged));},handleTransparencyChanged:function(_b0e){_b07.set(this.transparencySliderLabel,"innerHTML","Opacity - "+Math.ceil(_b0e)+" %");this.processChange();},handleColorPickerChanged:function(_b0f){this.processChange();},getTransparency:function(){if(this.transparencySlider==null){return 100;}else{return Math.ceil(this.transparencySlider.get("value"));}},getColor:function(){var _b10=_b05.fromHex(this.colorPicker.get("value"));var _b11=this.getTransparency()/100;return new _b05([_b10.r,_b10.g,_b10.b,_b11]);},processChange:function(){},onChange:function(_b12){},getSymbol:function(){return null;}});});},"dojo/store/util/QueryResults":function(){define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],function(_b13,lang,_b14){var _b15=function(_b16){if(!_b16){return _b16;}if(_b16.then){_b16=lang.delegate(_b16);}function _b17(_b18){if(!_b16[_b18]){_b16[_b18]=function(){var args=arguments;return _b14.when(_b16,function(_b19){Array.prototype.unshift.call(args,_b19);return _b15(_b13[_b18].apply(_b13,args));});};}};_b17("forEach");_b17("filter");_b17("map");if(!_b16.total){_b16.total=_b14.when(_b16,function(_b1a){return _b1a.length;});}return _b16;};lang.setObject("dojo.store.util.QueryResults",_b15);return _b15;});},"xstyle/util/createStyleSheet":function(){define("xstyle/util/createStyleSheet",[],function(){function has(){return !document.createStyleSheet;};var head=document.head;return function insertCss(css){if(has("dom-create-style-element")){_b1b=document.createElement("style");_b1b.setAttribute("type","text/css");_b1b.appendChild(document.createTextNode(css));head.insertBefore(_b1b,head.firstChild);return _b1b;}else{var _b1b=document.createStyleSheet();_b1b.cssText=css;return _b1b.owningElement;}};});},"url:esriviewer/ui/messaging/template/MessagingWidgetTemplate.html":"<div class=\"defaultBorder defaultBackground statusMessageContainer threePixelBorderRadius defaultBoxShadow\"\r\n     data-bind=\"visible:visible\">\r\n    <div class=\"commonIcons16 infoBlock messagingIcon\"></div>\r\n    <div class=\"statusDivInner threePixelBorderRadius\">\r\n        <div class=\"statusDivMessage\" data-bind=\"text:message\"></div>\r\n    </div>\r\n</div>","dijit/CheckedMenuItem":function(){require({cache:{"url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n"}});define("dijit/CheckedMenuItem",["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_b1c,_b1d,_b1e,_b1f){return _b1c("dijit.CheckedMenuItem",_b1e,{templateString:_b1f,checked:false,_setCheckedAttr:function(_b20){_b1d.toggle(this.domNode,"dijitCheckedMenuItemChecked",_b20);this.domNode.setAttribute("aria-checked",_b20?"true":"false");this._set("checked",_b20);},iconClass:"",onChange:function(){},_onClick:function(evt){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.onClick(evt);}});});},"esriviewer/ui/draw/model/DrawWidgetViewModel":function(){define("esriviewer/ui/draw/model/DrawWidgetViewModel",["dojo/_base/declare"],function(_b21){return _b21([],{drawModes:{"point":"point","line":"line","polyline":"polyline","polygon":"polygon","rectangle":"rectangle","text":"text"},constructor:function(){var self=this;this.showUserPersistedGraphicsIcon=ko.observable(true);this.showDrawWindowActions=ko.observable(true);this.showDrawPolylineIcon=ko.observable(true);this.showDrawTextIcon=ko.observable(true);this.showDrawPointIcon=ko.observable(true);this.showDrawLineIcon=ko.observable(true);this.showDrawPolygonIcon=ko.observable(true);this.showDrawRectangleIcon=ko.observable(true);this.forceHideGraphicsListTab=ko.observable(false);this.polylineActive=ko.observable(false);this.pointActive=ko.observable(false);this.lineActive=ko.observable(false);this.rectangleActive=ko.observable(false);this.polygonActive=ko.observable(false);this.textActive=ko.observable(false);this.graphicsListTabVisible=ko.observable(false);this.freehandContainerVisible=ko.observable(false);this.userPersistedGraphicsVisible=ko.observable(false);this.graphicsListVisible=ko.observable(false);this.configurationVisible=ko.observable(false);this.drawVisible=ko.observable(true);var _b22=function(){return (!self.forceHideGraphicsListTab())&&self.graphicsListTabVisible();};this.showGraphicsListTab=ko.computed(_b22);this.showSavedGraphicsTab=ko.observable(false);},showUserPersistedGraphics:function(){this.graphicsListVisible(false);this.configurationVisible(false);this.drawVisible(false);this.userPersistedGraphicsVisible(true);this.freehandContainerVisible(false);},showGraphicsList:function(){this.graphicsListVisible(true);this.configurationVisible(false);this.drawVisible(false);this.userPersistedGraphicsVisible(false);this.freehandContainerVisible(false);},showConfiguration:function(){this.graphicsListVisible(false);this.configurationVisible(true);this.userPersistedGraphicsVisible(false);this.drawVisible(false);this.freehandContainerVisible(false);},showDraw:function(){this.graphicsListVisible(false);this.userPersistedGraphicsVisible(false);this.configurationVisible(false);this.drawVisible(true);this.freehandContainerVisible(this.polygonActive()||this.lineActive());},setDrawMode:function(mode){this.pointActive(false);this.lineActive(false);this.polylineActive(false);this.rectangleActive(false);this.polygonActive(false);this.textActive(false);this.freehandContainerVisible(false);if(mode!=null){if(mode===this.drawModes.point){this.pointActive(true);}else{if(mode===this.drawModes.line){this.lineActive(true);if(this.drawVisible()){this.freehandContainerVisible(false);}}else{if(mode===this.drawModes.polyline){this.polylineActive(true);if(this.drawVisible()){this.freehandContainerVisible(true);}}else{if(mode===this.drawModes.rectangle){this.rectangleActive(true);}else{if(mode===this.drawModes.polygon){this.polygonActive(true);if(this.drawVisible()){this.freehandContainerVisible(true);}}else{if(mode===this.drawModes.text){this.textActive(true);}}}}}}}},getCurrentDrawType:function(){if(this.polygonActive()){return this.drawModes.polygon;}else{if(this.lineActive()){return this.drawModes.line;}else{if(this.rectangleActive()){return this.drawModes.rectangle;}else{if(this.pointActive()){return this.drawModes.point;}else{if(this.polylineActive()){return this.drawModes.polyline;}else{if(this.textActive()){return this.drawModes.text;}else{return null;}}}}}}}});});},"esriviewer/ui/logging/LoggingWidgetWindow":function(){define("esriviewer/ui/logging/LoggingWidgetWindow",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojo/dom-style","../window/WindowWidget","./LoggingWidget"],function(_b23,_b24,lang,_b25,_b26,_b27){return _b23([_b26],{defaultPositioning:{x:10,y:240},windowWidth:"500px",windowHeaderText:"Logging",windowIconAltText:"Logging",windowIconClass:"commonIcons16 list",positioningParamName:"logging",postCreate:function(){this.inherited(arguments);this.loggingWidget=new _b27();this.setContent(this.loggingWidget.domNode);},initListeners:function(){this.inherited(arguments);this.subscribes.push(_b24.subscribe(VIEWER_GLOBALS.EVENTS.LOGGING.WINDOW.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_b24.subscribe(VIEWER_GLOBALS.EVENTS.LOGGING.WINDOW.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_b24.subscribe(VIEWER_GLOBALS.EVENTS.LOGGING.WINDOW.TOGGLE,lang.hitch(this,this.toggle)));},hidePopups:function(){this.inherited(arguments);if(this.loggingWidget){this.loggingWidget.hidePopups();}}});});},"esriviewer/ui/portal/PortalPublisherWindowWidget":function(){define("esriviewer/ui/portal/PortalPublisherWindowWidget",["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/window","dojo/dom-class","../window/WindowWidget"],function(_b28,lang,_b29,_b2a,_b2b,_b2c){return _b28([_b2c],{defaultPositioning:{x:400,y:125},windowWidth:"375px",windowHeaderText:"Publish to Portal",windowIconAltText:"Publish to Portal",windowIconClass:"commonIcons16 worldAdd",positioningParamName:"portalPublisher",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},postCreate:function(){this.inherited(arguments);_b2b.add(this.windowContent,"portalPublisherWindowContent");},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/portal/PortalPublisherWidget"],lang.hitch(this,function(_b2d){this.portalPublisherWidget=new _b2d();this.setContent(this.portalPublisherWidget.domNode);}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_b29.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.PORTAL_PUBLISH.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_b29.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.PORTAL_PUBLISH.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_b29.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.PORTAL_PUBLISH.TOGGLE,lang.hitch(this,this.toggle)));}});});},"esriviewer/ui/legend/MapLegendWindow":function(){define("esriviewer/ui/legend/MapLegendWindow",["dojo/_base/declare","dojo/topic","dojo/_base/lang","../window/WindowWidget"],function(_b2e,_b2f,lang,_b30){return _b2e([_b30],{defaultPositioning:{x:62,y:150},windowWidth:"300px",windowHeight:"400px",windowHeaderText:"Map Legend",windowIconAltText:"Map Legend",windowIconClass:"commonIcons16 list",positioningParamName:"legend",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/legend/MapLegendWidget"],lang.hitch(this,function(_b31){this.mapLegendWidget=new _b31();this.setContent(this.mapLegendWidget.domNode);this.mapLegendWidget.startup();}));},initListeners:function(){this.inherited(arguments);_b2f.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.LEGEND.SHOW,lang.hitch(this,this.show));_b2f.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.LEGEND.HIDE,lang.hitch(this,this.hide));}});});},"esriviewer/ui/header/HeaderLogo":function(){require({cache:{"url:esriviewer/ui/header/template/HeaderLogoTemplate.html":"<div class=\"logoHeaderContainer defaultBoxShadow defaultBackground defaultBorder fourPixelBorderRadius\">\r\n    <img alt=\"header logo\" data-bind=\"visible: showHeaderIcon, attr:{ src: headerIconUrl, alt:headerMainText}\"  class='headerLogoIcon'>\r\n    <span class=\"headerMainText\" data-bind=\"text: headerMainText\"></span>\r\n    <div class=\"logolinks\">\r\n        <a data-bind=\"attr:{href: contactUrl},text: contactText\" target=\"_blank\" title=\"Opens in a new window.\"></a>\r\n        <span class=\"headerLogoLinksSpace\">|</span>\r\n        <a data-bind=\"attr:{href: helpUrl}, text: helpText\" target=\"_blank\" title=\"Opens in a new window.\"></a>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/header/HeaderLogo",["dojo/_base/declare","dojo/text!./template/HeaderLogoTemplate.html","../base/UITemplatedWidget","dojo/_base/lang","dojo/topic","./model/HeaderLogoViewModel"],function(_b32,_b33,_b34,lang,_b35,_b36){return _b32([_b34],{animate:true,templateString:_b33,constructor:function(){this.animation=VIEWER_GLOBALS.ANIMATIONS.BOUNCE.IN_DOWN;},postCreate:function(){this.viewModel=new _b36();this.inherited(arguments);ko.applyBindings(this.viewModel,this.domNode);},loadViewerConfigurationData:function(){var _b37=null;_b35.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"animationsEnabled",function(_b38){_b37=_b38;});if(_b37!=null){this.animate=_b37;}var _b39=null;_b35.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"header",function(_b3a){_b39=_b3a;});if(_b39!=null&&lang.isObject(_b39)){if(_b39.headerText){this.viewModel.headerMainText(_b39.headerText);}if(_b39.headerImage!=null&&_b39.headerImage!=""){this.viewModel.headerIconUrl(_b39.headerImage);}else{this.viewModel.showHeaderIcon(false);}if(_b39.contact!=null&&lang.isObject(_b39.contact)){if(_b39.contact.label){this.viewModel.contactText(_b39.contact.label);}if(_b39.contact.url){this.viewModel.contactUrl(_b39.contact.url);}}if(_b39.help!=null&&lang.isObject(_b39.help)){if(_b39.help.label){this.viewModel.helpText(_b39.help.label);}if(_b39.help.url){this.viewModel.helpUrl(_b39.help.url);}}}}});});},"dijit/MenuSeparator":function(){require({cache:{"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>"}});define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_b3b,dom,_b3c,_b3d,_b3e,_b3f){return _b3b("dijit.MenuSeparator",[_b3c,_b3d,_b3e],{templateString:_b3f,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"esriviewer/ui/draw/configure/geometry/model/ConfigureTextViewModel":function(){define("esriviewer/ui/draw/configure/geometry/model/ConfigureTextViewModel",["dojo/_base/declare","esri/symbols/TextSymbol","esri/symbols/Font"],function(_b40,_b41,Font){return _b40([],{textAligns:ko.observableArray([{value:_b41.ALIGN_START,label:"Start"},{value:_b41.ALIGN_MIDDLE,label:"Middle"},{value:_b41.ALIGN_END,label:"End"}]),textWeights:ko.observableArray([{value:Font.WEIGHT_NORMAL,label:"Normal"},{value:Font.WEIGHT_LIGHTER,label:"Lighter"},{value:Font.WEIGHT_BOLD,label:"Bold"},{value:Font.WEIGHT_BOLDER,label:"Bolder"}]),fontFaces:ko.observableArray([{value:Font.STYLE_NORMAL,label:"Normal"},{value:Font.STYLE_ITALIC,label:"Italic"},{value:Font.STYLE_OBLIQUE,label:"Oblique"}]),textSizes:ko.observableArray([{value:"8pt",label:"8"},{value:"9pt",label:"9"},{value:"10pt",label:"10"},{value:"11pt",label:"11"},{value:"12pt",label:"12"},{value:"13pt",label:"13"},{value:"14pt",label:"14"},{value:"15pt",label:"15"},{value:"20pt",label:"20"},{value:"25pt",label:"25"},{value:"30pt",label:"30"},{value:"50pt",label:"50"},{value:"75pt",label:"75"}]),angles:ko.observableArray([0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85]),constructor:function(){this.selectedTextSize=ko.observable("15pt");this.selectedTextAlign=ko.observable(_b41.ALIGN_END);this.selectedTextWeight=ko.observable(Font.WEIGHT_NORMAL);this.selectedFontFace=ko.observable(Font.STYLE_NORMAL);this.selectedAngle=ko.observable(0);}});});},"esriviewer/base/DataLoaderSupport":function(){define("esriviewer/base/DataLoaderSupport",["dojo/_base/declare","dojo/_base/lang","dojo/_base/xhr","esri/config","esri/request"],function(_b42,lang,xhr,_b43,_b44){return _b42([],{loadJson:function(url,_b45,_b46){if(url==null||url==""||_b45==null||!lang.isFunction(_b45)){return;}var _b47={url:url,handleAs:"json",load:_b45};if(_b46!=null&&lang.isFunction(_b46)){_b47.error=_b46;}xhr.get(_b47);},loadProxiedJson:function(url,_b48,_b49){if(_b43==null||_b43.defaults==null||_b43.defaults.io==null||_b43.defaults.io.proxyUrl==null){alert("You Must Configure a proxy for this request: "+url);return;}this.loadJson(_b43.defaults.io.proxyUrl+"?"+url,_b48,_b49);},loadJsonP:function(url,_b4a,_b4b,_b4c,_b4d){if(_b4c==null){_b4c=lang.hitch(this,function(_b4e){var msg="Could not resource : "+url+". Please verify URL is accessible.";});}if(_b4d==null){_b4d="callback";}var _b4f={callbackParamName:_b4d,content:_b4a,url:url};_b44(_b4f).then(_b4b,_b4c);},loadText:function(url,_b50,_b51){if(url==null||url==""||!lang.isFunction(_b50)){return;}var _b52={url:url,handleAs:"text",load:_b50};if(_b51!=null&&lang.isFunction(_b51)){_b52.error=_b51;}xhr.get(_b52);}});});},"url:esriviewer/ui/draw/configure/geometry/template/ConfigureLineTemplate.html":"<div class=\"configureDrawGeometryContainer\">\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Line Style</span>\r\n        <select data-bind=\"options: lineStyles ,value:selectedLineStyle, optionsText: 'label', optionsValue: 'value'\"></select>\r\n    </div>\r\n    <div class=\"annotationOptionContainer\">\r\n        <span class=\"annotationsOptionsLabel\">Width</span>\r\n        <select data-bind=\"options: lineWidths ,value:selectedWidth\"></select>\r\n    </div>\r\n    <div data-dojo-attach-point=\"transparencySliderContainer\"></div>\r\n\r\n    <div class=\"configureDrawColorPickerContainer\" data-dojo-attach-point=\"colorPickerContainer\"></div>\r\n</div>","esriviewer/ui/draw/DrawWindow":function(){define("esriviewer/ui/draw/DrawWindow",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojo/dom-class","../window/WindowWidget","./DrawWidget"],function(_b53,_b54,lang,_b55,_b56,_b57){return _b53([_b56],{defaultPositioning:{x:500,y:50},windowWidth:"335px",windowHeaderText:"Draw",windowIconAltText:"Draw",positioningParamName:"draw",windowIconClass:"commonIcons16 pencil",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},postCreate:function(){this.inherited(arguments);_b55.add(this.windowContent,"drawWindowContent");},handleFirstWindowShow:function(){this.firstShowListener.remove();this.drawWidget=new _b57();this.setContent(this.drawWidget.domNode);},initListeners:function(){this.inherited(arguments);this.subscribes.push(_b54.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.DRAW.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_b54.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.DRAW.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_b54.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.DRAW.TOGGLE,lang.hitch(this,this.toggle)));},hide:function(){this.inherited(arguments);if(this.drawWidget){if(this.drawWidget.currentDrawType!=null){this.drawWidget.clearDraw();}}},hidePopups:function(){this.inherited(arguments);if(this.drawWidget){this.drawWidget.hidePopups();}}});});},"esriviewer/ui/query/QueryBuilderWindowWidget":function(){define("esriviewer/ui/query/QueryBuilderWindowWidget",["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/window","dojo/dom-style","dojo/dom-class","../window/WindowWidget","dojox/html/metrics"],function(_b58,lang,_b59,_b5a,_b5b,_b5c,_b5d,_b5e){return _b58([_b5d],{defaultPositioning:{x:400,y:125},pendingQueryLayerCallback:null,minWidth:400,resizable:true,resizeAxis:"xy",windowHeight:"38em",windowHeaderText:"Query Builder",windowIconAltText:"Query Builder",windowIconClass:"commonIcons16 sql",positioningParamName:"queryBuilder",constructor:function(){var _b5f=_b5e.getFontMeasurements();this.minHeight=38*_b5f["1em"];this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},postCreate:function(){this.inherited(arguments);_b5c.add(this.windowContent,"queryBuilderWindowContent");},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/query/QueryBuilderWidget"],lang.hitch(this,function(_b60){this.queryBuilderWidget=new _b60();this.setContent(this.queryBuilderWidget.domNode);if(this.pendingQueryLayerCallback!=null&&lang.isFunction(this.pendingQueryLayerCallback)){this.pendingQueryLayerCallback();}}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_b59.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.QUERY_BUILDER.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_b59.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.QUERY_BUILDER.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_b59.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.QUERY_BUILDER.TOGGLE,lang.hitch(this,this.toggle)));_b59.subscribe(VIEWER_GLOBALS.EVENTS.QUERY_BUILDER.SET_IMAGE_SERVICE_LAYER,lang.hitch(this,this.setImageServiceLayer));_b59.subscribe(VIEWER_GLOBALS.EVENTS.QUERY_BUILDER.SET_MAP_SERVICE_LAYER,lang.hitch(this,this.setMapServiceLayer));_b59.subscribe(VIEWER_GLOBALS.EVENTS.QUERY_BUILDER.SET_FEATURE_SERVICE_LAYER,lang.hitch(this,this.setFeatureServiceLayer));},hide:function(){this.inherited(arguments);if(this.queryBuilderWidget){this.queryBuilderWidget.clearGraphics();}},setImageServiceLayer:function(_b61){if(this.queryBuilderWidget==null){this.pendingQueryLayerCallback=lang.hitch(this,function(_b62){this.queryBuilderWidget.setImageServiceLayer(_b62);this.pendingQueryLayerCallback=null;},_b61);}else{this.queryBuilderWidget.setImageServiceLayer(_b61);}this.show();},setMapServiceLayer:function(_b63,_b64){if(this.queryBuilderWidget==null){this.pendingQueryLayerCallback=lang.hitch(this,function(_b65,_b66){this.queryBuilderWidget.setMapServiceLayer(_b65,_b66);this.pendingQueryLayerCallback=null;},_b63,_b64);}else{this.queryBuilderWidget.setMapServiceLayer(_b63,_b64);}this.show();},setFeatureServiceLayer:function(_b67){if(this.queryBuilderWidget==null){this.pendingQueryLayerCallback=lang.hitch(this,function(_b68){this.queryBuilderWidget.setFeatureServiceLayer(_b68);this.pendingQueryLayerCallback=null;},_b67);}else{this.queryBuilderWidget.setFeatureServiceLayer(_b67);}this.show();}});});},"dojo/require":function(){define("dojo/require",["./_base/loader"],function(_b69){return {dynamic:0,normalize:function(id){return id;},load:_b69.require};});},"xstyle/css":function(){define("xstyle/css",["require"],function(_b6a){"use strict";function _b6b(tag,id,_b6c){var _b6d=document.documentElement;var _b6e=_b6d.insertBefore(document.createElement(tag),_b6d.firstChild);_b6e.id=id;var _b6f=(_b6e.currentStyle||getComputedStyle(_b6e,null))[_b6c];_b6d.removeChild(_b6e);return _b6f;};return {load:function(_b70,_b71,_b72,_b73){var url=_b71.toUrl(_b70);var _b74=_b71.cache["url:"+url];if(_b74){if(_b74.xCss){var _b75=_b74.parser;var xCss=_b74.xCss;_b74=_b74.cssText;}_b6a(["./util/createStyleSheet"],function(_b76){_b76(_b74);});if(xCss){}return _b77();}function _b77(){var _b78=_b6b("x-parse",null,"content");if(_b78&&_b78!="none"){_b71([eval(_b78)],_b72);}else{_b72();}};var _b79=_b6b("div",_b70.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display");if(_b79=="none"){return _b77();}_b6a(["./load-css"],function(load){load(url,_b77);});}};});},"esriviewer/ui/draw/configure/geometry/model/ConfigurePolygonViewModel":function(){define("esriviewer/ui/draw/configure/geometry/model/ConfigurePolygonViewModel",["dojo/_base/declare","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol"],function(_b7a,_b7b,_b7c){return _b7a([],{fillStyles:ko.observableArray([{value:_b7c.STYLE_BACKWARD_DIAGONAL,label:"Backward Diagonal"},{value:_b7c.STYLE_CROSS,label:"Cross"},{value:_b7c.STYLE_DIAGONAL_CROSS,label:"Diagonal Cross"},{value:_b7c.STYLE_FORWARD_DIAGONAL,label:"Forward Diagonal"},{value:_b7c.STYLE_HORIZONTAL,label:"Horizontal Lines"},{value:_b7c.STYLE_SOLID,label:"Solid"},{value:_b7c.STYLE_VERTICAL,label:"Vertical Lines"},{value:_b7c.STYLE_NULL,label:"None"}]),outlineStyles:ko.observableArray([{value:_b7b.STYLE_DASH,label:"Dashed Line"},{value:_b7b.STYLE_DASHDOT,label:"Dash Dot Line"},{value:_b7b.STYLE_DASHDOTDOT,label:"Dash Dot Dot Line"},{value:_b7b.STYLE_DOT,label:"Dotted Line"},{value:_b7b.STYLE_SOLID,label:"Solid Line"},{value:_b7b.STYLE_NULL,label:"None"}]),outlineWidths:ko.observableArray([1,2,3,4,5,6,7,8,9,10,15,20,25,30,40,50]),angles:ko.observableArray([0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85]),constructor:function(){this.selectedFillStyle=ko.observable(_b7c.STYLE_SOLID);this.selectedOutlineStyle=ko.observable(_b7b.STYLE_SOLID);this.selectedAngle=ko.observable(0);this.selectedOutlineWidth=ko.observable(1);this.outlineColorActive=ko.observable(true);this.fillColorActive=ko.observable(false);},setOutlineColorMode:function(){this.outlineColorActive(true);this.fillColorActive(false);},setFillColorMode:function(){this.outlineColorActive(false);this.fillColorActive(true);}});});},"dijit/tree/dndSource":function(){define("dijit/tree/dndSource",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/_base/lang","dojo/on","dojo/touch","dojo/topic","dojo/dnd/Manager","./_dndSelector"],function(_b7d,_b7e,_b7f,_b80,_b81,lang,on,_b82,_b83,_b84,_b85){var _b86=_b7f("dijit.tree.dndSource",_b85,{isSource:true,accept:["text","treeNode"],copyOnly:false,dragThreshold:5,betweenThreshold:0,generateText:true,constructor:function(tree,_b87){if(!_b87){_b87={};}lang.mixin(this,_b87);var type=_b87.accept instanceof Array?_b87.accept:["text","treeNode"];this.accept=null;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.dropPosition="";this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){_b80.add(this.node,"dojoDndSource");}this.targetState="";if(this.accept){_b80.add(this.node,"dojoDndTarget");}this.topics=[_b83.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),_b83.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),_b83.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),_b83.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];},checkAcceptance:function(){return true;},copyState:function(_b88){return this.copyOnly||_b88;},destroy:function(){this.inherited(arguments);var h;while(h=this.topics.pop()){h.remove();}this.targetAnchor=null;},_onDragMouse:function(e,_b89){var m=_b84.manager(),_b8a=this.targetAnchor,_b8b=this.current,_b8c=this.dropPosition;var _b8d="Over";if(_b8b&&this.betweenThreshold>0){if(!this.targetBox||_b8a!=_b8b){this.targetBox=_b81.position(_b8b.rowNode,true);}if((e.pageY-this.targetBox.y)<=this.betweenThreshold){_b8d="Before";}else{if((e.pageY-this.targetBox.y)>=(this.targetBox.h-this.betweenThreshold)){_b8d="After";}}}if(_b89||_b8b!=_b8a||_b8d!=_b8c){if(_b8a){this._removeItemClass(_b8a.rowNode,_b8c);}if(_b8b){this._addItemClass(_b8b.rowNode,_b8d);}if(!_b8b){m.canDrop(false);}else{if(_b8b==this.tree.rootNode&&_b8d!="Over"){m.canDrop(false);}else{var _b8e=false;if(m.source==this){for(var _b8f in this.selection){var _b90=this.selection[_b8f];if(_b90.item===_b8b.item){_b8e=true;break;}}}if(_b8e){m.canDrop(false);}else{if(this.checkItemAcceptance(_b8b.rowNode,m.source,_b8d.toLowerCase())&&!this._isParentChildDrop(m.source,_b8b.rowNode)){m.canDrop(true);}else{m.canDrop(false);}}}}this.targetAnchor=_b8b;this.dropPosition=_b8d;}},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}this.inherited(arguments);var m=_b84.manager();if(this.isDragging){this._onDragMouse(e);}else{if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>=this.dragThreshold||Math.abs(e.pageY-this._lastY)>=this.dragThreshold)){var _b91=this.getSelectedTreeNodes();if(_b91.length){if(_b91.length>1){var seen=this.selection,i=0,r=[],n,p;nextitem:while((n=_b91[i++])){for(p=n.getParent();p&&p!==this.tree;p=p.getParent()){if(seen[p.id]){continue nextitem;}}r.push(n);}_b91=r;}_b91=_b7d.map(_b91,function(n){return n.domNode;});m.startDrag(this,_b91,this.copyState(_b7e.isCopyKey(e)));this._onDragMouse(e,true);}}}},onMouseDown:function(e){this.mouseDown=true;this.mouseButton=e.button;this._lastX=e.pageX;this._lastY=e.pageY;this.inherited(arguments);},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;this.inherited(arguments);}},onMouseOut:function(){this.inherited(arguments);this._unmarkTargetAnchor();},checkItemAcceptance:function(){return true;},onDndSourceOver:function(_b92){if(this!=_b92){this.mouseDown=false;this._unmarkTargetAnchor();}else{if(this.isDragging){var m=_b84.manager();m.canDrop(false);}}},onDndStart:function(_b93,_b94,copy){if(this.isSource){this._changeState("Source",this==_b93?(copy?"Copied":"Moved"):"");}var _b95=this.checkAcceptance(_b93,_b94);this._changeState("Target",_b95?"":"Disabled");if(this==_b93){_b84.manager().overSource(this);}this.isDragging=true;},itemCreator:function(_b96){return _b7d.map(_b96,function(node){return {"id":node.id,"name":node.textContent||node.innerText||""};});},onDndDrop:function(_b97,_b98,copy){if(this.containerState=="Over"){var tree=this.tree,_b99=tree.model,_b9a=this.targetAnchor;this.isDragging=false;var _b9b;var _b9c;var _b9d;_b9b=(_b9a&&_b9a.item)||tree.item;if(this.dropPosition=="Before"||this.dropPosition=="After"){_b9b=(_b9a.getParent()&&_b9a.getParent().item)||tree.item;_b9c=_b9a.getIndexInParent();if(this.dropPosition=="After"){_b9c=_b9a.getIndexInParent()+1;_b9d=_b9a.getNextSibling()&&_b9a.getNextSibling().item;}else{_b9d=_b9a.item;}}else{_b9b=(_b9a&&_b9a.item)||tree.item;}var _b9e;_b7d.forEach(_b98,function(node,idx){var _b9f=_b97.getItem(node.id);if(_b7d.indexOf(_b9f.type,"treeNode")!=-1){var _ba0=_b9f.data,_ba1=_ba0.item,_ba2=_ba0.getParent().item;}if(_b97==this){if(typeof _b9c=="number"){if(_b9b==_ba2&&_ba0.getIndexInParent()<_b9c){_b9c-=1;}}_b99.pasteItem(_ba1,_ba2,_b9b,copy,_b9c,_b9d);}else{if(_b99.isItem(_ba1)){_b99.pasteItem(_ba1,_ba2,_b9b,copy,_b9c,_b9d);}else{if(!_b9e){_b9e=this.itemCreator(_b98,_b9a.rowNode,_b97);}_b99.newItem(_b9e[idx],_b9b,_b9c,_b9d);}}},this);this.tree._expandNode(_b9a);}this.onDndCancel();},onDndCancel:function(){this._unmarkTargetAnchor();this.isDragging=false;this.mouseDown=false;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","");},onOverEvent:function(){this.inherited(arguments);_b84.manager().overSource(this);},onOutEvent:function(){this._unmarkTargetAnchor();var m=_b84.manager();if(this.isDragging){m.canDrop(false);}m.outSource(this);this.inherited(arguments);},_isParentChildDrop:function(_ba3,_ba4){if(!_ba3.tree||_ba3.tree!=this.tree){return false;}var root=_ba3.tree.domNode;var ids=_ba3.selection;var node=_ba4.parentNode;while(node!=root&&!ids[node.id]){node=node.parentNode;}return node.id&&ids[node.id];},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor.rowNode,this.dropPosition);this.targetAnchor=null;this.targetBox=null;this.dropPosition=null;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");}});return _b86;});},"url:esriviewer/ui/draw/base/template/UserPersistedGrahicsListingTemplate.html":"<div>\r\n    <div class=\"addedUserPersistedGraphicsListContainer\" data-dojo-attach-point=\"addedUserPersistedGraphicsListContainer\">\r\n        <ul data-dojo-attach-point=\"addedGraphicsList\" class=\"viewerList\" data-bind=\"foreach: addedUserPersistedGraphics\">\r\n            <li class=\"graphicsListEntry\">\r\n                <div title=\"Delete Saved Graphics\" class=\"viewerListEntryRemoveIcon commonIcons16 remove\" data-bind=\"click:$parent.removeUserPersistedGraphic\"></div>\r\n                <div title=\"Add Saved Graphics To Map\" class=\"viewerListGenericIcon commonIcons16 layerShow\" data-bind=\"click:$parent.addSavedGraphics\"></div>\r\n                <span class=\"graphicsListEntryLabel\" data-bind=\"text: $data.label\"></span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>","dojox/storage/CookieStorageProvider":function(){define("dojox/storage/CookieStorageProvider",["dijit","dojo","dojox","dojo/require!dojox/storage/Provider,dojox/storage/manager,dojo/cookie"],function(_ba5,dojo,_ba6){dojo.provide("dojox.storage.CookieStorageProvider");dojo.require("dojox.storage.Provider");dojo.require("dojox.storage.manager");dojo.require("dojo.cookie");dojo.declare("dojox.storage.CookieStorageProvider",[_ba6.storage.Provider],{store:null,cookieName:"dojoxStorageCookie",storageLife:730,initialize:function(){this.store=dojo.fromJson(dojo.cookie(this.cookieName))||{};this.initialized=true;_ba6.storage.manager.loaded();},isAvailable:function(){return dojo.cookie.isSupported();},put:function(key,_ba7,_ba8,_ba9){this._assertIsValidKey(key);_ba9=_ba9||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_ba9);fullKey=this.getFullKey(key,_ba9);this.store[fullKey]=dojo.toJson(_ba7);this._save();var _baa=dojo.toJson(this.store)===dojo.cookie(this.cookieName);if(!_baa){this.remove(key,_ba9);}if(_ba8){_ba8(_baa?this.SUCCESS:this.FAILED,key,null,_ba9);}},get:function(key,_bab){this._assertIsValidKey(key);_bab=_bab||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_bab);key=this.getFullKey(key,_bab);return this.store[key]?dojo.fromJson(this.store[key]):null;},getKeys:function(_bac){_bac=_bac||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_bac);_bac="__"+_bac+"_";var keys=[];for(var _bad in this.store){if(this._beginsWith(_bad,_bac)){_bad=_bad.substring(_bac.length);keys.push(_bad);}}return keys;},clear:function(_bae){_bae=_bae||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_bae);_bae="__"+_bae+"_";for(var _baf in this.store){if(this._beginsWith(_baf,_bae)){delete (this.store[_baf]);}}this._save();},remove:function(key,_bb0){_bb0=_bb0||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_bb0);this._assertIsValidKey(key);key=this.getFullKey(key,_bb0);delete this.store[key];this._save();},getNamespaces:function(){var _bb1=[this.DEFAULT_NAMESPACE];var _bb2={};_bb2[this.DEFAULT_NAMESPACE]=true;var _bb3=/^__([^_]*)_/;for(var _bb4 in this.store){if(_bb3.test(_bb4)==true){var _bb5=_bb4.match(_bb3)[1];if(typeof _bb2[_bb5]=="undefined"){_bb2[_bb5]=true;_bb1.push(_bb5);}}}return _bb1;},isPermanent:function(){return true;},getMaximumSize:function(){return 4;},hasSettingsUI:function(){return false;},isValidKey:function(_bb6){if(_bb6===null||_bb6===undefined){return false;}return /^[0-9A-Za-z_-]*$/.test(_bb6);},isValidNamespace:function(_bb7){if(_bb7===null||_bb7===undefined){return false;}return /^[0-9A-Za-z-]*$/.test(_bb7);},getFullKey:function(key,_bb8){return "__"+_bb8+"_"+key;},_save:function(){dojo.cookie(this.cookieName,dojo.toJson(this.store),{expires:this.storageLife});},_beginsWith:function(_bb9,_bba){if(_bba.length>_bb9.length){return false;}return _bb9.substring(0,_bba.length)===_bba;},_assertIsValidNamespace:function(_bbb){if(this.isValidNamespace(_bbb)===false){throw new Error("Invalid namespace given: "+_bbb);}},_assertIsValidKey:function(key){if(this.isValidKey(key)===false){throw new Error("Invalid key given: "+key);}}});_ba6.storage.manager.register("dojox.storage.CookieStorageProvider",new _ba6.storage.CookieStorageProvider());});},"esriviewer/ui/accordion/ToolsAccordion":function(){require({cache:{"url:esriviewer/ui/accordion/template/ToolsAccordionTemplate.html":"<div class=\"toolsAccordionContainer fivePixelBorderRadius defaultBoxShadow\">\r\n\r\n</div>"}});define("esriviewer/ui/accordion/ToolsAccordion",["dojo/_base/declare","dojo/text!./template/ToolsAccordionTemplate.html","dojo/topic","dojo/_base/lang","dojo/on","dijit/layout/AccordionContainer","dojo/dom-style","dojo/dom-class","dojo/dom-attr","dojo/dom-construct","dojo/dnd/Moveable","../base/UITemplatedWidget"],function(_bbc,_bbd,_bbe,lang,on,_bbf,_bc0,_bc1,_bc2,_bc3,_bc4,_bc5){return _bbc([_bc5],{templateString:_bbd,isPositionedByConfig:true,positionForHeader:false,headerVisiblePositioning:{x:75,y:125},defaultPositioning:{x:75,y:100},allowCollapse:true,movable:false,isFirstAddedItem:true,showOnLoad:true,positioningParamName:"accordion",returnToOriginOnShow:true,constructor:function(){this.accordion=new _bbf();_bc1.add(this.accordion.domNode,"toolsAccordion");this.visible=true;},postCreate:function(){this.inherited(arguments);if(this.allowCollapse){this.addMinimizeIcon();}_bc3.place(this.accordion.domNode,this.domNode);_bbe.publish(VIEWER_GLOBALS.EVENTS.TOOLS.ACCORDION.LOAD_DEFAULT_TOOLS);if(!this.showOnLoad){this.hide();}if(this.positionForHeader){this.creationPositioning.x=this.headerVisiblePositioning.x;this.creationPositioning.y=this.headerVisiblePositioning.y;}this.returnToOrigin();},loadViewerConfigurationData:function(){var _bc6=null;_bbe.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"toolsAccordion",function(_bc7){_bc6=_bc7;});if(_bc6&&_bc6.showOnLoad!=null){this.showOnLoad=_bc6.showOnLoad;}var _bc8;_bbe.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"header",function(_bc9){_bc8=_bc9;});if(_bc8!=null&&lang.isObject(_bc8)){this.positionForHeader=_bc8.display===true&&_bc8.small!=true;}},initMover:function(){var _bca=_bc3.create("div",{title:"Move",className:"accordionMoveIcon accordionAction move"});_bc3.place(_bca,this.domNode);this.mover=new _bc4(this.domNode,{handle:_bca});this.mover.on("move",lang.hitch(VIEWER_UTILS,VIEWER_UTILS.handleContainerMoved));},placeAt:function(node){_bc3.place(this.domNode,node);if(this.toolsAccordionActions){_bc3.place(this.toolsAccordionActions,node);}if(this.movable){this.initMover();}},addMinimizeIcon:function(){if(this.minimizeIconElement==null){this.minimizeIconElement=_bc3.create("div",{title:"Minimize",className:"accordionMimimizeIcon accordionAction minimize"});_bc3.place(this.minimizeIconElement,this.domNode);on(this.minimizeIconElement,"click",lang.hitch(this,this.hide));if(!this.movable){_bc0.set(this.minimizeIconElement,"right","5px");}}},addItem:function(_bcb){_bc1.add(_bcb.domNode,"accordionChild");this.accordion.addChild(_bcb);if(this.isFirstAddedItem){this.isFirstAddedItem=false;this.selectedChild=_bcb;}},initListeners:function(){this.inherited(arguments);_bbe.subscribe(VIEWER_GLOBALS.EVENTS.TOOLS.ACCORDION.TOGGLE,lang.hitch(this,this.toggle));_bbe.subscribe(VIEWER_GLOBALS.EVENTS.TOOLS.ACCORDION.SHOW,lang.hitch(this,this.show));_bbe.subscribe(VIEWER_GLOBALS.EVENTS.TOOLS.ACCORDION.HIDE,lang.hitch(this,this.hide));_bbe.subscribe(VIEWER_GLOBALS.EVENTS.TOOLS.ACCORDION.ADD_ITEM,lang.hitch(this,this.addItem));},startup:function(){this.accordion.startup();},destroy:function(){if(this.imageryDisplayWidget){this.imageryDisplayWidget.destroy();}if(this.imageryQueryFilterManager){this.imageryQueryFilterManager.destroy();}},toggle:function(){if(this.visible){this.hide();}else{this.show();}},show:function(){_bc0.set(this.domNode,"display","block");this.visible=true;if(this.toolsAccordionActions){_bc2.set(this.toolsAccordionActions,"title","Collapse Tools");if(!_bc1.contains(this.toolsAccordionActions,"toolsAccordionCollapserExpanded")){_bc1.add(this.toolsAccordionActions,"toolsAccordionCollapserExpanded");}_bc1.remove(this.toolsAccordionActions,"toolsAccordionCollapserCollapsed");}if(this.returnToOriginOnShow){this.returnToOrigin();}},returnToOrigin:function(){_bc0.set(this.domNode,this.creationPositioning.alignX,this.creationPositioning.x+"px");_bc0.set(this.domNode,this.creationPositioning.alignY,this.creationPositioning.y+"px");},hide:function(){_bc0.set(this.domNode,"display","none");this.visible=false;if(this.toolsAccordionActions){_bc2.set(this.toolsAccordionActions,"title","Show Tools");if(!_bc1.contains(this.toolsAccordionActions,"toolsAccordionCollapserCollapsed")){_bc1.add(this.toolsAccordionActions,"toolsAccordionCollapserCollapsed");}_bc1.remove(this.toolsAccordionActions,"toolsAccordionCollapserExpanded");}_bbe.publish(VIEWER_GLOBALS.EVENTS.TOOLS.ACCORDION.HIDE_COMPLETE);},toggleVisibility:function(){if(this.visible){this.hide();}else{this.show();}},selectChild:function(_bcc){this.accordion.selectChild(_bcc);this.selectedChild=_bcc;}});});},"esriviewer/ui/draw/base/GraphicsLocalStorageMixin":function(){define("esriviewer/ui/draw/base/GraphicsLocalStorageMixin",["dojo/_base/declare","dojo/_base/lang","dojo/has","dojo/topic"],function(_bcd,lang,has,_bce){return _bcd([],{localStoragePersistSupported:true,constructor:function(){if(!(has("ie")<8)){this.localStoragePersistSupported=false;}this.storageProvider=dojox.storage.manager.getProvider();if(this.storageProvider){this.localStoragePersistSupported=true;}this.persistedUserGraphics=this.loadPersistedUserGraphics();},deleteUserPersistedGraphics:function(_bcf){if(this.persistUserGraphicsLabelExists(_bcf)){delete this.persistedUserGraphics[_bcf];this.persist();}var _bd0=false;for(var key in this.persistedUserGraphics){_bd0=true;break;}return _bd0;},persistUserGraphicsLabelExists:function(_bd1){return this.persistedUserGraphics[_bd1]!=null;},persistUserGraphics:function(_bd2,_bd3){if(_bd2==null||_bd2==""||_bd3==null||!lang.isArray(_bd3)||_bd3.length==0){return null;}if(this.persistUserGraphicsLabelExists(_bd2)){VIEWER_UTILS.log("Attempted to save graphics with an existing label: "+_bd2,VIEWER_GLOBALS.LOG_TYPE.ERROR);_bce.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,"Cannot save graphics. Label already exists.");return null;}else{var _bd4=[];for(var i=0;i<_bd3.length;i++){_bd4.push({label:_bd3[i].label,graphic:_bd3[i].graphic.toJson()});}var _bd5={label:_bd2,graphics:_bd4};this.persistedUserGraphics[_bd2]=_bd5;this.persist();VIEWER_UTILS.log("Saved graphics with label: "+_bd2,VIEWER_GLOBALS.LOG_TYPE.INFO);_bce.publish(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,"Graphics Saved");return _bd5;}},loadPersistedUserGraphics:function(){if(this.storageProvider){if(this.storageProvider.hasKey(VIEWER_GLOBALS.STORAGE.LABELS.USER_GRAPHICS)){return this.storageProvider.get(VIEWER_GLOBALS.STORAGE.LABELS.USER_GRAPHICS);}}return {};},persist:function(){this.storageProvider.put(VIEWER_GLOBALS.STORAGE.LABELS.USER_GRAPHICS,this.persistedUserGraphics);}});});},"esriviewer/ui/navigation/NavigationWidget":function(){require({cache:{"url:esriviewer/ui/navigation/template/NavigationWidgetTemplate.html":"<div data-bind=\"visible: visible\" class=\"navigationHorizontalWidgetContainer\">\r\n    <div class=\"navigationTextToolbarHorizontal\">\r\n        <div class=\"navigationTextToolbarHorizontalInner\" data-dojo-attach-point=\"navigationToolbar\">\r\n        </div>\r\n    </div>\r\n</div>\r\n"}});define("esriviewer/ui/navigation/NavigationWidget",["dojo/_base/declare","dojo/text!./template/NavigationWidgetTemplate.html","dojo/topic","dojo/dom-class","../base/UITemplatedWidget","dojo/_base/lang","dojo/on","./model/NavigationWidgetViewModel"],function(_bd6,_bd7,_bd8,_bd9,_bda,lang,on,_bdb){return _bd6([_bda],{defaultPositioning:{y:5,x:0},positionWithSmallHeader:false,isPositionedByConfig:true,positioningParamName:"navigation",templateString:_bd7,constructor:function(_bdc){lang.mixin(this,_bdc||{});this.visible=true;},postCreate:function(){this.viewModel=new _bdb();this.inherited(arguments);ko.applyBindings(this.viewModel,this.domNode);if(this.positionWithSmallHeader){_bd9.add(this.navigationToolbar,"navigationWithSmallHeaderPositioning");}this.show();},loadViewerConfigurationData:function(){var _bdd;_bd8.publish(VIEWER_GLOBALS.EVENTS.CONFIGURATION.GET_ENTRY,"header",function(_bde){_bdd=_bde;});if(_bdd!=null&&lang.isObject(_bdd)){this.positionWithSmallHeader=_bdd.display===true&&_bdd.small===true;}},handleToggle:function(){this.viewModel.visible(!this.viewModel.visible());},show:function(){this.viewModel.visible(true);},hide:function(){this.viewModel.visible(false);}});});},"dojox/storage/FlashStorageProvider":function(){define("dojox/storage/FlashStorageProvider",["dijit","dojo","dojox","dojo/require!dojox/flash,dojox/storage/manager,dojox/storage/Provider"],function(_bdf,dojo,_be0){dojo.provide("dojox.storage.FlashStorageProvider");dojo.require("dojox.flash");dojo.require("dojox.storage.manager");dojo.require("dojox.storage.Provider");dojo.declare("dojox.storage.FlashStorageProvider",_be0.storage.Provider,{initialized:false,_available:null,_statusHandler:null,_flashReady:false,_pageReady:false,initialize:function(){if(dojo.config["disableFlashStorage"]==true){return;}_be0.flash.addLoadedListener(dojo.hitch(this,function(){this._flashReady=true;if(this._flashReady&&this._pageReady){this._loaded();}}));var _be1=dojo.moduleUrl("dojox","storage/Storage.swf").toString();_be0.flash.setSwf(_be1,false);dojo.connect(dojo,"loaded",this,function(){this._pageReady=true;if(this._flashReady&&this._pageReady){this._loaded();}});},setFlushDelay:function(_be2){if(_be2===null||typeof _be2==="undefined"||isNaN(_be2)){throw new Error("Invalid argunment: "+_be2);}_be0.flash.comm.setFlushDelay(String(_be2));},getFlushDelay:function(){return Number(_be0.flash.comm.getFlushDelay());},flush:function(_be3){if(_be3==null||typeof _be3=="undefined"){_be3=_be0.storage.DEFAULT_NAMESPACE;}_be0.flash.comm.flush(_be3);},isAvailable:function(){return (this._available=!dojo.config["disableFlashStorage"]);},put:function(key,_be4,_be5,_be6){if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}if(!_be6){_be6=_be0.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_be6)){throw new Error("Invalid namespace given: "+_be6);}this._statusHandler=_be5;if(dojo.isString(_be4)){_be4="string:"+_be4;}else{_be4=dojo.toJson(_be4);}_be0.flash.comm.put(key,_be4,_be6);},putMultiple:function(keys,_be7,_be8,_be9){if(!this.isValidKeyArray(keys)||!_be7 instanceof Array||keys.length!=_be7.length){throw new Error("Invalid arguments: keys = ["+keys+"], values = ["+_be7+"]");}if(!_be9){_be9=_be0.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_be9)){throw new Error("Invalid namespace given: "+_be9);}this._statusHandler=_be8;var _bea=keys.join(",");var _beb=[];for(var i=0;i<_be7.length;i++){if(dojo.isString(_be7[i])){_be7[i]="string:"+_be7[i];}else{_be7[i]=dojo.toJson(_be7[i]);}_beb[i]=_be7[i].length;}var _bec=_be7.join("");var _bed=_beb.join(",");_be0.flash.comm.putMultiple(_bea,_bec,_bed,_be9);},get:function(key,_bee){if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}if(!_bee){_bee=_be0.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_bee)){throw new Error("Invalid namespace given: "+_bee);}var _bef=_be0.flash.comm.get(key,_bee);if(_bef==""){return null;}return this._destringify(_bef);},getMultiple:function(keys,_bf0){if(!this.isValidKeyArray(keys)){throw new ("Invalid key array given: "+keys);}if(!_bf0){_bf0=_be0.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_bf0)){throw new Error("Invalid namespace given: "+_bf0);}var _bf1=keys.join(",");var _bf2=_be0.flash.comm.getMultiple(_bf1,_bf0);var _bf3=eval("("+_bf2+")");for(var i=0;i<_bf3.length;i++){_bf3[i]=(_bf3[i]=="")?null:this._destringify(_bf3[i]);}return _bf3;},_destringify:function(_bf4){if(dojo.isString(_bf4)&&(/^string:/.test(_bf4))){_bf4=_bf4.substring("string:".length);}else{_bf4=dojo.fromJson(_bf4);}return _bf4;},getKeys:function(_bf5){if(!_bf5){_bf5=_be0.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_bf5)){throw new Error("Invalid namespace given: "+_bf5);}var _bf6=_be0.flash.comm.getKeys(_bf5);if(_bf6==null||_bf6=="null"){_bf6="";}_bf6=_bf6.split(",");_bf6.sort();return _bf6;},getNamespaces:function(){var _bf7=_be0.flash.comm.getNamespaces();if(_bf7==null||_bf7=="null"){_bf7=_be0.storage.DEFAULT_NAMESPACE;}_bf7=_bf7.split(",");_bf7.sort();return _bf7;},clear:function(_bf8){if(!_bf8){_bf8=_be0.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_bf8)){throw new Error("Invalid namespace given: "+_bf8);}_be0.flash.comm.clear(_bf8);},remove:function(key,_bf9){if(!_bf9){_bf9=_be0.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_bf9)){throw new Error("Invalid namespace given: "+_bf9);}_be0.flash.comm.remove(key,_bf9);},removeMultiple:function(keys,_bfa){if(!this.isValidKeyArray(keys)){dojo.raise("Invalid key array given: "+keys);}if(!_bfa){_bfa=_be0.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_bfa)){throw new Error("Invalid namespace given: "+_bfa);}var _bfb=keys.join(",");_be0.flash.comm.removeMultiple(_bfb,_bfa);},isPermanent:function(){return true;},getMaximumSize:function(){return _be0.storage.SIZE_NO_LIMIT;},hasSettingsUI:function(){return true;},showSettingsUI:function(){_be0.flash.comm.showSettings();_be0.flash.obj.setVisible(true);_be0.flash.obj.center();},hideSettingsUI:function(){_be0.flash.obj.setVisible(false);if(dojo.isFunction(_be0.storage.onHideSettingsUI)){_be0.storage.onHideSettingsUI.call(null);}},getResourceList:function(){return [];},_loaded:function(){this._allNamespaces=this.getNamespaces();this.initialized=true;_be0.storage.manager.loaded();},_onStatus:function(_bfc,key,_bfd){var ds=_be0.storage;var dfo=_be0.flash.obj;if(_bfc==ds.PENDING){dfo.center();dfo.setVisible(true);}else{dfo.setVisible(false);}if(ds._statusHandler){ds._statusHandler.call(null,_bfc,key,null,_bfd);}}});_be0.storage.manager.register("dojox.storage.FlashStorageProvider",new _be0.storage.FlashStorageProvider());});},"url:esriviewer/ui/draw/configure/template/ConfigureDrawTemplate.html":"<div>\r\n    <div data-bind=\"visible:showConfigureGeometryIcons\" data-dojo-attach-point=\"annotationOptionsButtons\" class=\"annotationOptionButtons\">\r\n        <div title=\"Set Point Symbol\"\r\n             data-bind=\"click: showPointConfiguration, css:{pointSelected: pointConfigurationActive}\"\r\n             class=\"annotationOptionButton pointUnselected\"></div>\r\n        <div title=\"Set Line Symbol\"\r\n             data-bind=\"click: showLineConfiguration, css:{polylineSelected: lineConfigurationActive}\"\r\n                    class=\"annotationOptionButton polylineUnselected\"></div>\r\n        <div title=\"Set Polygon Symbol\"\r\n             data-bind=\"click: showPolygonConfiguration, css:{polygonSelected: polygonConfigurationActive}\"\r\n             class=\"annotationOptionButton polygonUnselected\"></div>\r\n        <div title=\"Set Rectangle Symbol\"\r\n             data-bind=\"visible: showEnvelopeIcon, click: showRectangleConfiguration, css:{rectangleSelected: rectangleConfigurationActive}\"\r\n             class=\"annotationOptionButton rectangleUnselected\"></div>\r\n        <div title=\"Set Text Symbol\"\r\n             data-bind=\"visible: showTextIcon, click: showTextConfiguration, css:{textSelected: textConfigurationActive}\"\r\n             class=\"annotationOptionButton textUnselected\"></div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"configurePointWidgetContainer\" data-bind=\"visible:pointConfigurationActive\"></div>\r\n    <div data-dojo-attach-point=\"configureLineWidgetContainer\" data-bind=\"visible:lineConfigurationActive\"></div>\r\n    <div data-dojo-attach-point=\"configureRectangleWidgetContainer\" data-bind=\"visible:rectangleConfigurationActive\"></div>\r\n    <div data-dojo-attach-point=\"configurePolygonWidgetContainer\" data-bind=\"visible:polygonConfigurationActive\"></div>\r\n\r\n    <div data-dojo-attach-point=\"configureTextWidgetContainer\" data-bind=\"visible:textConfigurationActive\"></div>\r\n\r\n</div>","url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode\" cellspacing='0' cellpadding='0'\n\trole=\"listbox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitInputField dijitButtonText\"  data-dojo-attach-point=\"containerNode,_popupStateNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitValidationContainer\"\n\t\t\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t/></div\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td\n\t\t><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\"\n\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\n\t\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n","esriviewer/ui/transparency/LayersTransparencyWindowWidget":function(){define("esriviewer/ui/transparency/LayersTransparencyWindowWidget",["dojo/_base/declare","dojo/topic","dojo/dom-class","dojo/_base/lang","../window/WindowWidget"],function(_bfe,_bff,_c00,lang,_c01){return _bfe([_c01],{defaultPositioning:{x:700,y:50},windowHeight:"250px",windowWidth:"300px",windowHeaderText:"Layer Transparency",windowIconAltText:"Layer Transparency",windowIconClass:"commonIcons16 slider",positioningParamName:"layerTransparency",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},postCreate:function(){this.inherited(arguments);_c00.add(this.windowContent,"layerTransparencyWindowContent");},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/transparency/LayersTransparencyWidget"],lang.hitch(this,function(_c02){this.layersTransparencyWidget=new _c02();this.setContent(this.layersTransparencyWidget.domNode);}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_bff.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.TRANSPARENCY.WINDOW.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_bff.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.TRANSPARENCY.WINDOW.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_bff.subscribe(VIEWER_GLOBALS.EVENTS.MAP.LAYERS.TRANSPARENCY.WINDOW.TOGGLE,lang.hitch(this,this.toggle)));}});});},"esriviewer/ui/messaging/MessagingWidget":function(){require({cache:{"url:esriviewer/ui/messaging/template/MessagingWidgetTemplate.html":"<div class=\"defaultBorder defaultBackground statusMessageContainer threePixelBorderRadius defaultBoxShadow\"\r\n     data-bind=\"visible:visible\">\r\n    <div class=\"commonIcons16 infoBlock messagingIcon\"></div>\r\n    <div class=\"statusDivInner threePixelBorderRadius\">\r\n        <div class=\"statusDivMessage\" data-bind=\"text:message\"></div>\r\n    </div>\r\n</div>"}});define("esriviewer/ui/messaging/MessagingWidget",["dojo/_base/declare","dojo/text!./template/MessagingWidgetTemplate.html","dojo/topic","dojo/_base/lang","../base/UITemplatedWidget","dojox/timing","./model/MessagingWidgetViewModel"],function(_c03,_c04,_c05,lang,_c06,_c07,_c08){return _c03([_c06],{templateString:_c04,defaultTimerInterval:4000,isPositionedByConfig:true,defaultPositioning:{x:375,y:50},positioningParamName:"messaging",postCreate:function(){this.inherited(arguments);this.viewModel=new _c08();ko.applyBindings(this.viewModel,this.domNode);this.messageTimer=new dojox.timing.Timer(this.defaultTimerInterval);this.messageTimer.onTick=lang.hitch(this,this.hideMessage);this.hideMessage();},initListeners:function(){this.inherited(arguments);_c05.subscribe(VIEWER_GLOBALS.EVENTS.MESSAGING.SHOW,lang.hitch(this,this.showMessage));_c05.subscribe(VIEWER_GLOBALS.EVENTS.MESSAGING.HIDE,lang.hitch(this,this.hideMessage));},showMessage:function(_c09,_c0a){this.viewModel.showMessage(_c09);_c0a=(_c0a==null)?this.defaultTimerInterval:_c0a;this.messageTimer.setInterval(_c0a);this.messageTimer.start();},hideMessage:function(){if(this.messageTimer){this.messageTimer.stop();}this.viewModel.hideMessage();}});});},"url:esriviewer/ui/window/template/WindowWidgetTemplate.html":"<div class=\"windowContainer defaultBorder fivePixelBorderRadius defaultBoxShadow\">\r\n    <div data-dojo-attach-point=\"windowHeader\" class=\"windowHeader\">\r\n        <div class=\"windowCloseImg windowAction close\" data-dojo-attach-point=\"windowCloseImg\"\r\n             title=\"Close\"></div>\r\n        <div class=\"windowMinimizeImg windowAction minimize\" data-dojo-attach-point=\"windowMinimizeImg\"\r\n             title=\"Minimize\"></div>\r\n        <div data-dojo-attach-point=\"headerMoverContainer\" class=\"headerMoverContainer\">\r\n            <div class=\"windowIcon ${windowIconClass}\" title=\"${windowIconAltText}\"></div>\r\n            <span class=\"windowHeaderText\">${windowHeaderText}</span>\r\n        </div>\r\n    </div>\r\n    <div class=\"windowContentOuter\" data-dojo-attach-point=\"windowContentOuter\">\r\n        <div data-dojo-attach-point=\"windowContent\" class=\"windowContent\">\r\n            <div data-dojo-attach-point=\"windowLoadingThrobber\" class=\"windowLoadingThrobber\"></div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>","esriviewer/ui/pointupload/PointUploadWindow":function(){define("esriviewer/ui/pointupload/PointUploadWindow",["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/window","dojo/dom-class","../window/WindowWidget"],function(_c0b,lang,_c0c,_c0d,_c0e,_c0f){return _c0b([_c0f],{defaultPositioning:{x:510,y:45},windowHeaderText:"CSV Point Upload",windowIconAltText:"CSV Point Upload",windowIconClass:"commonIcons16 upload",positioningParamName:"pointUpload",constructor:function(){this.firstShowListener=this.on("firstWindowShow",lang.hitch(this,this.handleFirstWindowShow));},handleFirstWindowShow:function(){this.firstShowListener.remove();require(["esriviewer/ui/pointupload/PointUploadWidget"],lang.hitch(this,function(_c10){this.pointUploadWidget=new _c10();this.setContent(this.pointUploadWidget.domNode);}));},initListeners:function(){this.inherited(arguments);this.subscribes.push(_c0c.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.POINT_UPLOAD.SHOW,lang.hitch(this,this.show)));this.subscribes.push(_c0c.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.POINT_UPLOAD.HIDE,lang.hitch(this,this.hide)));this.subscribes.push(_c0c.subscribe(VIEWER_GLOBALS.EVENTS.WINDOW.POINT_UPLOAD.TOGGLE,lang.hitch(this,this.toggle)));}});});},"esriviewer/ui/messaging/model/MessagingWidgetViewModel":function(){define("esriviewer/ui/messaging/model/MessagingWidgetViewModel",["dojo/_base/declare"],function(_c11){return _c11([],{constructor:function(){this.message=ko.observable("");this.visible=ko.observable(false);},showMessage:function(_c12){if(_c12!=null&&_c12!=""){this.visible(true);this.message(_c12);}},hideMessage:function(){this.visible(false);}});});},"dojo/request/notify":function(){define("dojo/request/notify",["../Evented","../_base/lang","./util"],function(_c13,lang,util){var _c14=0,_c15=[].slice;var hub=lang.mixin(new _c13,{onsend:function(data){if(!_c14){this.emit("start");}_c14++;},_onload:function(data){this.emit("done",data);},_onerror:function(data){this.emit("done",data);},_ondone:function(data){if(--_c14<=0){_c14=0;this.emit("stop");}},emit:function(type,_c16){var _c17=_c13.prototype.emit.apply(this,arguments);if(this["_on"+type]){this["_on"+type].apply(this,_c15.call(arguments,1));}return _c17;}});function _c18(type,_c19){return hub.on(type,_c19);};_c18.emit=function(type,_c1a,_c1b){return hub.emit(type,_c1a,_c1b);};return util.notify=_c18;});},"esriviewer/ui/draw/configure/geometry/model/ConfigureLineViewModel":function(){define("esriviewer/ui/draw/configure/geometry/model/ConfigureLineViewModel",["dojo/_base/declare","esri/symbols/SimpleLineSymbol"],function(_c1c,_c1d){return _c1c([],{lineStyles:ko.observableArray([{value:_c1d.STYLE_DASH,label:"Dashed Line"},{value:_c1d.STYLE_DASHDOT,label:"Dash Dot Line"},{value:_c1d.STYLE_DASHDOTDOT,label:"Dash Dot Dot Line"},{value:_c1d.STYLE_DOT,label:"Dotted Line"},{value:_c1d.STYLE_SOLID,label:"Solid Line"},{value:_c1d.STYLE_NULL,label:"None"}]),lineWidths:ko.observableArray([1,2,3,4,5,6,7,8,9,10,15,20,25,30,40,50]),constructor:function(){this.selectedLineStyle=ko.observable(_c1d.STYLE_SOLID);this.selectedWidth=ko.observable(2);}});});},"url:esriviewer/ui/layers/template/LayersTocWidgetTemplate.html":"<div>\r\n    <div class=\"tocRightClickLbl\">Right click for actions</div>\r\n    <div data-dojo-attach-point=\"tocContainer\" class=\"tocContainer\">\r\n\r\n\r\n    </div>\r\n</div>","dijit/form/HorizontalSlider":function(){require({cache:{"url:dijit/form/templates/HorizontalSlider.html":"<table class=\"dijit dijitReset dijitSlider dijitSliderH\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" rules=\"none\" data-dojo-attach-event=\"onkeypress:_onKeyPress,onkeyup:_onKeyUp\"\n\trole=\"presentation\"\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td data-dojo-attach-point=\"topDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderDecrementIconH\" style=\"display:none\" data-dojo-attach-point=\"decrementButton\"><span class=\"dijitSliderButtonInner\">-</span></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper\" data-dojo-attach-event=\"press:_onClkDecBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><input data-dojo-attach-point=\"valueNode\" type=\"hidden\" ${!nameAttrSetting}\n\t\t\t/><div class=\"dijitReset dijitSliderBarContainerH\" role=\"presentation\" data-dojo-attach-point=\"sliderBarContainer\"\n\t\t\t\t><div role=\"presentation\" data-dojo-attach-point=\"progressBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH\" data-dojo-attach-event=\"press:_onBarClick\"\n\t\t\t\t\t><div class=\"dijitSliderMoveable dijitSliderMoveableH\"\n\t\t\t\t\t\t><div data-dojo-attach-point=\"sliderHandle,focusNode\" class=\"dijitSliderImageHandle dijitSliderImageHandleH\" data-dojo-attach-event=\"press:_onHandleClick\" role=\"slider\"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t\t><div role=\"presentation\" data-dojo-attach-point=\"remainingBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH\" data-dojo-attach-event=\"press:_onBarClick\"></div\n\t\t\t></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper\" data-dojo-attach-event=\"press:_onClkIncBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderIncrementIconH\" style=\"display:none\" data-dojo-attach-point=\"incrementButton\"><span class=\"dijitSliderButtonInner\">+</span></div\n\t\t></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td data-dojo-attach-point=\"containerNode,bottomDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n></table>\n"}});define("dijit/form/HorizontalSlider",["dojo/_base/array","dojo/_base/declare","dojo/dnd/move","dojo/_base/event","dojo/_base/fx","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/dnd/Moveable","dojo/dnd/Mover","dojo/query","dojo/mouse","../registry","../focus","../typematic","./Button","./_FormValueWidget","../_Container","dojo/text!./templates/HorizontalSlider.html"],function(_c1e,_c1f,move,_c20,fx,_c21,_c22,keys,lang,has,_c23,_c24,_c25,_c26,_c27,_c28,_c29,_c2a,_c2b,_c2c,_c2d){var _c2e=_c1f("dijit.form._SliderMover",_c24,{onMouseMove:function(e){var _c2f=this.widget;var _c30=_c2f._abspos;if(!_c30){_c30=_c2f._abspos=_c21.position(_c2f.sliderBarContainer,true);_c2f._setPixelValue_=lang.hitch(_c2f,"_setPixelValue");_c2f._isReversed_=_c2f._isReversed();}var _c31=e[_c2f._mousePixelCoord]-_c30[_c2f._startingPixelCoord];_c2f._setPixelValue_(_c2f._isReversed_?(_c30[_c2f._pixelCount]-_c31):_c31,_c30[_c2f._pixelCount],false);},destroy:function(e){_c24.prototype.destroy.apply(this,arguments);var _c32=this.widget;_c32._abspos=null;_c32._setValueAttr(_c32.value,true);}});var _c33=_c1f("dijit.form.HorizontalSlider",[_c2b,_c2c],{templateString:_c2d,value:0,showButtons:true,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:true,slideDuration:_c27.defaultDuration,_setIdAttr:"",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}this._setValueAttr(this.value,true);},_onKeyPress:function(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}switch(e.charOrCode){case keys.HOME:this._setValueAttr(this.minimum,false);break;case keys.END:this._setValueAttr(this.maximum,false);break;case ((this._descending||this.isLeftToRight())?keys.RIGHT_ARROW:keys.LEFT_ARROW):case (this._descending===false?keys.DOWN_ARROW:keys.UP_ARROW):case (this._descending===false?keys.PAGE_DOWN:keys.PAGE_UP):this.increment(e);break;case ((this._descending||this.isLeftToRight())?keys.LEFT_ARROW:keys.RIGHT_ARROW):case (this._descending===false?keys.UP_ARROW:keys.DOWN_ARROW):case (this._descending===false?keys.PAGE_UP:keys.PAGE_DOWN):this.decrement(e);break;default:return;}_c20.stop(e);},_onHandleClick:function(e){if(this.disabled||this.readOnly){return;}if(!has("ie")){_c28.focus(this.sliderHandle);}_c20.stop(e);},_isReversed:function(){return !this.isLeftToRight();},_onBarClick:function(e){if(this.disabled||this.readOnly||!this.clickSelect){return;}_c28.focus(this.sliderHandle);_c20.stop(e);var _c34=_c21.position(this.sliderBarContainer,true);var _c35=e[this._mousePixelCoord]-_c34[this._startingPixelCoord];this._setPixelValue(this._isReversed()?(_c34[this._pixelCount]-_c35):_c35,_c34[this._pixelCount],true);this._movable.onMouseDown(e);},_setPixelValue:function(_c36,_c37,_c38){if(this.disabled||this.readOnly){return;}var _c39=this.discreteValues;if(_c39<=1||_c39==Infinity){_c39=_c37;}_c39--;var _c3a=_c37/_c39;var _c3b=Math.round(_c36/_c3a);this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*_c3b/_c39+this.minimum,this.maximum),this.minimum),_c38);},_setValueAttr:function(_c3c,_c3d){this._set("value",_c3c);this.valueNode.value=_c3c;this.focusNode.setAttribute("aria-valuenow",_c3c);this.inherited(arguments);var _c3e=(_c3c-this.minimum)/(this.maximum-this.minimum);var _c3f=(this._descending===false)?this.remainingBar:this.progressBar;var _c40=(this._descending===false)?this.progressBar:this.remainingBar;if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}if(_c3d&&this.slideDuration>0&&_c3f.style[this._progressPixelSize]){var _c41=this;var _c42={};var _c43=parseFloat(_c3f.style[this._progressPixelSize]);var _c44=this.slideDuration*(_c3e-_c43/100);if(_c44==0){return;}if(_c44<0){_c44=0-_c44;}_c42[this._progressPixelSize]={start:_c43,end:_c3e*100,units:"%"};this._inProgressAnim=fx.animateProperty({node:_c3f,duration:_c44,onAnimate:function(v){_c40.style[_c41._progressPixelSize]=(100-parseFloat(v[_c41._progressPixelSize]))+"%";},onEnd:function(){delete _c41._inProgressAnim;},properties:_c42});this._inProgressAnim.play();}else{_c3f.style[this._progressPixelSize]=(_c3e*100)+"%";_c40.style[this._progressPixelSize]=((1-_c3e)*100)+"%";}},_bumpValue:function(_c45,_c46){if(this.disabled||this.readOnly){return;}var s=_c22.getComputedStyle(this.sliderBarContainer);var c=_c21.getContentBox(this.sliderBarContainer,s);var _c47=this.discreteValues;if(_c47<=1||_c47==Infinity){_c47=c[this._pixelCount];}_c47--;var _c48=(this.value-this.minimum)*_c47/(this.maximum-this.minimum)+_c45;if(_c48<0){_c48=0;}if(_c48>_c47){_c48=_c47;}_c48=_c48*(this.maximum-this.minimum)/_c47+this.minimum;this._setValueAttr(_c48,_c46);},_onClkBumper:function(val){if(this.disabled||this.readOnly||!this.clickSelect){return;}this._setValueAttr(val,true);},_onClkIncBumper:function(){this._onClkBumper(this._descending===false?this.minimum:this.maximum);},_onClkDecBumper:function(){this._onClkBumper(this._descending===false?this.maximum:this.minimum);},decrement:function(e){this._bumpValue(e.charOrCode==keys.PAGE_DOWN?-this.pageIncrement:-1);},increment:function(e){this._bumpValue(e.charOrCode==keys.PAGE_UP?this.pageIncrement:1);},_mouseWheeled:function(evt){_c20.stop(evt);this._bumpValue(evt.wheelDelta<0?-1:1,true);},startup:function(){if(this._started){return;}_c1e.forEach(this.getChildren(),function(_c49){if(this[_c49.container]!=this.containerNode){this[_c49.container].appendChild(_c49.domNode);}},this);this.inherited(arguments);},_typematicCallback:function(_c4a,_c4b,e){if(_c4a==-1){this._setValueAttr(this.value,true);}else{this[(_c4b==(this._descending?this.incrementButton:this.decrementButton))?"decrement":"increment"](e);}},buildRendering:function(){this.inherited(arguments);if(this.showButtons){this.incrementButton.style.display="";this.decrementButton.style.display="";}var _c4c=_c25("label[for=\""+this.id+"\"]");if(_c4c.length){if(!_c4c[0].id){_c4c[0].id=this.id+"_label";}this.focusNode.setAttribute("aria-labelledby",_c4c[0].id);}this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum);},postCreate:function(){this.inherited(arguments);if(this.showButtons){this.own(_c29.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),_c29.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));}this.connect(this.domNode,_c26.wheel,"_mouseWheeled");var _c4d=_c1f(_c2e,{widget:this});this._movable=new _c23(this.sliderHandle,{mover:_c4d});this._layoutHackIE7();},destroy:function(){this._movable.destroy();if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}this.inherited(arguments);}});_c33._Mover=_c2e;return _c33;});},"dojox/layout/ResizeHandle":function(){define("dojox/layout/ResizeHandle",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/connect","dojo/_base/array","dojo/_base/event","dojo/_base/fx","dojo/_base/window","dojo/fx","dojo/window","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dijit/_base/manager","dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_c4e,lang,_c4f,_c50,_c51,_c52,_c53,_c54,_c55,_c56,_c57,_c58,_c59,_c5a,_c5b,_c5c,_c5d){_c4e.experimental("dojox.layout.ResizeHandle");var _c5e=_c5d("dojox.layout.ResizeHandle",[_c5b,_c5c],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:false,activeResizeClass:"dojoxResizeHandleClone",animateSizing:true,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,constrainMax:false,maxHeight:0,maxWidth:0,fixedAspect:false,intermediateChanges:false,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:"<div dojoAttachPoint=\"resizeHandle\" class=\"dojoxResizeHandle\"><div></div></div>",postCreate:function(){this.connect(this.resizeHandle,"onmousedown","_beginSizing");if(!this.activeResize){this._resizeHelper=_c5a.byId("dojoxGlobalResizeHelper");if(!this._resizeHelper){this._resizeHelper=new _c5f({id:"dojoxGlobalResizeHelper"}).placeAt(_c53.body());_c57.add(this._resizeHelper.domNode,this.activeResizeClass);}}else{this.animateSizing=false;}if(!this.minSize){this.minSize={w:this.minWidth,h:this.minHeight};}if(this.constrainMax){this.maxSize={w:this.maxWidth,h:this.maxHeight};}this._resizeX=this._resizeY=false;var _c60=lang.partial(_c57.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=true;_c60("dojoxResizeNW");break;case "x":this._resizeX=true;_c60("dojoxResizeW");break;case "y":this._resizeY=true;_c60("dojoxResizeN");break;}},_beginSizing:function(e){if(this._isSizing){return;}_c4f.publish(this.startTopic,[this]);this.targetWidget=_c5a.byId(this.targetId);this.targetDomNode=this.targetWidget?this.targetWidget.domNode:_c56.byId(this.targetId);if(this.targetContainer){this.targetDomNode=this.targetContainer;}if(!this.targetDomNode){return;}if(!this.activeResize){var c=_c58.position(this.targetDomNode,true);this._resizeHelper.resize({l:c.x,t:c.y,w:c.w,h:c.h});this._resizeHelper.show();if(!this.isLeftToRight()){this._resizeHelper.startPosition={l:c.x,t:c.y};}}this._isSizing=true;this.startPoint={x:e.clientX,y:e.clientY};var _c61=_c59.getComputedStyle(this.targetDomNode),_c62=_c58.boxModel==="border-model",_c63=_c62?{w:0,h:0}:_c58.getPadBorderExtents(this.targetDomNode,_c61),_c64=_c58.getMarginExtents(this.targetDomNode,_c61),mb;mb=this.startSize={w:_c59.get(this.targetDomNode,"width",_c61),h:_c59.get(this.targetDomNode,"height",_c61),pbw:_c63.w,pbh:_c63.h,mw:_c64.w,mh:_c64.h};if(!this.isLeftToRight()&&dojo.style(this.targetDomNode,"position")=="absolute"){var p=_c58.position(this.targetDomNode,true);this.startPosition={l:p.x,t:p.y};}this._pconnects=[_c4f.connect(_c53.doc,"onmousemove",this,"_updateSizing"),_c4f.connect(_c53.doc,"onmouseup",this,"_endSizing")];_c51.stop(e);},_updateSizing:function(e){if(this.activeResize){this._changeSizing(e);}else{var tmp=this._getNewCoords(e,"border",this._resizeHelper.startPosition);if(tmp===false){return;}this._resizeHelper.resize(tmp);}e.preventDefault();},_getNewCoords:function(e,box,_c65){try{if(!e.clientX||!e.clientY){return false;}}catch(e){return false;}this._activeResizeLastEvent=e;var dx=(this.isLeftToRight()?1:-1)*(this.startPoint.x-e.clientX),dy=this.startPoint.y-e.clientY,newW=this.startSize.w-(this._resizeX?dx:0),newH=this.startSize.h-(this._resizeY?dy:0),r=this._checkConstraints(newW,newH);_c65=(_c65||this.startPosition);if(_c65&&this._resizeX){r.l=_c65.l+dx;if(r.w!=newW){r.l+=(newW-r.w);}r.t=_c65.t;}switch(box){case "margin":r.w+=this.startSize.mw;r.h+=this.startSize.mh;case "border":r.w+=this.startSize.pbw;r.h+=this.startSize.pbh;break;}return r;},_checkConstraints:function(newW,newH){if(this.minSize){var tm=this.minSize;if(newW<tm.w){newW=tm.w;}if(newH<tm.h){newH=tm.h;}}if(this.constrainMax&&this.maxSize){var ms=this.maxSize;if(newW>ms.w){newW=ms.w;}if(newH>ms.h){newH=ms.h;}}if(this.fixedAspect){var w=this.startSize.w,h=this.startSize.h,_c66=w*newH-h*newW;if(_c66<0){newW=newH*w/h;}else{if(_c66>0){newH=newW*h/w;}}}return {w:newW,h:newH};},_changeSizing:function(e){var _c67=this.targetWidget&&lang.isFunction(this.targetWidget.resize),tmp=this._getNewCoords(e,_c67&&"margin");if(tmp===false){return;}if(_c67){this.targetWidget.resize(tmp);}else{if(this.animateSizing){var anim=_c54[this.animateMethod]([_c52.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:tmp.w}},duration:this.animateDuration}),_c52.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:tmp.h}},duration:this.animateDuration})]);anim.play();}else{_c59.set(this.targetDomNode,{width:tmp.w+"px",height:tmp.h+"px"});}}if(this.intermediateChanges){this.onResize(e);}},_endSizing:function(e){_c50.forEach(this._pconnects,_c4f.disconnect);var pub=lang.partial(_c4f.publish,this.endTopic,[this]);if(!this.activeResize){this._resizeHelper.hide();this._changeSizing(e);setTimeout(pub,this.animateDuration+15);}else{pub();}this._isSizing=false;this.onResize(e);},onResize:function(e){}});var _c5f=dojo.declare("dojox.layout._ResizeHelper",_c5b,{show:function(){_c59.set(this.domNode,"display","");},hide:function(){_c59.set(this.domNode,"display","none");},resize:function(dim){_c58.setMarginBox(this.domNode,dim);}});return _c5e;});},"dijit/Tree":function(){require({cache:{"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n"}});define("dijit/Tree",["dojo/_base/array","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/DeferredList","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/errors/create","dojo/fx","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector"],function(_c68,_c69,_c6a,_c6b,_c6c,_c6d,dom,_c6e,_c6f,_c70,_c71,_c72,_c73,_c74,keys,lang,on,_c75,_c76,when,_c77,_c78,_c79,_c7a,_c7b,_c7c,_c7d,_c7e,_c7f,_c80,_c81,_c82,_c83){_c6c=_c6b(_c6c,{addCallback:function(_c84){this.then(_c84);},addErrback:function(_c85){this.then(null,_c85);}});var _c86=_c6b("dijit._TreeNode",[_c7a,_c7b,_c7c,_c7d,_c7e],{item:null,isTreeNode:true,label:"",_setLabelAttr:{node:"labelNode",type:"innerText"},isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:_c7f,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_c87){var _c88=(Math.max(_c87,0)*this.tree._nodePixelIndent)+"px";_c70.set(this.domNode,"backgroundPosition",_c88+" 0px");_c70.set(this.indentNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_c88);_c68.forEach(this.getChildren(),function(_c89){_c89.set("indent",_c87+1);});this._set("indent",_c87);},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_c8a=tree.model;if(tree._v10Compat&&item===_c8a.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");this.tree._startPaint(true);},_applyClassAndStyle:function(item,_c8b,_c8c){var _c8d="_"+_c8b+"Class";var _c8e=_c8b+"Node";var _c8f=this[_c8d];this[_c8d]=this.tree["get"+_c8c+"Class"](item,this.isExpanded);_c6e.replace(this[_c8e],this[_c8d]||"",_c8f||"");_c70.set(this[_c8e],this.tree["get"+_c8c+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _c90=this.getParent();if(!_c90||!_c90.rowNode||_c90.rowNode.style.display=="none"){_c6e.add(this.domNode,"dijitTreeIsRoot");}else{_c6e.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_c91){var _c92=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_c93=["*","-","+","*"],idx=_c91?0:(this.isExpandable?(this.isExpanded?1:2):3);_c6e.replace(this.expandoNode,_c92[idx],_c92);this.expandoNodeText.innerHTML=_c93[idx];},expand:function(){if(this._expandDeferred){return this._expandDeferred;}if(this._collapseDeferred){this._collapseDeferred.cancel();delete this._collapseDeferred;}this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_c6e.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","true");}var def,_c94=_c73.wipeIn({node:this.containerNode,duration:_c79.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._expandDeferred=new _c6c(function(){_c94.stop();}));_c94.play();return def;},collapse:function(){if(this._collapseDeferred){return this._collapseDeferred;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","false");}_c6e.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var def,_c95=_c73.wipeOut({node:this.containerNode,duration:_c79.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._collapseDeferred=new _c6c(function(){_c95.stop();}));_c95.play();return def;},indent:0,setChildItems:function(_c96){var tree=this.tree,_c97=tree.model,defs=[];var _c98=this.getChildren();_c68.forEach(_c98,function(_c99){_c7c.prototype.removeChild.call(this,_c99);},this);this.defer(function(){_c68.forEach(_c98,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);var id=_c97.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _c9a=_c68.indexOf(ary,node);if(_c9a!=-1){ary.splice(_c9a,1);}}node.destroyRecursive();}});});this.state="LOADED";if(_c96&&_c96.length>0){this.isExpandable=true;_c68.forEach(_c96,function(item){var id=_c97.getIdentity(item),_c9b=tree._itemNodesMap[id],node;if(_c9b){for(var i=0;i<_c9b.length;i++){if(_c9b[i]&&!_c9b[i].getParent()){node=_c9b[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_c97.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_c9b){_c9b.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_c68.forEach(this.getChildren(),function(_c9c){_c9c._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}var def=new _c6d(defs);this.tree._startPaint(def);return def;},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _c9d=this.getChildren();if(_c9d.length==0){this.isExpandable=false;this.collapse();}_c68.forEach(_c9d,function(_c9e){_c9e._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},setSelected:function(_c9f){this.labelNode.setAttribute("aria-selected",_c9f?"true":"false");_c6e.toggle(this.rowNode,"dijitTreeRowSelected",_c9f);},setFocusable:function(_ca0){this.labelNode.setAttribute("tabIndex",_ca0?"0":"-1");},_setTextDirAttr:function(_ca1){if(_ca1&&((this.textDir!=_ca1)||!this._created)){this._set("textDir",_ca1);this.applyTextDir(this.labelNode,this.labelNode.innerText||this.labelNode.textContent||"");_c68.forEach(this.getChildren(),function(_ca2){_ca2.set("textDir",_ca1);},this);}}});var Tree=_c6b("dijit.Tree",[_c7a,_c7b],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_c80,persist:true,autoExpand:false,dndController:_c83,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_ca3,_ca4){_c75.publish(this.id,lang.mixin({tree:this,event:_ca3},_ca4||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this.expandChildrenDeferred=new _c6c();this.pendingCommandsDeferred=this.expandChildrenDeferred;this.inherited(arguments);},postCreate:function(){this._initState();var self=this;this.own(on(this.domNode,on.selector(".dijitTreeNode",_c76.enter),function(evt){self._onNodeMouseEnter(_c78.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode",_c76.leave),function(evt){self._onNodeMouseLeave(_c78.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","click"),function(evt){self._onClick(_c78.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","dblclick"),function(evt){self._onDblClick(_c78.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keypress"),function(evt){self._onKeyPress(_c78.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keydown"),function(evt){self._onKeyDown(_c78.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","focusin"),function(evt){self._onNodeFocus(_c78.getEnclosingWidget(this),evt);}));if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this.inherited(arguments);if(this.dndController){if(lang.isString(this.dndController)){this.dndController=lang.getObject(this.dndController);}var _ca5={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_ca5[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_ca5);}this._load();if(!this.params.path&&!this.params.paths&&this.persist){this.set("paths",this.dndController._getSavedPaths());}this.onLoadDeferred=this.pendingCommandsDeferred;this.onLoadDeferred.then(lang.hitch(this,"onLoad"));},_store2model:function(){this._v10Compat=true;_c74.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _ca6={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_ca6.mayHaveChildren=lang.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_ca6.getChildren=lang.hitch(this,function(item,_ca7,_ca8){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_ca7,_ca8);});}this.model=new _c82(_ca6);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");this.domNode.removeAttribute("aria-expanded");this.domNode.removeAttribute("aria-multiselectable");rn.labelNode.setAttribute("role","presentation");rn.containerNode.setAttribute("role","tree");rn.containerNode.setAttribute("aria-expanded","true");rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);}else{this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);}this.domNode.appendChild(rn.domNode);var _ca9=this.model.getIdentity(item);if(this._itemNodesMap[_ca9]){this._itemNodesMap[_ca9].push(rn);}else{this._itemNodesMap[_ca9]=[rn];}rn._updateLayout();this._expandNode(rn).then(lang.hitch(this,function(){this.expandChildrenDeferred.resolve(true);}));}),lang.hitch(this,function(err){}));},getNodesByItem:function(item){if(!item){return [];}var _caa=lang.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_caa]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(_cab){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(lang.hitch(this,function(){var _cac=_c68.map(_cab,function(item){return (!item||lang.isString(item))?item:tree.model.getIdentity(item);});var _cad=[];_c68.forEach(_cac,function(id){_cad=_cad.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_cad);}));},_setPathAttr:function(path){if(path.length){return this.set("paths",[path]);}else{return this.set("paths",[]);}},_setPathsAttr:function(_cae){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(function(){return new _c6d(_c68.map(_cae,function(path){var d=new _c6c();path=_c68.map(path,function(item){return lang.isString(item)?item:tree.model.getIdentity(item);});if(path.length){_caf(path,[tree.rootNode],d);}else{d.reject(new Tree.PathError("Empty path"));}return d;}));}).then(_cb0);function _caf(path,_cb1,def){var _cb2=path.shift();var _cb3=_c68.filter(_cb1,function(node){return node.getIdentity()==_cb2;})[0];if(!!_cb3){if(path.length){tree._expandNode(_cb3).then(function(){_caf(path,_cb3.getChildren(),def);});}else{def.resolve(_cb3);}}else{def.reject(new Tree.PathError("Could not expand path at "+_cb2));}};function _cb0(_cb4){tree.set("selectedNodes",_c68.map(_c68.filter(_cb4,function(x){return x[0];}),function(x){return x[1];}));};},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(_cb5){this.dndController.setSelection(_cb5);},expandAll:function(){var _cb6=this;function _cb7(node){var def=new dojo.Deferred();_cb6._expandNode(node).then(function(){var _cb8=_c68.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_c68.map(_cb8,_cb7);new dojo.DeferredList(defs).then(function(){def.resolve(true);});});return def;};return _cb7(this.rootNode);},collapseAll:function(){var _cb9=this;function _cba(node){var def=new dojo.Deferred();def.label="collapseAllDeferred";var _cbb=_c68.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_c68.map(_cbb,_cba);new dojo.DeferredList(defs).then(function(){if(!node.isExpanded||(node==_cb9.rootNode&&!_cb9.showRoot)){def.resolve(true);}else{_cb9._collapseNode(node).then(function(){def.resolve(true);});}});return def;};return _cba(this.rootNode);},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_cbc){return (!item||this.model.mayHaveChildren(item))?(_cbc?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return "";},_onKeyPress:function(_cbd,e){if(e.charCode<=32){return;}if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){var c=String.fromCharCode(e.charCode);this._onLetterKeyNav({node:_cbd,key:c.toLowerCase()});_c71.stop(e);}},_onKeyDown:function(_cbe,e){var key=e.keyCode;var map=this._keyHandlerMap;if(!map){map={};map[keys.ENTER]=map[keys.SPACE]=map[" "]="_onEnterKey";map[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]="_onRightArrow";map[keys.UP_ARROW]="_onUpArrow";map[keys.DOWN_ARROW]="_onDownArrow";map[keys.HOME]="_onHomeKey";map[keys.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}this[this._keyHandlerMap[key]]({node:_cbe,item:_cbe.item,evt:e});_c71.stop(e);}},_onEnterKey:function(_cbf){this._publish("execute",{item:_cbf.item,node:_cbf.node});this.dndController.userSelect(_cbf.node,_c69.isCopyKey(_cbf.evt),_cbf.evt.shiftKey);this.onClick(_cbf.item,_cbf.node,_cbf.evt);},_onDownArrow:function(_cc0){var node=this._getNextNode(_cc0.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_cc1){var node=_cc1.node;var _cc2=node.getPreviousSibling();if(_cc2){node=_cc2;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _cc3=node.getChildren();node=_cc3[_cc3.length-1];}}else{var _cc4=node.getParent();if(!(!this.showRoot&&_cc4===this.rootNode)){node=_cc4;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_cc5){var node=_cc5.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_cc6){var node=_cc6.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _cc7=node.getParent();if(_cc7&&_cc7.isTreeNode&&!(!this.showRoot&&_cc7===this.rootNode)){this.focusNode(_cc7);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},multiCharSearchDuration:250,_onLetterKeyNav:function(_cc8){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_cc8.key;cs.timer.remove();}else{cs=this._curSearch={pattern:_cc8.key,startNode:_cc8.node};}cs.timer=this.defer(function(){delete this._curSearch;},this.multiCharSearchDuration);var node=cs.startNode;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(node&&node.isTreeNode){if(node!==cs.startNode){this.focusNode(node);}}},isExpandoNode:function(node,_cc9){return dom.isDescendant(node,_cc9.expandoNode)||dom.isDescendant(node,_cc9.expandoNodeText);},_onClick:function(_cca,e){var _ccb=e.target,_ccc=this.isExpandoNode(_ccb,_cca);if((this.openOnClick&&_cca.isExpandable)||_ccc){if(_cca.isExpandable){this._onExpandoClick({node:_cca});}}else{this._publish("execute",{item:_cca.item,node:_cca,evt:e});this.onClick(_cca.item,_cca,e);this.focusNode(_cca);}_c71.stop(e);},_onDblClick:function(_ccd,e){var _cce=e.target,_ccf=(_cce==_ccd.expandoNode||_cce==_ccd.expandoNodeText);if((this.openOnDblClick&&_ccd.isExpandable)||_ccf){if(_ccd.isExpandable){this._onExpandoClick({node:_ccd});}}else{this._publish("execute",{item:_ccd.item,node:_ccd,evt:e});this.onDblClick(_ccd.item,_ccd,e);this.focusNode(_ccd);}_c71.stop(e);},_onExpandoClick:function(_cd0){var node=_cd0.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _cd1=node.getNextSibling();if(_cd1){return _cd1;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.state=="LOADING"){return;}if(node.isExpanded){var ret=node.collapse();this.onClose(node.item,node);this._state(node,false);this._startPaint(ret);return ret;}},_expandNode:function(node){var def=new _c6c();if(node._expandNodeDeferred){return node._expandNodeDeferred;}var _cd2=this.model,item=node.item,_cd3=this;if(!node._loadDeferred){node.markProcessing();node._loadDeferred=new _c6c();_cd2.getChildren(item,function(_cd4){node.unmarkProcessing();node.setChildItems(_cd4).then(function(){node._loadDeferred.resolve(_cd4);});},function(err){node._loadDeferred.reject(err);});}node._loadDeferred.then(lang.hitch(this,function(){node.expand().then(function(){def.resolve(true);});this.onOpen(node.item,node);this._state(node,true);}));this._startPaint(def);return def;},focusNode:function(node){_c77.focus(node.labelNode);},_onNodeFocus:function(node){if(node&&node!=this.lastFocused){if(this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setFocusable(false);}node.setFocusable(true);this.lastFocused=node;}},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(item){var _cd5=this.model,_cd6=_cd5.getIdentity(item),_cd7=this._itemNodesMap[_cd6];if(_cd7){var _cd8=this.getLabel(item),_cd9=this.getTooltip(item);_c68.forEach(_cd7,function(node){node.set({item:item,label:_cd8,tooltip:_cd9});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_cda,_cdb){var _cdc=this.model,_cdd=_cdc.getIdentity(_cda),_cde=this._itemNodesMap[_cdd];if(_cde){_c68.forEach(_cde,function(_cdf){_cdf.setChildItems(_cdb);});}},_onItemDelete:function(item){var _ce0=this.model,_ce1=_ce0.getIdentity(item),_ce2=this._itemNodesMap[_ce1];if(_ce2){_c68.forEach(_ce2,function(node){this.dndController.removeTreeNode(node);var _ce3=node.getParent();if(_ce3){_ce3.removeChild(node);}node.destroyRecursive();},this);delete this._itemNodesMap[_ce1];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_c6a(this.cookieName);if(oreo){_c68.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_ce4){if(!this.persist){return false;}var path=_c68.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_ce4){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}if(this.persist&&this.cookieName){var ary=[];for(var id in this._openedNodes){ary.push(id);}_c6a(this.cookieName,ary.join(","),{expires:365});}}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!lang.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_ce5){if(_ce5){_c6f.setMarginBox(this.domNode,_ce5);}this._nodePixelIndent=_c6f.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(lang.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths();}));},_outstandingPaintOperations:0,_startPaint:function(p){this._outstandingPaintOperations++;if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var oc=lang.hitch(this,function(){this._outstandingPaintOperations--;if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){this._adjustWidthsTimer=this.defer("_adjustWidths");}});when(p,oc,oc);},_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var _ce6=0,_ce7=[];function _ce8(_ce9){var node=_ce9.rowNode;node.style.width="auto";_ce6=Math.max(_ce6,node.clientWidth);_ce7.push(node);if(_ce9.isExpanded){_c68.forEach(_ce9.getChildren(),_ce8);}};_ce8(this.rootNode);_ce6=Math.max(_ce6,_c6f.getContentBox(this.domNode).w);_c68.forEach(_ce7,function(node){node.style.width=_ce6+"px";});},_createTreeNode:function(args){return new _c86(args);},_setTextDirAttr:function(_cea){if(_cea&&this.textDir!=_cea){this._set("textDir",_cea);this.rootNode.set("textDir",_cea);}}});Tree.PathError=_c72("TreePathError");Tree._TreeNode=_c86;return Tree;});},"esriviewer/loader/ViewerLoader":function(){require({cache:{"url:esriviewer/theme/coreTheme.css":".esriAttributionLastItem{display:none !important;}html{height:100%;width:100%;}body{margin:0 auto;padding:0;height:100%;width:100%;overflow:hidden;}.mapdiv{overflow:hidden;background-color:ghostwhite;}.confirmTooltipOptionText{color:Blue;margin:0 5px;text-decoration:underline;cursor:pointer;}.confirmTooltipContentLbl{color:#3F3F3F;}.tundra .dijitAccordionTitleSelected, .tundra .dijitAccordionTitle, .windowHeader, .windowHeaderCollapsed{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAABLCAYAAAC1Iz2+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAKBJREFUOE+Nx7cNw0AAQ1HuP6ByzlkNBzBcsDjINFR8gg/3fVMhwHVdVPA4z5MKHsdxUOEn9n0nvqP+YNs2Knis60oFj2VZqOAxzzMVAkzTRAWPcRyp8BLDMFAhQN/3VPDouo4KHm3bUsGjaRoqeNR1TQWPqqqo4FGWJRU8iqKggkee51TwyLKMCgHSNKXCSyRJQgWPOI6p8EAURfwGnQc+9GsrqAtrB/gAAAAASUVORK5CYII=);}.headerFooterBg{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAqCAIAAAD9HKYrAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTFH80I3AAAAYUlEQVQYV5XOxwkAIQAF0d9/L9akYgIDBkTEgCt2sId3HQaEEJxzftt7Y62FOSfGGOi9o7X21FpRSkHOGSklxBgRQoD3Hs45WGthjHm01lBKQUoJIcTDOQdjDJRS1Nu5jx+fU3YLdBuw0QAAAABJRU5ErkJggg==);}.defaultTransparentBackground{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAABHCAYAAAAgPea8AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwAAADsABataJCQAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAAIklEQVQ4T2P4/PnzB2TMMCowGh6IJDGaHEazB1IJMViSAwDPQTM5L90PTQAAAABJRU5ErkJggg==);}.defaultBackground{background:#F7F7F7;}.blueBoxShadow{-moz-box-shadow:2px 5px 5px #E8F3FF;-webkit-box-shadow:2px 5px 5px #E8F3FF;box-shadow:2px 5px 5px #E8F3FF;}.defaultBoxShadow{-webkit-box-shadow:0 6px 10px rgba(0, 0, 0, 0.4);-moz-box-shadow:0 6px 10px rgba(0, 0, 0, 0.4);box-shadow:0 6px 10px rgba(0, 0, 0, 0.4);}.threePixelBorderRadius{-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px;border-radius:3px 3px 3px 3px;}.fourPixelBorderRadius{-moz-border-radius:4px 4px 4px 4px;-webkit-border-radius:4px 4px 4px 4px;border-radius:4px 4px 4px 4px;}.fivePixelBorderRadius{-moz-border-radius:5px 5px 5px 5px;-webkit-border-radius:5px 5px 5px 5px;border-radius:5px 5px 5px 5px;}.defaultBorder{border:1px solid #D3D3D3;}.defaultTwoPixelBorder{border:2px solid #777;}.defaultTextColor{color:#777;}.defaultFont{font-family:helvetica, sans-serif;}.defaultFontSize{font-size:.8em;}.defaultTabContainer{line-height:23px;margin-bottom:15px;font-size:9pt;}.defaultTabContainer span{border:1px solid #DFDFDF;border-top:0;cursor:pointer;padding:5px;margin:0 3px;-moz-border-radius:0 0 3px 3px;-webkit-border-radius:0 0 3px 3px;border-radius:0 0 3px 3px;}.selectedTab{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAyCAIAAAASmSbdAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAL1JREFUGFcNw4lSAXEAwOHfo5VJMbmahElohKZkKpniRSp0kbtTpXQ8k3Zdu3bt8v9mPnJ/M7K/M85+TE6/TTJdk5OuQfrL4PjT4Kgz5VBMfUw5eNdJvunst3X22hq7rxqJF43484SYuPM0Ifqosv2gEmmphFsKoabCVkMhWB+zKQZqY/zVEb7KiA3Rez9kvTxkrTTAI7rvBrhu+zhv+jjE1WsZ+5WMrSizUpRYLkhY8xJLl/9YxMWLHgvnvTkWQmMz2A2w4gAAAABJRU5ErkJggg==);color:white;}.noTopPadding{padding-top:0;}.viewerList{list-style-type:none;margin:0;padding:0;}.viewerList li{border:1px solid #9AAEC5;padding:3px;margin:5px 0;background:#FAFAFA;}.viewerListEntryRemoveIcon{margin-right:8px;vertical-align:bottom;float:left;}.viewerListGenericIcon{margin-right:8px;vertical-align:bottom;float:left;}.userLocationCrosshairContainer{position:absolute;z-index:4;}.tundra .dijitSliderFocused{border-color:#767676 !important;}.tundra .dijitSliderProgressBarV{background:#767676;border-color:#767676;}.tundra .dijitSplitterV, .tundra .dijitGutterV{background:none;}.dijitSliderBar{border-style:solid;border-color:black;cursor:pointer;}.dijitSliderBarContainerV{position:relative;height:100%;z-index:1;}.dijitSliderBarV{width:2px;border-width:0 1px;}.dijitSliderBumperV{width:2px;height:5px;border-width:0 1px;}.dijitSliderProgressBar{background-color:red;z-index:1;}*:focus{outline:none;}.tundra .dijitButton .dijitButtonNode, .tundra .dijitDropDownButton .dijitButtonNode, .tundra .dijitComboButton .dijitButtonNode, .tundra .dijitToggleButton .dijitButtonNode{color:#666666;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAdCAIAAADkY5E+AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAATUlEQVQYVx2Ntw0AMADC/P+vidJ7ExlYEDbsvVlrMedkjEFrjVorpRRyzsQYCSHgvcc5h7UWY8zvU0p/o60YRXzv/bvkVOTXzzmHe+8D+WJUATkGV+sAAAAASUVORK5CYII=);padding:3px 5px;}.tundra .dijitButtonHover .dijitButtonNode,.tundra .dijitDropDownButtonHover .dijitButtonNode,.tundra .dijitComboButton .dijitButtonNodeHover,.tundra .dijitComboButton .dijitDownArrowButtonHover,.tundra .dijitToggleButtonHover .dijitButtonNode{color:#0026FF;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAdCAIAAADkY5E+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAE5JREFUGFcdjTcOADEAwvz/vyZK7+WODCwIG+69nHPYe7PWYs75Msag905rjVrrSymFnDMpJWKMGGOw1uKcw3tPCOH12mgrRrxccsr//3wZsVQBIQOEBQAAAABJRU5ErkJggg==);padding:3px 5px;}.tundra .dijitMenu, .tundra .dijitMenuBar{color:#666666;margin-top:5px;-moz-border-radius:5px 5px 5px 5px;-webkit-border-radius:5px 5px 5px 5px;border-radius:5px 5px 5px 5px;-webkit-box-shadow:0 1px 3px rgba(0, 0, 0, .3);-moz-box-shadow:0 1px 3px rgba(0, 0, 0, .3);box-shadow:0 1px 3px rgba(0, 0, 0, .3);border:0;padding:0 5px;}.tundra .dijitMenuItem .dijitMenuItemIconCell{padding-top:0;}.tundra .dijitTreeNodeHover, .tundra .dijitTreeLabelFocused{background:transparent none !important;}.tundra .dijitTreeLabel, .tundra .dijitTreeRow, .tundra .dijitTreeIcon, .tundra .dijitTreeExpando{cursor:pointer;}.esriOverviewMap.ovwBR .ovwContainer{border:1px solid #D3D3D3;}.esriOverviewMap .ovwContainer{background:#F7F7F7;}.tundra .dijitTooltipContainer{-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px;border-radius:3px 3px 3px 3px;}button:hover{color:blue;}.dijitTextBox input{color:black;}.dijitPlaceHolder{font-style:normal;}.tundra .dijitButtonText{color:#666666 !important;}.esriSimpleSliderTL{top:135px !important;}.esriLargeSliderTL{left:10px;top:120px;}.smallWindowHeaderContainer{position:absolute;left:5px;top:46px;z-index:2;border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px;-moz-border-radius:3px 3px 3px 3px;background:#EFEFEF;padding:5px}.smallWindowHeaderContainer span{vertical-align:12px;margin-left:5px;font-size:1em;letter-spacing:2px;}.logoHeaderContainer{padding:10px;width:250px;font-size:13pt;position:absolute;top:50px;left:10px;vertical-align:top;height:60px;font-weight:bold;z-index:10;}.logolinks{padding-top:15px;font-size:12px;position:absolute;bottom:10px;right:10px;font-weight:normal;}.logolinks a{text-decoration:none;color:black;}.logolinks a:hover{text-decoration:none;color:blue;}.headerLogoLinksSpace{margin:0 5px;}.headerLogoIcon{margin-right:40px;}.headerMainText{position:absolute;right:20%;}.footerWidget{position:absolute;bottom:0;width:100%;background:white;z-index:30;height:24px;}.footerTogglerArrow{left:47.5%;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAyCAYAAAAayliMAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAkJJREFUaEPtmr9uwkAMxkFdOnSgD4DEyMgjMHbs2LEvWanvwkB3QHmE1B86S9H1/tg+Hy1VkKII4tjfz77kwjmLcRwXpc8wDJuiQeeDx+PxoRiiBtBZX7v7GaA9h20eLBWg62LZFvXn2efz+f1wOKzVfjUAFGBJ2zNtxDDs1MEyJwTxI/n9QAyVXynA5XJ5IecI8hn2I0HsVcESxhPx8D3Q9kV+n8R+pQBwCMEsnven0+lVHCwyjMQDAElZqfxpAALELoaAEFVQMnYRj6BagACxiSHwXQrhJt4KECBWFghX8S0AOJem+ccUBH5PVcNdfCtACSK+GLuI9wDgTKcqwRDdxHsCwFcKogQmveiLdpa7UM5h7pqYQqjv8zVKTwDESg2Xycytm6Rq4r2HEMej2XkbDx33zHMw7wpMkwYIeoZ6kyTSbNMTwCxKc+IMoMlWD9u5Aj2yqvF59xXQwP4127tP/gzw20NqrsC/rwAe5DSrFdqEdBtCeHROLIBttQJr9l0AUuIZxrIAVoJwByiJZ4jckkst26njrgAS8QxhEdsVICWeh0sOzAPCpQIl8SwyB9E6nJoBJOIZQrsMKalQE4BGfPxH32vFwgxgFc8gmdW6jSTrUxsTQKt4FpBZL91pINQAXuJZJNpTieG0l0KoANB4QwMuNOKu/SyPmTXqu10biGgoSiBUAHBIztFmRSvURfzkNou+GzqUaOGK26xqgACx9sh8nGFL89wEICntrWxmgFtlOhenWoHqy0adCWovWwHgG+5ydf2pNh9kAAAAAElFTkSuQmCC);height:25px;width:48px;}.footerTogglerArrow.footerTogglerUp{background-position:0 -26px;}.footerTogglerArrow.footerTogglerDown{background-position:0 0;}.footerExpanderContent{width:100%;cursor:pointer;border-top:1px solid #CCCCCC;border-bottom:1px solid #CCCCCC;height:24px;}.footerExpanded{height:auto;}.footerCollapsed{height:24px;}.windowContainer{z-index:30;position:absolute;background:white;}.windowLoadingThrobber{background:url(data:image/gif;base64,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);margin:auto;text-align:center;width:128px;height:15px;margin-top:20px;}.windowHidden{left:-5000px !important;}.windowContent{position:relative;padding:10px;height:100%;}.windowActions div{float:left;margin:0 3px;}.windowActions{height:22px;border-bottom:1px solid #D3D3D3;}.windowContentOuter{height:94%;}.windowMinimizeImg, .windowCloseImg{cursor:pointer;float:right;margin-right:3px;margin-top:4px;border:1px solid #ADADAD;-moz-border-radius:2px 2px 2px 2px;-webkit-border-radius:2px 2px 2px 2px;border-radius:2px 2px 2px 2px;}.windowHeaderCollapsed, .windowHeader{width:100%;cursor:move;}.windowAction{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAYCAYAAADOMhxqAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAHRJREFUOE9jYKArKCsr+49uITYxsBqQBAzDNGETQzEQWQFBxdhMxekcZGvQbcEbiCQ5iWxPEx2sdI1wGlr2+/dvRqKNJ0kxzFR0TQQNISmm0ZM4UakV5AQQ/vDhA+Pnz58Zf/z4wUJ0IBClEGi6FFEKaaoIAPAGj38jTsg8AAAAAElFTkSuQmCC);height:12px;width:12px;cursor:pointer;}.windowAction.minimize{background-position:0 -12px;}.windowAction.close{background-position:0 0;}.windowHeaderCollapsed, .windowHeader{height:22px;}.windowHeader .windowHeaderText, .windowHeaderCollapsed .windowHeaderText{position:relative;top:3px;}.windowIcon{float:left;margin:2px 5px 0;}.headerMoverContainer{width:85%;}.searchButtonIcon{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAMAAACO0hVbAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURS9dky9gljBkmjFonjJsozZsoDJxpzN1rDR5sDV9tDl9sktxn0dwoEdyokZ3qEh2pUl9rVh/qjWAtzaDujuHvViCrl2Bq1aGs1mGsV6Js2CTvmKZxGKgy3qgw3yu0oKoyYSx0pGuy5W20pu10Ju61J3B253E3sTQ3+Lr8uLr8+Pt9OPt9ebr8uXs8ubs8+Xv9vDz9/D09/D0+Pz9/f7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMhRVgQAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjVJivzgAAAAk0lEQVQoU2MwxQQMJIrpq8mIyKjpg3VB9erLCYOAHFgQKqYqpKBtoq0gpIokJs2pBeRpcUojiXFxmAB5JhxcSGJS7JpAnia7FJKYEpu8homGPJsKQsxIXIAFBGT14GJGEsx8ipKsksq6cPcZijLxgxVAAdB9BoKMvBAFcDFjMQYeHZSQAKpT50YVAvvNGC28sIUfAJD/Pb1DSSikAAAAAElFTkSuQmCC);border-left:0 !important;}.configureButtonIcon{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAIAAAA2bnI+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAhJJREFUOE+dkttz0kAUxvsvd7zb2oo4QxltlYGqpbYKlAKl4dJpAuRCAiFyCc0FSAKENqHKCw/ywAAPDKOLqZRonM6Yp82e/e33fefsyo///VYswdF4DPZns9n418LysyDxohCmO5qml3npM9liKhd3kJPJpMDWBoNBkqwG6Ct/hjvEJW9WTRF092uPrgjAwvIVt5qgFmL0AKn4cp1D6nI/2/mAq7tY24PUXSl5G1EakmJNfh8MfKTyibr8SHb2CPUd1najrbfp5g6ivIJlVxgfjUYWZIYRYmT1IKt6CfU93t6N0Yk0CaWoN8kL57nsOJOcUMWXKhEMu4DnbsFlB0QTRJrbQ9seKN/v940Tmt51JAR7omGL1zdjte0QNp1OjdJNzitN88KsOzO3F0+Ty64wuvw8Vt+Aaq5QutfrmTRB075wDQ8iGpGiiImM4JV1SFw7FR2RfF1pmUgwbhfceA0rRqQtiNW718aJsiCvn4pPosLjE+FhhHccZf50WyhVYTy/leCNSC8gbu+s4E4U134zNj+WRHNVXjRpGj/69Td7XDQiAZ2nURHoPDoRHkT4e2FuI5gfDofW86RKHGCcR6gtUgL2DOZ+mN/0Yc+CuVV/UVKa1iToU12SwYT2zxkQaSeI2I+p1WMuiVJADWD/fH2L+8AYQCfAAGpy82UgzXK32aw1l3cXDVwslquml/B34c6dn7pzgaNzwaaaAAAAAElFTkSuQmCC);border-left:0;margin-left:-2px;}.configureButtonIcon, .searchButtonIcon{height:18px;width:18px;cursor:pointer;float:left;margin-top:2px;}.configureButtonIcon{border-left:0 !important;}.mainToolbarContents{margin-top:5px;}.viewerMainToolbar{position:absolute;top:0;z-index:10;width:100%;height:39px;}.locateToolbarContainerOnMap{position:relative;top:2px;}.locateToolbarContainer{float:right;margin-right:20px;margin-top:3px;}.locateToolbarContainer .locateTextBox{width:200px;border-right:0;color:#878787;padding-left:3px;float:left;}.toolbarDropdownContainer{width:125px;position:absolute;right:150px;top:41px;z-index:100;background:#F6F6F6;max-height:250px;overflow:auto;overflow-x:hidden;}.toolbarDropdownContainer .toolbarDropdownContent{position:relative;width:95%;}.basemapsToolbarDropdown{margin:5px;padding:5px;}.basemapToolbarEntryLabel{text-align:center;margin:3px auto;font-size:8pt;color:#006400;font-family:arial, serif;}.basemapToolbarThumb{cursor:pointer;height:67px;width:100px;margin-left:2px;margin-bottom:2px;border:1px solid white;}.bookmarksToolbarDropdownBookmarkRemovableEntries, .bookmarksToolbarDropdownBookmarkEntries{margin:0 5px;}.bookmarkToolbarEntryOuter{position:relative;}.bookmarkToolbarEntry{background:white;border:1px solid #9AAEC5;padding:3px 1px 3px 5px;margin:6px 5px;cursor:pointer;width:92%;}.bookmarkToolbarEntryRemoveIcon{position:absolute;cursor:pointer;right:10px;top:5px;}.basemapThumbSelected{border:1px solid yellow;}.createBookmarkIcon{cursor:pointer;margin:5px 0 5px 5px;}.confirmDeleteBookmarkText{color:Blue;margin:0 5px;text-decoration:underline;cursor:pointer;}.locatorConfigurationEntry{margin:5px 0;color:#3F3F3F;}.locatorConfigurationEntryLabel{margin-left:3px;}.actionsToolbarIcon{float:left;margin-right:3px;}.actionsToolbarText{cursor:pointer;float:left;font-family:tahoma, sans-serif;}.actionsToolbarText:hover{color:blue;text-decoration:underline;}.actionsToolbarButton{float:right;margin-top:6px;margin-right:20px;}.smallActionsToolbarButton{float:left;margin-left:10px;}.extentActionsToolbar{float:right;margin-right:15px;margin-top:5px;}.loadingThrobberInner{float:left;width:100%;}.loadingThrobber{z-index:500;padding:5px;position:absolute;height:11px;background:white;border:1px solid #DFDFDF;border-radius:3px 3px 3px 3px;-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px;opacity:.8;}.loadingIcon{background:url(data:image/gif;base64,R0lGODlhEAALAPQAAPXv7wADCdLNzsjDxOHc3AUHDQADCSwtMn17flxbX7OvsSAhJkdHS4WChWBfY7eytCQlKgMFC0tLT93Y2NDLzOvl5TY2O9TP0Onj46+rrZqXmcK+v+Xf3wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA);margin-right:7px;vertical-align:middle;margin-left:7px;height:11px;width:16px;}.loggingWidgetEntryList{list-style-type:none;margin:0;padding:0;height:200px;overflow:auto;}.loggingWidgetEntryList li{margin:5px 0;}.loggingWidgetTypeIcon{float:left;margin-right:5px;margin-top:2px;}.loggingInfoMessage{color:green;}.loggingWarningMessage{color:black;}.loggingErrorMessage{color:red;}.loggingWidgetActionDisplayToggleIcon, .loggingWidgetActionContainerToggleEntry, .loggingWidgetActionClearIcon{float:left;}.loggingWidgetActionDisplayToggleIcon{cursor:default;}.loggingWidgetActionClearIcon{float:right;margin-right:10px;}.loggingWidgetActionDisplayToggleIcon{margin-right:5px;}.loggingWidgetActionContainerToggleEntry{margin-right:10px;}.hiddenLogMessage{display:none;}.loggingMessageText{font-size:9pt;line-height:20px;}.loggingMessageTimestamp{font-size:7pt;margin-right:3px;color:black;margin-top:3px;float:left;}.legendWidgetContent{height:100%;overflow:auto;}.viewerAddLayerLabel{color:#767676;margin-bottom:3px;}.addLayerContainer{background:white;height:100%;margin-left:10%;width:80%;}.viewerAddLayerUrlLabel{margin-top:5px;}.addLayerContainerInner{margin-top:10%;}.viewerAddLayerActions{margin-top:10px;}.viewerAddLayerButtonActions{float:right;margin-top:5%;margin-right:20px;text-align:right;width:100%;}.layerTypeContainer{float:left;width:100%;}.viewerAddLayerWorkingWKIDContainer{margin-bottom:10px;}.addedUserPersistedLayersListContainer{max-height:250px;overflow:auto;}.userPersistedLayersInfoIconIEHack{position:absolute;right:15px;}.userPersistedLayersInfoIcon{float:right;margin-right:4px;}.userPersistsedLayersClearLbl{float:right;font-size:8pt;cursor:pointer;font-family:tahoma, sans-serif;color:blue;text-decoration:underline;}.userPersistsedLayersClearContainer{height:17px;margin-top:2px;}.layersWindowContent{padding-top:0 !important;}.layersWindow{width:27%;}.tocRightClickLbl{font-size:8pt;margin:5px 0;}.tocContainer{max-height:275px;overflow:auto;}.tocIcons{width:16px;height:16px;background:transparent url(data:image/png;base64,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) no-repeat;}.folderClosed{background-position:-51px -68px;}.folderOpen{background-position:-17px -85px;}.globeChecked{background-position:0 -68px;}.globeUnchecked{background-position:0 -34px;}.graphicsLayerChecked{background-position:0 -17px;}.graphicsLayerUnchecked{background-position:-17px -68px;}.imageServiceChecked{background-position:-34px -34px;}.imageServiceUnchecked{background-position:-17px -17px;}.layerGeneric{background-position:-51px -34px;}.layerGenericChecked{background-position:0 -85px;}.layerGenericUnchecked{background-position:-34px -68px;}.layerLine{background-position:-51px -51px;}.layerLineChecked{background-position:-17px 0;}.layerLineUnchecked{background-position:-34px -51px;}.layerPoint{background-position:-34px 0;}.layerPointChecked{background-position:-51px 0;}.layerPointUnchecked{background-position:-51px -83px;}.layerPolygon{background-position:-51px -17px;}.layerPolygonChecked{background-position:-34px -17px;}.layerPolygonUnchecked{background-position:0 0;}.layerRasterIcon{background-position:-17px -51px;}.layerRasterChecked{background-position:-34px -85px;}.layerRasterUnchecked{background-position:-17px -34px;}.layerService{background-position:0 -51px;}.measurementIconSelected{border-bottom:2px solid blue;}.measurementSpacer{display:inline;margin-left:10px;margin-right:2px;padding-top:2px;}.measurementResultsContainer{margin-top:10px;}.measureIcon{float:left;margin-left:10px;cursor:pointer;}.identifyAdvancedFieldList{list-style-type:none;margin:10px 5px 10px;padding:0;max-height:150px;overflow:auto;width:100%;}.identifyAdvancedOptionsHeader{color:blue;}.identifyAdvancedOptionsContainer{float:left;width:100%;}.identifyWidgetSelect{width:100%;}.identifyLayerContainer{width:210px;float:left;}.identifyWidgetLabel{margin-bottom:3px;}.identifyResultList{list-style-type:none;margin:5px 0;padding:0;}.identifyResultContainer{margin:10px 0;padding:10px;width:90%;}.identifyResultListAttributes{list-style-type:none;padding:0;}.identifyResultListContainer{max-height:200px;overflow:auto;}.identifyResultListAttributes li{margin:3px 0;font-size:9pt;font-family:tahoma, sans-serif;}.identifyResultNameLbl{color:#AEAEAE;}.identifyResultHeader{border-bottom:1px solid #666666;padding-left:3px;margin-left:-5px;color:#666666;margin-bottom:5px;position:relative;padding-bottom:3px;}.identifyDrawActionsContainer{float:right;margin-left:15px;margin-top:15px;}.identifyServiceContainer{margin-top:5px;}.identifyWindowContent{padding-top:0 !important;}.identifyResultsClearText{cursor:pointer;text-decoration:underline;text-align:right;color:blue;margin-bottom:5px;}.identifyWidgetTabContainer{margin-bottom:10px !important;}.identifyOptionsToggleContainer{cursor:pointer;margin:10px 0;}.identifyZoomToResultIcon{position:absolute;right:0;top:0;}.reverseGeocodeContainer{padding-bottom:10px;}.reverseGeocodeActionsContainer{float:left;margin-right:10px;margin-top:5px;}.reverseGeocodeDistanceInput{width:35px;}.reverseGeocodeDistanceContainer{margin-bottom:7px;float:left;}.reverseActionsContainerOuter{height:45px;}.reverseGeocodeResultsHeader{border-bottom:1px solid #666666;margin-bottom:5px;}.reverseGeocodeResultEntry{margin:2px 0;}.drawFreehandContainer{margin-top:10px;}.drawWindowInputIconsContainer{height:32px;margin-top:14px;}.drawWindowInputIconsContainer div{margin:0 10px;}.drawFreehandContainer{margin-left:15px;}.drawFreehandCheckboxLabel{vertical-align:bottom;cursor:pointer;}.drawWindowContent{padding-top:0 !important;}.addedGraphicsListContainer{height:200px;overflow:hidden;overflow-y:auto;}.graphicsListEntryLabel{margin-left:10px;font-size:9pt;}.graphicsListLeftIcon{float:left;margin-right:5px;}.graphicsListRightIcon{float:right;margin-right:25px;}.addGraphicsActionsContainer{height:16px;margin-top:8px;}.saveGraphicsInputContainer{margin-top:3px;}.annotationOptionButtons{margin:10px;height:22px;}.annotationOptionButton{width:22px;height:22px;cursor:pointer;background:url(data:image/png;base64,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);float:left;margin-right:3px;}.annotationOptionButton.polylineUnselected{background-position:0 -22px;}.annotationOptionButton.polylineSelected{background-position:0 -132px;}.annotationOptionButton.pointUnselected{background-position:0 0;}.annotationOptionButton.pointSelected{background-position:0 -110px;}.annotationOptionButton.polygonUnselected{background-position:0 -44px;}.annotationOptionButton.polygonSelected{background-position:0 -154px;}.annotationOptionButton.rectangleUnselected{background-position:0 -66px;}.annotationOptionButton.rectangleSelected{background-position:0 -176px;}.annotationOptionButton.textUnselected{background-position:0 -88px;}.annotationOptionButton.textSelected{background-position:0 -198px;}.annotationOptionButton.clear{background-position:0 -220px;}.annotationsOptionsLabel{float:left;width:85px;}.configureGeometryOpacityLabel, .annotationsOptionsLabel, .annotationsOptionsText{font-size:8pt;color:#767676;line-height:20px;}.colorPickerText{background:none;color:gray;text-decoration:underline;border:none;cursor:pointer;margin-right:5px;font-size:9pt;}.colorPickerTextContainer{margin-top:10px;}.colorPickerTextSelected{color:#7ABCFF;}.annotationOptionContainer{margin:5px 0;}.textSymbolInputLabel{color:#3F3F3F;}.configureDrawColorPickerContainer{margin-top:10px;}.configureDrawGeometryContainer input{font-size:10pt;}.configureDrawColorPickerContainer{margin:auto;text-align:center;margin-top:10px;}.navigationHorizontalWidgetContainer{z-index:11;}.navigationTextWrapperHorizontalInner{position:relative;top:3px;}.navigationWithSmallHeaderPositioning{position:relative;left:20%;}.navigationTextToolbarHorizontalInner div{float:left;}.toolsAccordionContainer{position:absolute;width:305px;z-index:50;}.toolsAccordionContainer .dijitAccordionContainer{background:white;}.toolsAccordionContainer .dijitAccordionContainer{background:white;}.toolsAccordion{height:100%;}.accordionChild{width:95%;background:white;margin-left:2.5%;}.toolsAccordionCollapser{top:6%;z-index:10;cursor:pointer;position:absolute;}.toolsAccordionCollapserExpanded{right:30px;}.toolsAccordionCollapserCollapsed{right:0;background:#FEFEFE;border:1px solid #CECECE;-moz-border-radius:5px 0 0 5px;-webkit-border-radius:5px 0 0 5px;border-radius:5px 0 0 5px;padding:3px 2px 1px 5px;border-right:0;}.accordionMoveIcon{position:absolute;right:0;top:-10px;cursor:move !important;}.accordionMimimizeIcon{position:absolute;right:30px;top:-3px;cursor:pointer;z-index:30;}.accordionAction{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAwCAYAAAALiLqjAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAR9JREFUWEftVlEKwjAMVYeCioKiovvQD1H/dgMv4yF2HK+qr6MbtZqmrRHFdfDY6NK85jVt0umkJymQFEgK/LACZVneQhEUTqhzZd8yAh1uNyhsaePscv3uAqQDIv2pMHtAHxgKsA7gIwMa+UznMwGCsV6s8tuSPRJQrTUu6hv2IwHb17coCVUbREi4wiNBksNJ/kKiajyawC6Brj2ILpfm6jgCbxJOc+6/UzJusu9/ksTXAWfniuIpWzhnRHY5lWpIdBpyaWrbe2VuNSkki2LOxMMhYu6i9w6cax+89GCMyI2PkYXiou4irwDsvmiCWap9WQBLYKVRGAWnMMaV3RyYAiOA7YvWMNoCe+AAnAyc8a1Qjx213Q7vjSb6s77oDrmK2brCsp5KAAAAAElFTkSuQmCC);height:24px;width:24px;cursor:pointer;}.accordionAction.move{background-position:0 -24px;}.accordionAction.minimize{background-position:0 0;}.messagingIcon{position:absolute;top:-5px;left:-6px;}.statusMessageContainer{height:20px;z-index:500;padding:3px 7px;}.statusDivInner{float:left;width:100%;height:100%;text-align:center;}.statusDivMessage{line-height:20px;margin-left:4px;font-family:arial, verdana, serif;font-size:8pt;}.createBookmarkWindow{position:absolute;right:390px;height:80px;width:150px;top:40px;z-index:150;padding:5px;background:#F6F6F6;}.createBookmarkWindowHidden{top:-1000px;}.createBookmarkWindow .createBookmarkContent{margin-top:7px;}.createBookmarkWindow * .dijitTextBox{width:95%;}.createBookmarkWindow .createBookmarkActionsContent{margin:5px auto auto;text-align:center;}.basemapGalleryContainer{max-height:45%;max-width:120px;overflow-x:hidden;overflow-y:auto;margin:auto;padding:10px 25px 0 10px;position:absolute;right:15%;text-align:center;top:41px;z-index:51;}.basemapGalleryContainerHidden{display:none;}.esriBasemapGalleryLabelContainer{font-size:8pt;}.mapScaleAndCoordsContainer, .mapScaleAndCoordsContainerWithFooter{position:absolute;color:#444444;font-size:11px;padding:2px;}.mapScaleAndCoordsContainer{bottom:5px;left:200px;}.mapScaleAndCoordsContainerWithFooter{top:47px;right:200px;}.mapScaleInfoInner, .mapCoordsInfoInner, .mapImageInfoFormatInfo{padding:0 5px;}.legendWidgetContainer{height:100%;overflow:auto;}.legendWindowContent{height:88%;}.esriScalebarContainer{left:10px;bottom:5px;}.esriScalebarContainerWithFooter{top:47px;right:10px;}.esriScalebarContainer, .esriScalebarContainerWithFooter{height:30px;padding:5px;position:absolute;width:170px;}.animated{-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;-ms-animation-fill-mode:both;-o-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:0.5s;-moz-animation-duration:0.5s;-ms-animation-duration:0.5s;-o-animation-duration:0.5s;animation-duration:0.5s;}.animated.hinge{-webkit-animation-duration:0.5s;-moz-animation-duration:0.5s;-ms-animation-duration:0.5s;-o-animation-duration:0.5s;animation-duration:0.5s;}@-webkit-keyframes fadeIn{0%{opacity:0;}100%{opacity:1;}}@-moz-keyframes fadeIn{0%{opacity:0;}100%{opacity:1;}}@-o-keyframes fadeIn{0%{opacity:0;}100%{opacity:1;}}@keyframes fadeIn{0%{opacity:0;}100%{opacity:1;}}.fadeIn{-webkit-animation-name:fadeIn;-moz-animation-name:fadeIn;-o-animation-name:fadeIn;animation-name:fadeIn;}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translateY(-20px);}100%{opacity:1;-webkit-transform:translateY(0);}}@-moz-keyframes fadeInDown{0%{opacity:0;-moz-transform:translateY(-20px);}100%{opacity:1;-moz-transform:translateY(0);}}@-o-keyframes fadeInDown{0%{opacity:0;-o-transform:translateY(-20px);}100%{opacity:1;-o-transform:translateY(0);}}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-20px);}100%{opacity:1;transform:translateY(0);}}.fadeInDown{-webkit-animation-name:fadeInDown;-moz-animation-name:fadeInDown;-o-animation-name:fadeInDown;animation-name:fadeInDown;}@-webkit-keyframes fadeOut{0%{opacity:1;}100%{opacity:0;}}@-moz-keyframes fadeOut{0%{opacity:1;}100%{opacity:0;}}@-o-keyframes fadeOut{0%{opacity:1;}100%{opacity:0;}}@keyframes fadeOut{0%{opacity:1;}100%{opacity:0;}}.fadeOut{-webkit-animation-name:fadeOut;-moz-animation-name:fadeOut;-o-animation-name:fadeOut;animation-name:fadeOut;}@-webkit-keyframes bounceIn{0%{opacity:0;-webkit-transform:scale(.3);}50%{opacity:1;-webkit-transform:scale(1.05);}70%{-webkit-transform:scale(.9);}100%{-webkit-transform:scale(1);}}@-moz-keyframes bounceIn{0%{opacity:0;-moz-transform:scale(.3);}50%{opacity:1;-moz-transform:scale(1.05);}70%{-moz-transform:scale(.9);}100%{-moz-transform:scale(1);}}@-o-keyframes bounceIn{0%{opacity:0;-o-transform:scale(.3);}50%{opacity:1;-o-transform:scale(1.05);}70%{-o-transform:scale(.9);}100%{-o-transform:scale(1);}}@keyframes bounceIn{0%{opacity:0;transform:scale(.3);}50%{opacity:1;transform:scale(1.05);}70%{transform:scale(.9);}100%{transform:scale(1);}}.bounceIn{-webkit-animation-name:bounceIn;-moz-animation-name:bounceIn;-o-animation-name:bounceIn;animation-name:bounceIn;}@-webkit-keyframes bounceInDown{0%{opacity:0;-webkit-transform:translateY(-2000px);}60%{opacity:1;-webkit-transform:translateY(30px);}80%{-webkit-transform:translateY(-10px);}100%{-webkit-transform:translateY(0);}}@-moz-keyframes bounceInDown{0%{opacity:0;-moz-transform:translateY(-2000px);}60%{opacity:1;-moz-transform:translateY(30px);}80%{-moz-transform:translateY(-10px);}100%{-moz-transform:translateY(0);}}@-o-keyframes bounceInDown{0%{opacity:0;-o-transform:translateY(-2000px);}60%{opacity:1;-o-transform:translateY(30px);}80%{-o-transform:translateY(-10px);}100%{-o-transform:translateY(0);}}@keyframes bounceInDown{0%{opacity:0;transform:translateY(-2000px);}60%{opacity:1;transform:translateY(30px);}80%{transform:translateY(-10px);}100%{transform:translateY(0);}}.bounceInDown{-webkit-animation-name:bounceInDown;-moz-animation-name:bounceInDown;-o-animation-name:bounceInDown;animation-name:bounceInDown;}@-webkit-keyframes bounceInLeft{0%{opacity:0;-webkit-transform:translateX(-2000px);}60%{opacity:1;-webkit-transform:translateX(30px);}80%{-webkit-transform:translateX(-10px);}100%{-webkit-transform:translateX(0);}}@-moz-keyframes bounceInLeft{0%{opacity:0;-moz-transform:translateX(-2000px);}60%{opacity:1;-moz-transform:translateX(30px);}80%{-moz-transform:translateX(-10px);}100%{-moz-transform:translateX(0);}}@-o-keyframes bounceInLeft{0%{opacity:0;-o-transform:translateX(-2000px);}60%{opacity:1;-o-transform:translateX(30px);}80%{-o-transform:translateX(-10px);}100%{-o-transform:translateX(0);}}@keyframes bounceInLeft{0%{opacity:0;transform:translateX(-2000px);}60%{opacity:1;transform:translateX(30px);}80%{transform:translateX(-10px);}100%{transform:translateX(0);}}.bounceInLeft{-webkit-animation-name:bounceInLeft;-moz-animation-name:bounceInLeft;-o-animation-name:bounceInLeft;animation-name:bounceInLeft;}@-webkit-keyframes bounceInRight{0%{opacity:0;-webkit-transform:translateX(2000px);}60%{opacity:1;-webkit-transform:translateX(-30px);}80%{-webkit-transform:translateX(10px);}100%{-webkit-transform:translateX(0);}}@-moz-keyframes bounceInRight{0%{opacity:0;-moz-transform:translateX(2000px);}60%{opacity:1;-moz-transform:translateX(-30px);}80%{-moz-transform:translateX(10px);}100%{-moz-transform:translateX(0);}}@-o-keyframes bounceInRight{0%{opacity:0;-o-transform:translateX(2000px);}60%{opacity:1;-o-transform:translateX(-30px);}80%{-o-transform:translateX(10px);}100%{-o-transform:translateX(0);}}@keyframes bounceInRight{0%{opacity:0;transform:translateX(2000px);}60%{opacity:1;transform:translateX(-30px);}80%{transform:translateX(10px);}100%{transform:translateX(0);}}.bounceInRight{-webkit-animation-name:bounceInRight;-moz-animation-name:bounceInRight;-o-animation-name:bounceInRight;animation-name:bounceInRight;}@-webkit-keyframes rotateIn{0%{-webkit-transform-origin:center center;-webkit-transform:rotate(-200deg);opacity:0;}100%{-webkit-transform-origin:center center;-webkit-transform:rotate(0);opacity:1;}}@-moz-keyframes rotateIn{0%{-moz-transform-origin:center center;-moz-transform:rotate(-200deg);opacity:0;}100%{-moz-transform-origin:center center;-moz-transform:rotate(0);opacity:1;}}@-o-keyframes rotateIn{0%{-o-transform-origin:center center;-o-transform:rotate(-200deg);opacity:0;}100%{-o-transform-origin:center center;-o-transform:rotate(0);opacity:1;}}@keyframes rotateIn{0%{transform-origin:center center;transform:rotate(-200deg);opacity:0;}100%{transform-origin:center center;transform:rotate(0);opacity:1;}}.rotateIn{-webkit-animation-name:rotateIn;-moz-animation-name:rotateIn;-o-animation-name:rotateIn;animation-name:rotateIn;}@-webkit-keyframes rotateOut{0%{-webkit-transform-origin:center center;-webkit-transform:rotate(0);opacity:1;}100%{-webkit-transform-origin:center center;-webkit-transform:rotate(200deg);opacity:0;}}@-moz-keyframes rotateOut{0%{-moz-transform-origin:center center;-moz-transform:rotate(0);opacity:1;}100%{-moz-transform-origin:center center;-moz-transform:rotate(200deg);opacity:0;}}@-o-keyframes rotateOut{0%{-o-transform-origin:center center;-o-transform:rotate(0);opacity:1;}100%{-o-transform-origin:center center;-o-transform:rotate(200deg);opacity:0;}}@keyframes rotateOut{0%{transform-origin:center center;transform:rotate(0);opacity:1;}100%{transform-origin:center center;transform:rotate(200deg);opacity:0;}}.rotateOut{-webkit-animation-name:rotateOut;-moz-animation-name:rotateOut;-o-animation-name:rotateOut;animation-name:rotateOut;}@-webkit-keyframes lightSpeedIn{0%{-webkit-transform:translateX(100%) skewX(-30deg);opacity:0;}60%{-webkit-transform:translateX(-20%) skewX(30deg);opacity:1;}80%{-webkit-transform:translateX(0%) skewX(-15deg);opacity:1;}100%{-webkit-transform:translateX(0%) skewX(0deg);opacity:1;}}@-moz-keyframes lightSpeedIn{0%{-moz-transform:translateX(100%) skewX(-30deg);opacity:0;}60%{-moz-transform:translateX(-20%) skewX(30deg);opacity:1;}80%{-moz-transform:translateX(0%) skewX(-15deg);opacity:1;}100%{-moz-transform:translateX(0%) skewX(0deg);opacity:1;}}@-o-keyframes lightSpeedIn{0%{-o-transform:translateX(100%) skewX(-30deg);opacity:0;}60%{-o-transform:translateX(-20%) skewX(30deg);opacity:1;}80%{-o-transform:translateX(0%) skewX(-15deg);opacity:1;}100%{-o-transform:translateX(0%) skewX(0deg);opacity:1;}}@keyframes lightSpeedIn{0%{transform:translateX(100%) skewX(-30deg);opacity:0;}60%{transform:translateX(-20%) skewX(30deg);opacity:1;}80%{transform:translateX(0%) skewX(-15deg);opacity:1;}100%{transform:translateX(0%) skewX(0deg);opacity:1;}}.lightSpeedIn{-webkit-animation-name:lightSpeedIn;-moz-animation-name:lightSpeedIn;-o-animation-name:lightSpeedIn;animation-name:lightSpeedIn;-webkit-animation-timing-function:ease-out;-moz-animation-timing-function:ease-out;-o-animation-timing-function:ease-out;animation-timing-function:ease-out;}@-webkit-keyframes lightSpeedOut{0%{-webkit-transform:translateX(0%) skewX(0deg);opacity:1;}100%{-webkit-transform:translateX(100%) skewX(-30deg);opacity:0;}}@-moz-keyframes lightSpeedOut{0%{-moz-transform:translateX(0%) skewX(0deg);opacity:1;}100%{-moz-transform:translateX(100%) skewX(-30deg);opacity:0;}}@-o-keyframes lightSpeedOut{0%{-o-transform:translateX(0%) skewX(0deg);opacity:1;}100%{-o-transform:translateX(100%) skewX(-30deg);opacity:0;}}@keyframes lightSpeedOut{0%{transform:translateX(0%) skewX(0deg);opacity:1;}100%{transform:translateX(100%) skewX(-30deg);opacity:0;}}.lightSpeedOut{-webkit-animation-name:lightSpeedOut;-moz-animation-name:lightSpeedOut;-o-animation-name:lightSpeedOut;animation-name:lightSpeedOut;-webkit-animation-timing-function:ease-in;-moz-animation-timing-function:ease-in;-o-animation-timing-function:ease-in;animation-timing-function:ease-in;}.configureViewerContainer{height:100%;margin-left:1%;width:98%;}.configureViewerContainer .configureViewerFirstEntry{margin-top:1%;}.configureWindowContent{padding-top:0 !important;}.configureViewerEntryHeader{font-size:12pt;margin-bottom:6px;color:#767676;}.configureViewerEntryLabel{font-size:9pt;font-family:tahoma, sans-serif;}.configureViewerEntry{margin:10px 0;padding:10px;}.configureViewerWarning{color:blue;font-size:9pt;margin-top:5px;}.configureViewerEntryContent{margin-left:20px;}.configureViewerContainer * .addedElementLabel{font-size:10pt;color:#767676;}.configureViewerContainer * .viewerConfigurationAddedElement{margin-top:15px;}.configureEntryRemoveIcon{float:left;margin-right:7px;margin-top:1px;}.referenceAddedLayersContainer, .basemapAddedLayersContainer, .addedLocatorsContainer{max-height:100px;overflow:auto;overflow-x:hidden;}.persistedConfigureViewerEntryList{max-height:200px;overflow:auto;}.configurePersistedViewerEntryLabel{font-size:9pt;font-family:tahoma, sans-serif;}.timeSliderCurrentValueDisplay{color:#767676;margin:5px 5px 7px;}.timeSliderCurrentValueLabel{margin-bottom:3px;color:black;}.timeSliderUseRangeContainer{margin:0 0 15px;}.timeSlidersLayerSelectContainer{margin:13px 2px;}.timeSliderCurrentValuesAndActionsContainer{float:right;}.timeSliderLayerActions{height:16px;}.timeSliderDayOnlyMode{margin-right:40%;}.transparencySliderLayerName{padding-bottom:10px;font-size:9pt;}.layerTransparencyContent{width:100%;}.layerTransparencyContent{height:100%;}.layerTransparencySliderEntry{height:70px;margin:10px 0;padding:5px;font-size:7pt;}.layerTransparencyWindowContent{height:80% !important;overflow:auto;overflow-x:hidden;}.uploadDndContainer{border:1px dashed gray;background:#F7F7F7;height:100%;margin-top:10px;width:100%;}.uploadImageHtml5DropInner{text-align:center;height:100%;padding:7%;font-size:13pt;color:gray;}.uploadImageDivYellow{background:#FFF6D1;color:green;}.validCoordsCSVPointUploadContainer{margin-top:5px;}.validCoordsCSVPointUploadLbl{color:gray;}.validCoordsCSVPointUploadValue{color:blue;margin-left:10px;}.searchPortalContentContainer{margin-top:10px;}.searchPortalResultCountContainer{margin-bottom:5px;}.portalResultsListContainer{max-height:250px;overflow:auto;}.searchPortalActions{margin:5px 0;}.portalSearchWindowContent{padding-top:0 !important;}.searchPortalUrlLabel{float:left;}.portalSearchLoginClickContent{position:absolute;right:0;height:20px;margin-right:20px;cursor:pointer;text-decoration:underline;}.searchPortalActionsContent{height:20px;}.searchPortalTabContainer{line-height:26px;font-weight:normal;}.searchPortalTabContainer span{border:1px solid #DFDFDF;border-top:0;cursor:pointer;padding:5px;margin:0 3px;-moz-border-radius:0 0 3px 3px;-webkit-border-radius:0 0 3px 3px;border-radius:0 0 3px 3px;}.searchPortalAccountLockIcon{display:inline-block;}.portalLoginClickContent{position:absolute;right:0;height:20px;margin-right:20px;cursor:pointer;text-decoration:underline;}.portalAccountLockIcon{display:inline-block;}.portalWebMapPublishTextBox{width:80%;}.portalUploadButtonContainer, .portalSubmitShareButtonContainer{margin:10px;float:right;}.portalGroupShareList{list-style-type:none;}.portalPublishShareWithLabel{margin-bottom:5px;}.portalUploadFolderSelect{width:83%;}.publishToPortalUrlLabel{float:left;}.portalPublisherActionsContent{height:20px;}.commonIcons16{background:url(data:image/png;base64,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);height:16px;width:16px;cursor:pointer;}.commonIcons16.success{background-position:0 0;}.commonIcons16.add{background-position:0 -26px;}.commonIcons16.remove{background-position:0 -51px;}.commonIcons16.bookmark{background-position:0 -78px;}.commonIcons16.warning{background-position:0 -104px;}.commonIcons16.gear{background-position:0 -130px;}.commonIcons16.mapGo{background-position:0 -156px;}.commonIcons16.list{background-position:0 -182px;}.commonIcons16.grid{background-position:0 -208px;}.commonIcons16.locationGoTo{background-position:0 -234px;}.commonIcons16.layer{background-position:0 -260px;}.commonIcons16.pencil{background-position:0 -286px;}.commonIcons16.revert{background-position:0 -312px;}.commonIcons16.triangle{background-position:0 -338px;}.commonIcons16.trash{background-position:0 -364px;}.commonIcons16.upload{background-position:0 -390px;}.commonIcons16.wrench{background-position:0 -416px;}.commonIcons16.time{background-position:0 -435px;}.commonIcons16.application{background-position:0 -452px;}.commonIcons16.information{background-position:0 -471px;}.commonIcons16.layerHide{background-position:0 -490px;}.commonIcons16.layerShow{background-position:0 -512px;}.commonIcons16.deleteCross{background-position:0 -530px;}.commonIcons16.error{background-position:0 -550px;}.commonIcons16.sql{background-position:0 -567px;}.commonIcons16.up{background-position:0 -597px;}.commonIcons16.down{background-position:0 -582px;}.commonIcons16.slider{background-position:0 -611px;}.commonIcons16.filter{background-position:0 -627px;}.commonIcons16.filterHighlight{background-position:0 -647px;}.commonIcons16.filterReset{background-position:0 -666px;}.commonIcons16.revertGray{background-position:0 -683px;}.commonIcons16.upWithBar{background-position:0 -699px;}.commonIcons16.downWithBar{background-position:0 -719px;}.commonIcons16.codePage{background-position:0 -741px;}.commonIcons16.shoppingCartEmpty{background-position:0 -761px;}.commonIcons16.shoppingCartAdded{background-position:0 -778px;}.commonIcons16.clock{background-position:0 -799px;}.commonIcons16.refresh{background-position:0 -821px;}.commonIcons16.binoculars{background-position:0 -841px;}.commonIcons16.disk{background-position:0 -866px;}.commonIcons16.deleteSmall{background-position:0 -888px;}.commonIcons16.magnifyingGlass{background-position:0 -909px;}.commonIcons16.delete{background-position:0 -929px;}.commonIcons16.question{background-position:0 -949px;}.commonIcons16.infoBlock{background-position:0 -969px;}.commonIcons16.weather{background-position:0 -990px;}.commonIcons16.worldAdd{background-position:0 -1059px;}.commonIcons16.lockGo{background-position:0 -1014px;}.commonIcons16.previousGray{background-position:0 -1200px;}.commonIcons16.nextGray{background-position:0 -1216px;}.commonIcons16.previous{background-position:0 -1037px;}.commonIcons16.next{background-position:0 -1078px;}.commonIcons16.globeGoTo{background-position:0 -1100px;}.commonIcons16.print{background-position:0 -1121px;}.commonIcons16.pushpin{background-position:0 -1142px;}.commonIcons16.blocks{background-position:0 -1160px;}.commonIcons16.layerList{background-position:0 -1179px;}.commonIcons16.firstItem{background-position:0 -1232px;}.commonIcons16.lastItem{background-position:0 -1248px;}.commonIcons16.upload{background-position:0 -1268px;}.commonIcons32{cursor:pointer;background:url(data:image/png;base64,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);height:32px;width:32px;float:left;}.commonIcons32.lineUnselected{background-position:0 0;}.commonIcons32.lineSelected{background-position:0 -42px;}.commonIcons32.pointUnselected{background-position:0 -84px;}.commonIcons32.pointSelected{background-position:0 -126px;}.commonIcons32.polygonUnselected{background-position:0 -168px;}.commonIcons32.polygonSelected{background-position:0 -210px;}.commonIcons32.rectangleUnselected{background-position:0 -252px;}.commonIcons32.rectangleSelected{background-position:0 -294px;}.commonIcons32.textUnselected{background-position:0 -336px;}.commonIcons32.textSelected{background-position:0 -378px;}.commonIcons32.polylineUnselected{background-position:0 -418px;}.commonIcons32.polylineSelected{background-position:0 -460px;}.commonIcons32.locationCrosshair{background-position:0 -502px;}.socialMediaWindowContent{padding-top:0 !important;}.socialMediaTabContainer{margin-bottom:3px !important;font-weight:normal;}.socialMediaTabContainer .socialMediaTabWrapper{border:1px solid #DFDFDF;border-top:0;cursor:pointer;padding:12px;margin:0 3px;-moz-border-radius:0 0 3px 3px;-webkit-border-radius:0 0 3px 3px;border-radius:0 0 3px 3px;}.socialIcons{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAQBElEQVR4Xu2cCXBV1RnHv7wledn3fYUQEggh0QSIYZGtiAUG0GrVKow4VqkdFduRAlZtKyIOTsaVVqY4ioplpEEFoZZFA8SQhUVIyL6QhezJC9le3tb/uVnKy7s35CTP5/jmfTMMSe6555z7u99Zvu9833Ugu1iUgINFa7NXRnagFlYCO1A7UAsTsHB1khp6/PjxNXKZLB3tRVm4TanqqvQGw6alS5ce4mlvS94Pa2QkT8eDWKWfRqIqA+k37UiZKdpPUaAMZnR0dEZ4eDjJ5XKe5xt3Wb1eTzU1NVReXr52rFAZzPlBgRl3BvmRi1w27rZ5buzRG+i7hhY63dC4VgyqKNBTJ09Wzps/P4rB7O/v52lv3GUdHR2JQT1z+nTVosWLJ42lom15BZWbE2OjnAEzp71nLLdMuMxsbxfqBdSdl4qrtqfEm/VTCqhxwcKF1K/RTLgDPBU4OjlR5rffEoCOabF8Ia/AuCUpjvLVvTzNTLhssqcz7bhYRK+kxJv1UxLo/DvvJK2VtHPoCZXQ0tPffccF9A+JsXRJ3ScJqaXhOtWWl5GLmxuFRccI/09UEj1V9MalYj6gGPKk1Won2jbX/Uqlkg15LqBPJUylwk5xoK2AeTTnMjUGTiOV5gaFtZbRihXLSYEXNxGZ7qGidy+X8AGdO2/eTwL07JkzXEAfmx5Dpd3iU1NmQQV97TpjmJ1C10+P6K5QbFzcRHhSjKsT/bOwlA9o2ty5PwnQrLNnuYA+FDeFqnrEF85DpW2UpwgxgTdHU02r4gInBDTKxZE+LSrjA5qalkY6Kw95BYZ8dlYWF9B7pk6mul7xqelIeQedczCFN9vQSCuneE0IaKizkv5dUsEHdE5qKul0ugk1zHuzQqGgc9nZXECXR0+iZo14P4+Vt9M58jfpRrK2jtK8DLfsmoevLymU4nOtv5OCjpVX8gGdNWcO6a0MVA6guefOcQFdOCmS2vv1ooC+KWujHKOfybWIzmvkVldwS6A+1Efz7r5bFKq3o5y+razmA5oye7Yo0A9PFNLBs2XU1TcwzNxUSrp37hRav2S6aCfLPzpD1Rm5pOsaWDgUbk4UuXYWRa+bZ1aeAc3LyeECOicygrq04hp3vLSFco2+t4QnVsBJ00UrqIpiExLMLrspZXSu+hof0ORZs8yA/vadE5Td4kptigDSOwyYpHKjnnx0TZTq103v/36JSePZGz8g/5weCm93IYVhwDTUyQxU491DzbNdKHX3oyblGdD83FwuoIlh4dRnEAd6sqSF8vTe4wLKboo3NNGK+GCz+1UyGV2qreEDentysmAKDslHJ6/Sy1kO1CdzEe2gytBDL6cZad3iacL1in1nyW97EblrlKLlbzhpqWVbHE1+ZO7wdWbqns/P5wIaGxJGOiNcFiLybXET5es8xw00zV1Ld0SYGwIKBwcqrq/lA3rb7bebAJ39ah7VjVgxR/Y01NhIOVtThD9Xp+2hyAbVqA9THdRHkVmPmwC9cP48F9BJwaFkkACaWdRA57Ue4wa6PsaZvFXmxqQMQCuv1/EBTWJAb1qUIndUDw9zqR6y4V+9JVK4rI/Zh2E+ukmukxlJXvrI/4FiyF/kBBoaaLrPvLlvZ65epwv9phrmKTeQHzbmo4mz3IFS/B3J31WG6URc++sa6/mAzhgxGYfvrBvTm67ZHCqUk035ZEzlDWW/MSl35fJlLg0NDDCf44Yq/L6wji5oXE3qT3XV0IqEgT5KiR4Mu+BRYq46KWlsus4HNH7G/002VmnE6/VjAnTt+QGNkcd8Oqby+tKHTMoVXLnCDVQrMeRzCmrpYp+zSf1Jql6aHR82pr5JFVJiyHMDnR4fb1JfXPp16r3FPt9ZQVS0aUBjZIkHSNYrvj8cqtjgLCfDpftN2iksKOACGuAfRH3io5JyC2rohx7T4T3TRUOz4sMnBJRNq03NDXwaOm266b5yd76Wdp5qHbUjmxf50sbkgVXdZU8paXflj1pe+cdk6nk8xqTM1cJCTqCB1CUxMs9fqaYfuk2tnanGNkpLNVUWXrpu2AE2NTfyAY1jHhmo9pCoVCpatreRLl8Xd5UlBKvomw2B1Nc3cJ2Vp5VHyHClRbS/shmwYA6vGC4vFMLQLSoq4gLq7xdAaonF72plM+U1mPbX3dBL0zRV5B4g7SBxcnUjL+xv5RKmpycW0+aWJj6gU2NjwdN0lfbw8KBdmR20O6ud1H0Dw9lTJaeNad70xwVe1NnZaQKPlTekXyTdnstkVA9YSg6eTqR4PIFkm5LMyhsBtKS4mAuon68/tUkANWr0tD+v1uyFumg6yEWjllRMpa6PPHWdNGPZcnIE3JHiA6Atrc18QGNiYsgBFsFIcXZ2FrRvCDaDwLSyt1f8GIKnvBEWT2lpKRdQX18/ataLH9A5yRzoi+wqUgMsr8gNOkrx1lDUTHPT0x9br9bWFj6g0VOmkEwEKG/HeMobALS8rIwPqI8vXZcAyto23NDQvy/U8HRjuOwkFx0lp5g7o4MZ0LZWPqCTJ08mmZWOkIeewABTt6Kigguoj7cP1eqlj7rdcSJ6qaQBtnc7N9SZwa4UPdV8ixUm11Nbexsf0KioKGLOCmsKs8yqqqq4gHp7+dC1UTSU9T8U/suSmjY6U9pIfdqxD/+VKWDgZm4+R0BD2zs4gUZGRGCVE3ds/FiQ9TghqL52jQuol5c3VY2ioUN99VPKyRNrbE1rNzWpe0jd208qpYKcFOLzb4SfO+lhonaLWEtR0NCOjnY+DWVRI+xIwprCjlxY9AjPubynpxeV68c2kmCikyumAGcsVszaYboq5Vjpgv0pBpPxiJbrSK3u4AMaFho64eNW3pehQxxAbV0dH1APTyoZI1De/kiVn8qAdqq5gFaGhIREsV2oEtEc1hAtolSYBVlfX88ViuPq7hGlQEeL9dYZTbFyLfyvRN03OsceisOCxXy8vTNcXFysFpHLYPb09GD1bOcKFnNwdM1wc1QSg2oNYTC7+rVk7O8ee7AY65g9nFH89YwrnNEab9pW27DSQLFVfObPZQdq4XdtB2oHamECFq7OrqF2oBYmYOHq7BpqB2phAhauzq6h1gL6akDAGsTwpOPsKMrCbYpWh7OpKrjSNm1tauLKpLNG33jaENVQBnPRmjUZKS+9RIoQ6dghnoZuVVZXX095f/kLnTp0aO3PGaoo0NcCAys35eVFWQvmEGwGNT0lpepPjY1jyqS71Uv6Ka6LAt0ZFGTchKOIkVKGE8mHH36Y3nrrLZqNCGd25Lt+/Xp68cUXafny5RbpfzqOXjY3NPxs53ZJoE9XVpoB6u7uJnYa+sADD9Cbb75JH374IT355JOUjyDZ6SNCd8ZL961Jk2wT6O+gfWLy2muv0a5du4TTSaadLLn2yy+/FAIfWMRzS0uLkD0SHBw8fK4PLzyx5Fg/Pz+qra0VAiXYz2LyHgIsbFJDf3v1qugDI/2aUlJShGH/3HPPCf8/+OCDQpLYM888Q/v37xfue/TRR+mNN94Qfk5KSqJ5yMx79913KQFxp+z3ffv2idb//rRptgl0AwJfxYRpH/LZqRgxSCzSIxdJBhGY99iwZ/Po4cOHBQ1kZU4jb5MFnTGI85E7+t5779EMxJ0yoB9//LFo/XtR1iY19BGEZkvJBx98QNu2bRO0cPv27UKxjIwMevbZZ6kA8Z1MW+MRX8rm2fvuu4/mIOcpFYlk7PfbbrtN+Ld3717R6vchFN0mgT6IfCEpYdq4du1a+uSTTwTNY3LgwAHaunUr5eXlCUCTkUXyyiuv0Lp162gu8kbZriA9PZ1mIV2HaeiePXtEq9+PcjYJ9FdIYpWS89BepnlMy+5EXj2TgwcP0gsvvEDZSC1kQJlWvgTDgAFdiI8ZsHmXLWZpyCFNTEyk3bt3i1b/OeDbJNA1+BCAlFy4cEHYOjEtW7BggVAsC0mvGzZsEDSUhTgygEPXGdDFixcL+1X2Atic+s4774hWfwjXbRLoyhMnRgXKNvhskRnSUBZCwxYltpXy8vKit99+mzIzM4WfmVay4LNVq1bR66+/Lqz4UkAPL1lim0CX/+c/kkCrq6uFBeaJJ56gWEQ6D8nRo0eFPSlb/ZkGL1q0SLj0HbT9s88+E1b+OoTauLu7CwuamBy76y7bBPqLr7+WBPpjXvjvL39pm0BjAwJ+TG6SdRc3Ndkm0Id8fH4SoJ+2tdkm0Ae8x58WPZE38Vl7u20CvX8QKMvy8cUWxxPODiOcH0JmCGLvz2HRCZf4UFYFHB9zsQNoevpp0jc0cPE9YKtA78V2hwlLllFhCxQEc9EN3+HoQS5SPzxKuWvW0GSJj7xcgZd/NbZd17DAaEXcgKMRPtjRYZsautbTNHG/FSZmKjbyuS+/TF7YAgmwUcYJAbkyLCQGvAAtkhycALsQ2rz61Ckqwaa/HZt8JfKY3G/cGObYg21TMzQ9BC9EiZjQmyVDrbZNoKtHAL0Oy2chPETfw7z0+fxzgYEatvp0WD11q1eTL6ygdniSDPffT0VBQbQa37CrOHKEovAhlB5AOge4YQDYeMcdNA8vRgb4Pc3NlAOfQDBewpB8YatAVyGt8GZpgNNiEXyY2QDn+a9/CZc0sHqmAWIFhnbwX/9KnbDRuwG3GECZ6fo9TNFOQLvrq6/oGObcCJisIQBdj2vtuDcWvtMamKoq3DskX2FKsUnTcwWG5c3SCGfHYgD9HkA9Boe8ZudOioeGlgFoCAM6cyZ1YW4txpC/B9AK4Vnqg1bGwc7Ph2Y7Y15NgBcrHzD1X3xBfn/+M7nD0mqFlioGv29yBFODTQK9ewTQJgBdAqBZAOo+CFQ7CLQEQEMB9AaAdgJoCYDey4BimHdjjpyOn/O2bCFnfNcuHk5nNu+yIxP20Zb6khJqvOceUgx+CfKorQJdPuKzkAzoUsyhWdAqt0GgOmgam0NLME+G/u1v1AWgagx5BvRXcIwUYiHrGgSaD4e0Cn9Lhoc/e8cO6oL/lCXLOmDRCoIWD6VfHevqsk0NXTYCaDOA/gJAzwKo6yBQA/ybMUiyLYdW+kED4UmmlpUrqRRA7wO8i3AyazGUEzHMM3He5HnyJCVcukTZmzeTF3wFjbjPEfOt19//Ppxt8o2tAl3qavrxk2a44O766CPKhNPYDZ56Jk7wwIfjaKMC+9TIjRupC3vIZrjoSpE09msM84v/+Ac54Awq8amn6MtlyygMibF+uFcOo+EqvFWLcV8OXorj++8PT9fHcVRtk3PokhFAb0ydSknQsgIAUWGRYdIC7Yx//nlqwmct9DhW9sYCo8a82gA/QBrCaurh9ffC/NqBebIFx89ugKuLjCSvxx4jH5w5NWBO7cYWSgmtHJITtgiUheIkqVRRPlZO727D9HCxr8/2QnFYsFigUpkRgs23taAymPXQ4Eat1vaCxdjws4czjuZxkL72sw3KGt/j/vh32YFamLEdqB2ohQlYuDq7hloY6P8AEWhNvkdri1IAAAAASUVORK5CYII=);height:32px;width:32px;}.socialIcons.flickr{background-position:-5px -5px;}.socialMediaTabIcon{display:inline-block;vertical-align:-12px;margin-top:5px;}","url:dojox/layout/resources/ResizeHandle.css":".dojoxResizeHandle{float:right;position:absolute;right:2px;bottom:2px;width:13px;height:13px;z-index:20;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAAtUlEQVR42mL8//8/AyUAIICYGCgEAAFEtAFnz551AuKTQJyALA4QQKS4oA6IzYC4C1kQIIBIMWAZEP+F0nAAEECMlAYiQACx4PMzkGoH4unGxsYLZs2aBeenpaUtgKkDCCAmEvyMNQwAAoiJBD9jDQOAAKI4DAACiAlXPKenpzsB8UkgBvMZGRmdgPgkEKOkA4AAYiLBz1jDACCAmEjwM9YwAAggisMAIIAozkwAAUSxAQABBgCBl0L7jJdTdgAAAABJRU5ErkJggg==);line-height:0px;}.dijitRtl .dojoxResizeHandle{float:right;left:0px;right:auto;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9oFFA0aMPbGg3UAAACNSURBVDjLzdOxDUIxDATQO8RGkRggk6TKiRFoGIARMgBj/D7FjYRCgxDoC4WfUHCN5caynmy21jCTHSbzNsB2sl1tx9ENLgAOAM6jA64Abo/6VTiLuH9tSikJwBHAKee82H72IYRlxKBr0jPomvCnh0QykawkIwBISpKqpPjpTrYarEy2GqxM+F/PNJI7XEZC+6MN6oYAAAAASUVORK5CYII=);}.dojoxResizeNW{cursor:nw-resize;}.dijitRtl .dojoxResizeNW{cursor:ne-resize;}.dojoxResizeNE{cursor:ne-resize;}.dijitRtl .dojoxResizeNE{cursor:nw-resize;}.dojoxResizeW{cursor:w-resize;}.dojoxResizeN{cursor:n-resize;}.dojoxResizeHandleClone{position:absolute;top:0;left:0;border:1px dashed #666;z-index:999;}"}});define("esriviewer/loader/ViewerLoader",["dojo/_base/declare","xstyle/css!../theme/coreTheme.css","dojo/Deferred","dojo/_base/window","dojo/_base/lang","dojo/topic","dojo/_base/connect","dojo/dom-class","dojo/dom-construct","../base/ViewerGlobals","../manager/ViewerManagerWindow","../util/RegExpUtils","../util/ViewerUtils","../util/GeometryUtils","../map/geometry/base/ProjectionUtils","dojo/on","dojo/io-query","xstyle/css","./base/ViewerPlacementWindow","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/layout/StackController","dijit/layout/AccordionPane","xstyle/css!dojox/layout/resources/ResizeHandle.css"],function(_ceb,_cec,_ced,_cee,lang,_cef,con,_cf0,_cf1,_cf2,_cf3,_cf4,_cf5,_cf6,_cf7,on,_cf8,Css,_cf9){return _ceb([],{isDebug:false,constructor:function(_cfa){lang.mixin(this,_cfa||{});this._initPageResizeListener();this.viewerConfigurationParameters={useProxyForConfig:false};this.createGlobalClasses();this.initCss();this.processConfigurationSettings();this.createViewerPlacementWindow();this.createViewerManager();this.tweakUI();},_initPageResizeListener:function(){on(window,"resize",lang.hitch(this,function(){_cef.publish(VIEWER_GLOBALS.EVENTS.WINDOW.REPOSITION_ALL);}));},initCss:function(){Css.load("dijit/themes/tundra/tundra.css",require,function(){});Css.load("esri/css/esri.css",require,function(){});var _cfb=location.pathname.replace(/[^\/]+$/,"")+"css/overrides.css";Css.load(_cfb,require,function(){});_cef.publish(VIEWER_GLOBALS.EVENTS.CSS.CORE_UI_THEME_LOADED);},createViewerPlacementWindow:function(){this.viewPlacement=new _cf9();},tweakUI:function(){if(VIEWER_UTILS.isHtml5FileUploadSupported()){con.connect(_cee.body(),"dragover",function(e){e.stopPropagation();e.preventDefault();e.dataTransfer.effectAllowed=e.dataTransfer.dropEffect="none";});}_cf0.add(_cee.body(),["defaultTextColor","defaultFont","defaultFontSize"]);},createGlobalClasses:function(){window.VIEWER_GLOBALS=this.createGlobals();window.VIEWER_UTILS=this.createUtils();window.GEOMETRY_UTILS=this.createGeometryUtils();window.REG_EXP_UTILS=this.createRegExpUtils();window.PROJECTION_UTILS=new _cf7();},processConfigurationSettings:function(){if(window&&window.location&&window.location.href){var _cfc=window.location.href.substring(window.location.href.indexOf("?")+1,window.location.href.length);this.windowQueryObject=_cf8.queryToObject(_cfc);if(this.windowQueryObject!=null&&lang.isObject(this.windowQueryObject)){if(this.windowQueryObject.viewerConfig!=null){this.viewerConfigurationParameters.configUrl=this.windowQueryObject.viewerConfig;this.viewerConfigurationParameters.useProxyForConfig=true;}if(this.windowQueryObject.viewerPositionConfig!=null){this.viewerConfigurationParameters.viewerPositioningConfigUrl=this.windowQueryObject.viewerPositionConfig;this.viewerConfigurationParameters.useProxyForPositionConfig=true;}}}},createGlobals:function(){return new _cf2();},createGeometryUtils:function(){return new _cf6();},createUtils:function(){return new _cf5({isDebug:this.isDebug});},createRegExpUtils:function(){return new _cf4();},createViewerManager:function(){window.VIEWER_MANAGER=this.createViewerManagerWindow();return window.VIEWER_MANAGER;},createViewerManagerWindow:function(){return new _cf3(this.viewerConfigurationParameters);}});});},"*now":function(r){r(["dojo/i18n!*preload*esriviewer/nls/esriviewer*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});define("esriviewer/esriviewer",[],1);