//>>built
define("dgrid/ColumnSet",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/aspect","dojo/query","dojo/has","put-selector/put","xstyle/has-class","./Grid","dojo/_base/sniff","xstyle/css!./css/columnset.css"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){var _b="data-dgrid-column-set-id";_9("safari","ie-7");function _c(_d){var _e=_d.domNode,_f=_d._columnSetScrollers,_10=_d._columnSetScrollerContents,_11=_d.columnSets,_12=0,_13=0,i,l,_14,_15;for(i=0,l=_11.length;i<l;i++){_12+=_13;_14=_6(".dgrid-column-set["+_b+"=\""+i+"\"]",_e)[0];_13=_14.offsetWidth;_15=_14.firstChild.offsetWidth;_10[i].style.width=_15+"px";_f[i].style.width=_13+"px";_f[i].style.overflowX=_15>_13?"scroll":"auto";_f[i].style.left=_12+"px";}};function _16(_17,row){var _18=_17._columnSetScrollLefts;function _19(){_6(".dgrid-column-set",row).forEach(function(_1a){_1a.scrollLeft=_18[_1a.getAttribute(_b)];});};if(_7("ie")<8||_7("quirks")){setTimeout(_19,1);}else{_19();}};return _2(null,{columnSets:[],createRowCells:function(tag,_1b){var row=_8("table.dgrid-row-table");var tr=_8(row,"tbody tr");for(var i=0,l=this.columnSets.length;i<l;i++){var _1c=_8(tr,tag+".dgrid-column-set-cell.dgrid-column-set-"+i+" div.dgrid-column-set["+_b+"="+i+"]");_1c.appendChild(this.inherited(arguments,[tag,_1b,this.columnSets[i]]));}return row;},renderArray:function(){var _1d=this,_1e=this.inherited(arguments);_3.when(_1e,function(_1f){for(var i=0;i<_1f.length;i++){_16(_1d,_1f[i]);}});return _1e;},renderHeader:function(){this.inherited(arguments);this.bodyNode.style.bottom="17px";var _20=this.columnSets,_21=this.domNode,_22=this._columnSetScrollers,_23=this._columnSetScrollerContents={},_24=this._columnSetScrollLefts={},_25=this,i,l;function _26(){var _27=this.scrollLeft;var _28=this.getAttribute(_b);if(_24[_28]!=_27){_24[_28]=_27;_6(".dgrid-column-set["+_b+"=\""+_28+"\"],.dgrid-column-set-scroller["+_b+"=\""+_28+"\"]",_21).forEach(function(_29){_29.scrollLeft=_27;});}};function _2a(_2b,i){var _2c=_22[i]=_8(_21,"div.dgrid-column-set-scroller.dgrid-scrollbar-height.dgrid-column-set-scroller-"+i+"["+_b+"="+i+"]");_23[i]=_8(_2c,"div.dgrid-column-set-scroller-content");_4(_2c,"scroll",_26);};function _2d(){_c(_25);};if(_22){for(i in _22){_8("!",_22[i]);}}else{_5.after(this,"resize",_2d,true);_5.after(this,"styleColumn",_2d,true);_4(_21,".dgrid-column-set:dgrid-cellfocusin",_26);}_22=this._columnSetScrollers={};for(i=0,l=_20.length;i<l;i++){_2a(_20[i],i);}_c(this);},styleColumnSet:function(_2e,css){var _2f=this.addCssRule("#"+this.domNode.id+" .dgrid-column-set-"+_2e,css);_c(this);return _2f;},_destroyColumns:function(){var _30=this.columnSets.length,i,j,k,_31,len,_32,_33,_34;for(i=0;i<_30;i++){_32=this.columnSets[i];for(j=0,_31=_32.length;j<_31;j++){_33=_32[j];for(k=0,len=_33.length;k<len;k++){_34=_33[k];if(typeof _34.destroy==="function"){_34.destroy();}}}}},configStructure:function(){this.columns={};for(var i=0,l=this.columnSets.length;i<l;i++){var _35=this.columnSets[i];for(var j=0;j<_35.length;j++){_35[j]=this._configColumns(i+"-"+j+"-",_35[j]);}}},_setColumnSets:function(_36){this._destroyColumns();this.columnSets=_36;this._updateColumns();},setColumnSets:function(_37){_1.deprecated("setColumnSets(...)","use set(\"columnSets\", ...) instead","dgrid 1.0");this.set("columnSets",_37);}});});